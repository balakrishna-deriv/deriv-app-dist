(self.webpackChunk_deriv_p2p=self.webpackChunk_deriv_p2p||[]).push([[462],{5882:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>a});var n=l(2609),r=l.n(n)()((function(e){return e[1]}));r.push([e.id,".filter-modal-no-result{display:flex;flex-direction:column;padding:50% 0.8rem;justify-content:center;align-content:center}.filter-modal-no-result__title{line-height:1.43;letter-spacing:normal;margin-bottom:0.8rem}.filter-modal-no-result__subtitle{letter-spacing:normal;margin:0}\n",""]);const a=r},2107:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>a});var n=l(2609),r=l.n(n)()((function(e){return e[1]}));r.push([e.id,".filter-modal-search{border-bottom:1px solid var(--border-normal)}.filter-modal-search .dc-input{border:medium none currentColor;border:initial;height:5.2rem}@media (min-width: 320px) and (max-width: 767px){.filter-modal-search{padding:0.8rem 1rem;min-width:25rem}.filter-modal-search .dc-input{height:4rem}}@media (max-width: 320px){.filter-modal-search{width:14rem}}.filter-modal-search__cross-icon{cursor:pointer}.filter-modal-search__field{margin-bottom:0 !important}.filter-modal-search__field .dc-input{justify-content:center}.filter-modal-search__field .dc-input__container{border:none;height:6rem}.filter-modal-search__field .dc-input__field{flex-grow:1;height:4rem;padding-right:3rem;margin-left:1.2rem;width:auto;width:initial}@media (min-width: 320px) and (max-width: 767px){.filter-modal-search__field .dc-input__field{padding:0 2.8rem 0 0.4rem}}.filter-modal-search__field .dc-input__leading-icon{cursor:pointer;margin-left:0.8rem;pointer-events:inherit;position:static;position:initial}\n",""]);const a=r},2519:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>a});var n=l(2609),r=l.n(n)()((function(e){return e[1]}));r.push([e.id,".filter-modal__column{display:flex;flex-direction:column}@media (max-width: 450px){.filter-modal__column{width:80%}}.filter-modal__header .page-return__button{margin-right:2rem}.filter-modal__select{cursor:pointer}.filter-modal__arrow{min-width:1.8rem;min-height:1.8rem}.filter-modal__selected-payment-methods{max-width:350px;max-height:45px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 450px){.filter-modal__selected-payment-methods{max-width:300px}}@media (max-width: 400px){.filter-modal__selected-payment-methods{max-width:250px}}.filter-modal__header-return-button{position:absolute;left:1.2rem}.filter-modal__body{flex-direction:column}.filter-modal__footer-button{display:flex;width:100%}.filter-modal__footer-button-group{display:grid;grid-template-columns:1fr 1fr;width:100%}.filter-modal__row{align-items:center;border-bottom:2px solid var(--general-section-5);display:flex;flex-direction:row;justify-content:space-between;min-height:8rem;padding:0 2.4rem}@media (max-width: 375px){.filter-modal__row{padding:1.4rem 2.4rem}}.filter-modal__toggle-label{margin:0}.filter-modal__checkbox-container{height:36rem}@media (min-width: 320px) and (max-width: 767px){.filter-modal__checkbox-container{height:100%}.filter-modal__checkbox-container .dc-checkbox{margin:3.5rem 1rem}}.dc-modal__container_payment-methods .dc-modal-header{border-bottom:2px solid var(--general-section-5);height:5.6rem}.dc-modal__container_payment-methods .dc-modal-header__title{padding:1.6rem 3.2rem}.dc-modal__container_payment-methods .dc-modal-body{padding:0;min-width:33rem}.dc-modal__container_payment-methods .dc-checkbox{min-height:4.9rem;padding:0 1.6rem}\n",""]);const a=r},3885:(e,t,l)=>{var n=l(6062),r=l(5882);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},4286:(e,t,l)=>{var n=l(6062),r=l(2107);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},5935:(e,t,l)=>{var n=l(6062),r=l(2519);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},6811:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>T});var n=l(8156),r=l(4309),a=l(1336),o=l(282),i=l(6633),m=l(6576),s=l(5099),c=l.n(s),d=function(e){var t=e.pageHeaderReturnFn;return(0,i.m)().buy_sell_store.show_filter_payment_methods?n.createElement(n.Fragment,null,n.createElement(a.DesktopWrapper,null,n.createElement(m.Z,{className:"filter-modal__header",onClick:t,page_title:(0,o.NC)("Payment methods")})),n.createElement(a.MobileWrapper,null,n.createElement(a.Text,{align:"center",weight:"bold"},n.createElement(a.Icon,{className:"filter-modal__header-return-button",icon:"IcArrowLeftBold",onClick:t,size:16}),n.createElement(o.Xx,{i18n_default_text:"Payment methods"})))):n.createElement(o.Xx,{i18n_default_text:"Filter"})};d.propTypes={pageHeaderReturnFn:c().func};const u=(0,r.Pi)(d);var _=l(7661),h=l(4421),f=l.n(h),p=l(5770);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},g.apply(this,arguments)}l(4286);const y=(0,r.Pi)((function(){var e=(0,i.m)(),t=e.buy_sell_store,l=e.my_profile_store,r=f()((function(){l.getPaymentMethodsList()}),1e3);return n.createElement("div",{className:"filter-modal-search"},n.createElement(_.Formik,{initialValues:{search:""},onSubmit:function(e){var n=e.search;l.setSearchTerm(n.trim()),n.trim()?(t.setIsFilterModalLoading(!0),r()):l.setSearchResults([])}},(function(e){var t=e.submitForm,r=e.values.search,i=e.setFieldValue;return n.createElement(_.Form,null,n.createElement(_.Field,{name:"search"},(function(e){var m=e.field;return n.createElement(a.Input,g({},m,{className:"filter-modal-search__field","data-lpignore":"true",leading_icon:n.createElement(a.Icon,{className:"filter-modal-search__field-icon",icon:"IcSearch"}),name:"search",onFocus:t,onKeyUp:function(){return function(e){clearTimeout(t);var t=setTimeout((function(){e()}),1e3)}(t)},placeholder:(0,p.isDesktop)()?(0,o.NC)("Search payment method"):(0,o.NC)("Search"),trailing_icon:r?n.createElement(a.Icon,{className:"filter-modal-search__cross-icon",color:"secondary",icon:"IcCloseCircle",onClick:function(){return function(e){e("search",""),l.setSearchTerm(""),l.setSearchResults([])}(i)}}):null,type:"text"}))})))})))}));l(3885);var x=function(e){var t=e.text;return n.createElement("div",{className:"filter-modal-no-result"},n.createElement(a.Text,{as:"h2",size:"s",align:"center",weight:"bold",className:"filter-modal-no-result__title"},(0,o.NC)('No results for "{{text}}".',{text:t,interpolation:{escapeValue:!1}})),n.createElement(a.Text,{as:"p",size:"s",align:"center",className:"filter-modal-no-result__subtitle"},(0,o.NC)("Check your spelling or use a different term.")))};x.propTypes={text:c().string};const b=x;var E=l(4047);function v(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,r,a,o,i=[],m=!0,s=!1;try{if(a=(l=l.call(e)).next,0===t){if(Object(l)!==l)return;m=!1}else for(;!(m=(n=a.call(l)).done)&&(i.push(n.value),i.length!==t);m=!0);}catch(e){s=!0,r=e}finally{try{if(!m&&null!=l.return&&(o=l.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return N(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=new Array(t);l<t;l++)n[l]=e[l];return n}var S=(0,r.Pi)((function(e){var t,l=e.onChange,r=e.selected_methods,o=(0,i.m)(),m=o.buy_sell_store,s=o.my_profile_store;return m.is_filter_modal_loading?n.createElement(a.Loading,{is_fullscreen:!1}):s.search_term?s.search_results&&s.search_results.length>0?null===(t=s.search_results)||void 0===t?void 0:t.map((function(e,t){return n.createElement(a.Checkbox,{key:t,label:e.text,onChange:function(){return l(e)},value:r.includes(e.value)})})):n.createElement(b,{text:s.search_term}):s.payment_methods_list_items.map((function(e,t){return n.createElement(a.Checkbox,{name:"checkbox",key:t,label:e.text,onChange:function(){return l(e)},value:r.includes(e.value)})}))}));const k=(0,r.Pi)((function(){var e,t,l,r,m=(0,i.m)(),s=m.buy_sell_store,c=m.my_profile_store,d=(0,E.M)(),_=d.hideModal,h=d.is_modal_open,f=d.showModal,g=d.useSavedState,x=w(g("selected_methods",null!==(e=s.selected_payment_method_value)&&void 0!==e?e:[]),2),b=x[0],C=x[1],N=w(g("selected_methods_text",null!==(t=s.selected_payment_method_text)&&void 0!==t?t:[]),2),k=N[0],T=N[1],M=w(g("has_made_changes",!1),2),F=M[0],P=M[1],A=function(e,t){return e.filter((function(e){return!t.includes(e)}))},I=(null===(l=s.selected_payment_method_value)||void 0===l?void 0:l.length)&&(b.length!==s.selected_payment_method_value.length||A(b,s.selected_payment_method_value).length>0),B=0===(null===(r=s.selected_payment_method_value)||void 0===r?void 0:r.length)&&b.length>0,z=I||B,j=function(e){b.includes(e.value)?(C((function(t){return t.filter((function(t){return t!==e.value}))})),T((function(t){return t.filter((function(t){return t!==e.text}))}))):(C((function(t){return[].concat(v(t),[e.value])})),T((function(t){return[].concat(v(t),[e.text])})))},R=function(){z||F?f({key:"LeavePageModal",props:{onLeavePage:function(){(0,p.isMobile)()&&(C(b.filter((function(e){return s.selected_payment_method_value.includes(e)}))),T(k.filter((function(e){return s.selected_payment_method_text.includes(e)})))),C(s.selected_payment_method_value),T(s.selected_payment_method_text),_({should_restore_local_state:!1,should_hide_all_modals:!0})}}}):(s.setShowFilterPaymentMethods(!1),c.setSearchTerm(""),c.setSearchResults([]),_({should_restore_local_state:!1}))},L=function(){s.setShouldUseClientLimits(!1),C([]),T([]),P(s.selected_payment_method_value.length>0&&0===A(b,s.selected_payment_method_value).length)},X=function(){c.setSearchTerm(""),c.setSearchResults([]),s.setShowFilterPaymentMethods(!1),P(!0)},O=function(){C([]),T([])},D=function(){s.setSelectedPaymentMethodValue(b),s.setSelectedPaymentMethodText(k),s.onClickApply(b,k),_()};n.useEffect((function(){return c.getPaymentMethodsList(),function(){c.setSearchTerm(""),c.setSearchResults([])}}),[]);var U=function(){s.show_filter_payment_methods?(c.setSearchTerm(""),c.setSearchResults([]),C(s.selected_payment_method_value),T(s.selected_payment_method_text),s.setShowFilterPaymentMethods(!1)):_({should_restore_local_state:!1})};return n.createElement(n.Fragment,null,n.createElement(a.DesktopWrapper,null,n.createElement(a.Modal,{className:"payment-methods",has_close_icon:!0,height:"56rem",title:n.createElement(u,{pageHeaderReturnFn:U}),is_open:h,toggleModal:R,width:"44rem"},n.createElement(a.Modal.Body,null,s.show_filter_payment_methods?n.createElement(n.Fragment,null,n.createElement(y,null),n.createElement("div",{className:"filter-modal__checkbox-container"},n.createElement(a.ThemedScrollbars,{is_scrollbar_hidden:!0},n.createElement(S,{selected_methods:b,onChange:j})))):n.createElement(n.Fragment,null,n.createElement("div",{className:"filter-modal__row filter-modal__select",onClick:function(){return s.setShowFilterPaymentMethods(!0)}},n.createElement("div",{className:"filter-modal__column"},n.createElement(a.Text,{color:"prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"Payment methods"})),k.length===c.payment_methods_list_items.length?n.createElement(a.Text,{color:"less-prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"All"})):n.createElement(a.Text,{className:"filter-modal__selected-payment-methods",color:"less-prominent",size:"xs"},k.join(", "))),n.createElement(a.Icon,{className:"filter-modal__arrow",icon:"IcChevronRight",size:18})),n.createElement("div",{className:"filter-modal__row"},n.createElement("div",{className:"filter-modal__column"},n.createElement(a.Text,{color:"prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"Matching ads"})),n.createElement(a.Text,{color:"less-prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"Ads that match your Deriv P2P balance and limit."}))),n.createElement(a.ToggleSwitch,{id:"toggle-filter-modal",classNameButton:"filter-modal__toggle-button",classNameLabel:"filter-modal__toggle-label",handleToggle:function(){s.setShouldUseClientLimits(!s.should_use_client_limits),P(!0)},is_enabled:s.should_use_client_limits})))),n.createElement(a.Modal.Footer,{has_separator:!0},s.show_filter_payment_methods?n.createElement(a.Button.Group,null,n.createElement(a.Button,{disabled:0===b.length,large:!0,secondary:!0,onClick:O},n.createElement(o.Xx,{i18n_default_text:"Clear"})),n.createElement(a.Button,{disabled:!z,large:!0,primary:!0,onClick:X},(0,o.NC)("Confirm"))):n.createElement(a.Button.Group,null,n.createElement(a.Button,{large:!0,secondary:!0,onClick:L},(0,o.NC)("Reset")),n.createElement(a.Button,{disabled:!F,large:!0,primary:!0,onClick:D},(0,o.NC)("Apply")))))),n.createElement(a.MobileWrapper,null,n.createElement(a.MobileFullPageModal,{body_className:"filter-modal__body",is_modal_open:h,height_offset:"80px",is_flex:!0,header:n.createElement(u,{pageHeaderReturnFn:U}),onClickClose:R,renderPageFooterChildren:function(){return n.createElement(n.Fragment,null,s.show_filter_payment_methods?n.createElement(a.Button.Group,{className:"filter-modal__footer-button-group"},n.createElement(a.Button,{disabled:0===b.length,large:!0,secondary:!0,onClick:O},n.createElement(o.Xx,{i18n_default_text:"Clear"})),n.createElement(a.Button,{disabled:!z,large:!0,primary:!0,onClick:X},(0,o.NC)("Confirm"))):n.createElement(a.Button.Group,{className:"filter-modal__footer-button-group"},n.createElement(a.Button,{large:!0,secondary:!0,onClick:L},(0,o.NC)("Reset")),n.createElement(a.Button,{disabled:!F,large:!0,primary:!0,onClick:D},(0,o.NC)("Apply"))))}},s.show_filter_payment_methods?n.createElement(n.Fragment,null,n.createElement(y,null),n.createElement("div",{className:"filter-modal__checkbox-container"},n.createElement(a.ThemedScrollbars,{is_scrollbar_hidden:!0},n.createElement(S,{selected_methods:b,onChange:j})))):n.createElement(n.Fragment,null,n.createElement("div",{className:"filter-modal__row filter-modal__select",onClick:function(){return s.setShowFilterPaymentMethods(!0)}},n.createElement("div",{className:"filter-modal__column"},n.createElement(a.Text,{color:"prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"Payment methods"})),k.length===c.payment_methods_list_items.length?n.createElement(a.Text,{color:"less-prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"All"})):n.createElement(a.Text,{className:"filter-modal__selected-payment-methods",color:"less-prominent",size:"xs"},k.join(", "))),n.createElement(a.Icon,{className:"filter-modal__arrow",icon:"IcChevronRight",size:18})),n.createElement("div",{className:"filter-modal__row"},n.createElement("div",{className:"filter-modal__column"},n.createElement(a.Text,{color:"prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"Matching ads"})),n.createElement(a.Text,{color:"less-prominent",size:"xs"},n.createElement(o.Xx,{i18n_default_text:"Ads that match your Deriv P2P balance and limit."}))),n.createElement(a.ToggleSwitch,{id:"toggle-filter-modal",classNameButton:"filter-modal__toggle-button",classNameLabel:"filter-modal__toggle-label",handleToggle:function(){s.setShouldUseClientLimits(!s.should_use_client_limits),P(!0)},is_enabled:s.should_use_client_limits}))))))}));l(5935);const T=k}}]);