(self.webpackChunk_deriv_p2p=self.webpackChunk_deriv_p2p||[]).push([[751],{7972:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>d});var n=o(2609),a=o.n(n)()((function(e){return e[1]}));a.push([e.id,".quick-add-modal--body{display:flex;flex-direction:column;padding:1.5rem}.quick-add-modal--button{margin-left:0.5rem}.quick-add-modal--input{padding-bottom:2rem}.quick-add-modal--input .dc-input__field{padding-left:3rem}.quick-add-modal--input .dc-input__leading-icon{top:auto}.quick-add-modal--input::-moz-placeholder{padding-left:3rem}.quick-add-modal--input::placeholder{padding-left:3rem}.quick-add-modal--text{display:flex}.quick-add-modal--message{margin-top:1rem}.quick-add-modal--info{margin-bottom:1.3rem}\n",""]);const d=a},3319:(e,t,o)=>{var n=o(6062),a=o(7972);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);n(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},8087:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>E});var n=o(2779),a=o.n(n),d=o(8156),l=o(1336),r=o(5770),m=o(4309),i=o(282),s=o(2925),c=o(6633),_=o(5064),u=o(4634),h=o(3125),p=o(4047);function y(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,a,d,l,r=[],m=!0,i=!1;try{if(d=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;m=!1}else for(;!(m=(n=d.call(o)).done)&&(r.push(n.value),r.length!==t);m=!0);}catch(e){i=!0,a=e}finally{try{if(!m&&null!=o.return&&(l=o.return(),Object(l)!==l))return}finally{if(i)throw a}}return r}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return C(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}const x=(0,m.Pi)((function(e){var t=e.advert,o=(0,c.m)(),n=o.my_ads_store,m=o.my_profile_store,g=(0,p.M)(),C=g.is_modal_open,x=g.showModal,E=g.useSavedState,k=t?t.type:null,b=f(E("selected_methods",[]),2),M=b[0],w=b[1],A=k===s.V.BUY,N=!A&&m.selected_payment_method.length>0,v=A&&M.length>0,S=N||v,q=function(e){n.payment_method_ids.includes(e.ID)?(n.payment_method_ids=n.payment_method_ids.filter((function(t){return t!==e.ID})),w(M.filter((function(t){return t!==e.ID})))):n.payment_method_ids.length<3&&(n.payment_method_ids.push(e.ID),w([].concat(y(M),[e.ID])))},P=function(e){S?x({key:"CancelAddPaymentMethodModal",props:{should_hide_all_modals_on_cancel:A,onCancel:function(){n.payment_method_ids=[],n.payment_method_names=[]}}}):(n.payment_method_ids=[],n.payment_method_names=[],w([]),e?(n.setShouldShowAddPaymentMethod(!1),n.hideQuickAddModal()):(n.should_show_add_payment_method||n.hideQuickAddModal(),n.setShouldShowAddPaymentMethod(!1)))};return(0,r.isMobile)()?A?d.createElement(l.MobileFullPageModal,{body_className:"quick-add-modal--body",height_offset:"80px",is_flex:!0,is_modal_open:C,page_header_text:(0,i.NC)("Add payment method"),pageHeaderReturnFn:function(){return P(!1)},secondary:!0,text:(0,i.NC)("Cancel"),renderPageFooterChildren:function(){return d.createElement(d.Fragment,null,d.createElement(l.Button,{has_effect:!0,large:!0,onClick:P,secondary:!0,text:(0,i.NC)("Cancel")}),d.createElement(l.Button,{className:"quick-add-modal--button",has_effect:!0,is_disabled:0===M.length||0===n.payment_method_names.length,large:!0,onClick:function(){return n.onClickUpdatePaymentMethods(null==t?void 0:t.id,A)},primary:!0,text:(0,i.NC)("Add")}))}},d.createElement("div",{className:"quick-add-modal--info"},d.createElement(l.Text,{color:"prominent",size:"xxs"},d.createElement(i.Xx,{i18n_default_text:"You may choose up to 3 payment methods for this ad."}))),d.createElement(h.Z,{is_alignment_top:!1,list_portal_id:"popup_root",should_show_hint:!0,selected_methods:M,setSelectedMethods:w,should_clear_payment_method_selections:!S})):d.createElement(l.MobileFullPageModal,{body_className:"quick-add-modal--body",height_offset:"80px",is_flex:!0,is_modal_open:C,page_header_text:(0,i.NC)("Add payment method"),pageHeaderReturnFn:function(){return P(!1)},secondary:!0,text:(0,i.NC)("Cancel"),renderPageFooterChildren:function(){return!n.should_show_add_payment_method&&d.createElement(d.Fragment,null,d.createElement(l.Button,{has_effect:!0,large:!0,onClick:P,secondary:!0,text:(0,i.NC)("Cancel")}),d.createElement(l.Button,{className:"quick-add-modal--button",has_effect:!0,is_disabled:0===M.length||0===n.payment_method_ids.length,large:!0,onClick:function(){return n.onClickUpdatePaymentMethods(null==t?void 0:t.id,A)},primary:!0,text:(0,i.NC)("Add")}))}},n.should_show_add_payment_method?d.createElement(_.Z,{should_show_page_return:!1,should_show_separated_footer:!0}):d.createElement(d.Fragment,null,d.createElement(l.Text,{color:"prominent",size:"xxs"},d.createElement(i.Xx,{i18n_default_text:"You may choose up to 3 payment methods for this ad."})),d.createElement(u.Z,{onClickPaymentMethodCard:q,selected_methods:M,onClickAdd:function(){return n.setShouldShowAddPaymentMethod(!0)}}))):A?d.createElement(l.Modal,{className:"p2p-my-ads__modal-error",has_close_icon:!0,height:"452px",is_open:C,title:(0,i.NC)("Add payment method"),toggleModal:function(){return P(!0)}},d.createElement(l.Modal.Body,null,d.createElement("div",{className:"quick-add-modal--info"},d.createElement(l.Text,{color:"prominent",size:"xxs"},d.createElement(i.Xx,{i18n_default_text:"You may choose up to 3 payment methods for this ad."}))),d.createElement(h.Z,{is_alignment_top:!1,list_portal_id:"modal_root",should_show_hint:!0,selected_methods:M,setSelectedMethods:w,should_clear_payment_method_selections:!S})),d.createElement(l.Modal.Footer,{has_separator:!0},d.createElement(l.Button,{has_effect:!0,large:!0,onClick:function(){return P(!0)},secondary:!0,text:(0,i.NC)("Cancel")}),d.createElement(l.Button,{has_effect:!0,is_disabled:0===M.length||0===n.payment_method_names.length,large:!0,onClick:function(){return n.onClickUpdatePaymentMethods(null==t?void 0:t.id,A)},primary:!0,text:(0,i.NC)("Add")}))):d.createElement(l.Modal,{className:a()("p2p-my-ads__modal-error",{"p2p-my-ads__modal-form":m.selected_payment_method}),has_close_icon:!0,height:n.should_show_add_payment_method?"560px":"auto",is_open:C,title:d.createElement(d.Fragment,null,n.should_show_add_payment_method&&d.createElement(l.Icon,{className:"p2p-my-ads__modal-icon",icon:"icArrowLeftBold",onClick:function(){P(!1)}}),n.should_show_add_payment_method?(0,i.NC)("Add payment method"):(0,i.NC)("Add payment methods")),width:"440px",toggleModal:function(){return P(!0)}},d.createElement(l.Modal.Body,{className:a()({"p2p-my-ads__modal-body--horizontal":!n.should_show_add_payment_method,"p2p-my-ads__modal-body--scroll":m.selected_payment_method})},n.should_show_add_payment_method?d.createElement(_.Z,{should_show_page_return:!1,should_show_separated_footer:!0}):d.createElement(d.Fragment,null,d.createElement(l.Text,{color:"prominent",size:"xs"},d.createElement(i.Xx,{i18n_default_text:"You may choose up to 3 payment methods for this ad."})),d.createElement(u.Z,{is_only_horizontal:!0,is_scrollable:!0,onClickPaymentMethodCard:q,selected_methods:M,onClickAdd:function(){return n.setShouldShowAddPaymentMethod(!0)}}))),!n.should_show_add_payment_method&&d.createElement(l.Modal.Footer,{has_separator:!0},d.createElement(l.Button,{has_effect:!0,large:!0,onClick:P,secondary:!0,text:(0,i.NC)("Cancel")}),d.createElement(l.Button,{has_effect:!0,is_disabled:0===M.length||0===n.payment_method_ids.length,large:!0,onClick:function(){return n.onClickUpdatePaymentMethods(null==t?void 0:t.id,A)},primary:!0,text:(0,i.NC)("Add")})),!m.selected_payment_method&&n.should_show_add_payment_method&&d.createElement(l.Modal.Footer,null,d.createElement(l.Button,{has_effect:!0,large:!0,onClick:function(){return P(!1)},secondary:!0,text:(0,i.NC)("Cancel")})))}));o(3319);const E=x}}]);