/*! For license information please see cashier.cashier-app.e6f8d26c999369577932.js.LICENSE.txt */
"use strict";(self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[]).push([["cashier-app"],{"../../api/src/index.ts":(e,t,r)=>{r.d(t,{un:()=>s,ib:()=>b,HN:()=>g,Yv:()=>S,mU:()=>L});var n=r("react"),o=r.n(n),a=r("../../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs"),i=r("../../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),c=r("../../../node_modules/@tanstack/react-query-devtools/build/lib/index.mjs"),l=(window.ReactQueryClient||(window.ReactQueryClient=new a.S),window.ReactQueryClient);const s=function(e){var t=e.children;return o().createElement(i.aH,{client:l},t,o().createElement(c.t,null))};var u=r("../../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),m=r("@deriv/shared");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),c=new z(o||[]);return n(i,"_invoke",{value:x(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function p(){}function h(){}function y(){}var _={};l(_,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(C([])));b&&b!==t&&r.call(b,a)&&(_=b);var g=y.prototype=p.prototype=Object.create(_);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==f(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:h,configurable:!0}),h.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var v=function(){var e,t=(e=d().mark((function e(t,r){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.WS.send(h(y({},t,1),r||{}));case 2:if(!(n=e.sent).error){e.next=5;break}throw n.error;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){_(a,n,o,i,c,"next",e)}function c(e){_(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();const b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=null==r?void 0:r[0],a=o&&"payload"in o?o.payload:void 0,i=o&&"options"in o?o.options:void 0;return(0,u.a)(function(e,t){if(!t)return[e];if(delete t.req_id,e&&1===t[e]&&delete t[e],0===Object.keys(t).length)return[e];var r=Object.keys(t).sort().reduce((function(e,r){return e[r]=t[r],e}),{});return[e,JSON.stringify(r)]}(e,a),(function(){return v(e,a)}),i)},g=function(){var e=(0,i.NL)();return(0,n.useCallback)((function(t){return e.invalidateQueries([t])}),[e])};var w=r("../../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs");function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var x=["mutate"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const S=function(e,t){var r=(0,w.D)((function(t){var r=null==t?void 0:t[0],n=r&&"payload"in r?r.payload:void 0;return v(e,n)}),t),o=r.mutate,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,x),i=(0,n.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o(t)}),[o]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({mutate:i},a)};function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const L=function(e){var t=N((0,n.useState)(!1),2),r=t[0],o=t[1],a=N((0,n.useState)(!1),2),i=a[0],c=a[1],l=N((0,n.useState)(),2),s=l[0],u=l[1],f=N((0,n.useState)(),2),d=f[0],p=f[1],h=(0,n.useRef)(),y=(0,m.useWS)(),_=(0,n.useCallback)((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=null==r?void 0:r[0],i=a&&"payload"in a?a.payload:void 0;o(!0),c(!0);try{var l;h.current=y.subscribe(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}((l={},j(l,e,1),j(l,"subscribe",1),l),i||{})).subscribe((function(e){p(e),o(!1)}),(function(e){u(e.error),o(!1)}))}catch(e){u(e)}}),[y,e]),v=(0,n.useCallback)((function(){var e,t;null===(e=h.current)||void 0===e||null===(t=e.unsubscribe)||void 0===t||t.call(e),c(!1)}),[]);return(0,n.useEffect)((function(){return function(){v()}}),[v]),{subscribe:_,unsubscribe:v,is_loading:r,is_subscribed:i,error:s,data:d}}},"./app.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>K});var n=r("react"),o=r.n(n),a=r("../../stores/src/index.ts"),i=r("../../../node_modules/@deriv/ui/dist/es/components.js"),c=r("react-router"),l=r("react-router-dom"),s=r("@deriv/translations"),u=r("@deriv/p2p"),m=r.n(u),f=r("@deriv/shared"),d=r("@deriv/components"),p=r("../../hooks/src/index.ts"),h=r("./components/error-dialog/index.ts"),y=r("./stores/useCashierStores.tsx");function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new z(o||[]);return n(i,"_invoke",{value:x(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(C([])));b&&b!==t&&r.call(b,a)&&(h=b);var g=p.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==_(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function b(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,a.Pi)((function(e){var t=e.history,r=e.location,i=e.routes,c=(0,a.oR)(),l=c.common,u=c.ui,m=c.client,_=(0,y.E)(),g=_.withdraw,E=_.general_store,x=_.payment_agent,O=g.error,k=E.is_cashier_onboarding,S=E.is_loading,z=E.onMountCommon,C=E.setAccountSwitchListener,j=E.setCashierTabIndex,N=E.cashier_route_tab_index,P=E.setActiveTab,L=(0,p.pQ)(),T=L.data,I=L.isLoading,A=L.isSuccess,D=x.is_payment_agent_visible,R=l.is_from_derivgo,M=u.is_cashier_visible,F=u.toggleCashier,B=m.is_account_setting_loaded,U=m.is_logged_in,W=m.is_logging_in,Y=(0,p.mk)(),G=(0,p.hA)(),H=(0,p.Tb)(),Z=(0,p.u8)(),V=Z.data,q=Z.isSuccess,K=Z.isLoading,$=(0,n.useMemo)((function(){var e=[];return i.forEach((function(t){t.is_invisible||t.path===f.routes.cashier_pa&&!D||t.path===f.routes.cashier_pa_transfer&&!T||t.path===f.routes.cashier_p2p&&!V||t.path===f.routes.cashier_onramp&&!G||t.path===f.routes.cashier_acc_transfer&&!Y||e.push(w(w({},t.path===f.routes.cashier_p2p&&{count:H}),{},{default:t.default,icon:t.icon_component,label:t.getTitle(),value:t.component,path:t.path,has_side_note:t.path!==f.routes.cashier_deposit&&t.path!==f.routes.cashier_withdrawal&&t.path!==f.routes.cashier_p2p}))})),e}),[Y,G,V,T,D,H,i]),J=(0,n.useMemo)((function(){return(0,f.getSelectedRoute)({routes:i,pathname:r.pathname})}),[r.pathname,i]),X=!!J.default,Q=(0,n.useMemo)((function(){var e;return!(0,f.isMobile)()||X&&(S||k)?(0,s.localize)("Cashier"):null===(e=J.getTitle)||void 0===e?void 0:e.call(J)}),[k,X,S,J]),ee=(0,n.useCallback)((function(e){switch(e){case f.routes.cashier_deposit:P("deposit");break;case f.routes.cashier_withdrawal:P("withdraw");break;case f.routes.cashier_pa:P("payment_agent");break;case f.routes.cashier_pa_transfer:P("payment_agent_transfer");break;case f.routes.cashier_acc_transfer:P("account_transfer");break;case f.routes.cashier_onramp:P("onramp");break;default:P("deposit")}}),[P]);return(0,n.useEffect)((function(){ee(J.path)}),[J,ee]),(0,n.useEffect)((function(){return F(),function(){F()}}),[F]),(0,n.useEffect)((function(){var e;(e=v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===f.WS||void 0===f.WS?void 0:f.WS.wait("authorize");case 2:U&&(z(),C());case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){b(a,n,o,i,c,"next",e)}function c(e){b(a,n,o,i,c,"throw",e)}i(void 0)}))})()}),[U,z,C]),(0,n.useEffect)((function(){A&&!T&&t.location.pathname===f.routes.cashier_pa_transfer&&t.push(f.routes.cashier_deposit)}),[t,T,A]),(0,n.useEffect)((function(){G||t.location.pathname!==f.routes.cashier_onramp||t.push(f.routes.cashier_deposit)}),[t,G]),(0,n.useEffect)((function(){q&&!V&&t.location.pathname.startsWith(f.routes.cashier_p2p)&&t.push(f.routes.cashier_deposit)}),[t,V,q]),(!U||(0,f.isMobile)())&&W||!B||I||K?o().createElement(d.Loading,{is_fullscreen:!0}):o().createElement(d.FadeWrapper,{is_visible:M,className:"cashier__page-wrapper",keyname:"cashier__page-wrapper"},o().createElement(h.Z,{error:O}),o().createElement("div",{className:"cashier"},o().createElement(d.PageOverlay,{header:Q,onClickClose:function(){return t.push(f.routes.traders_hub)},is_from_app:R},o().createElement(d.DesktopWrapper,null,o().createElement(d.VerticalTab,{current_path:r.pathname,is_floating:!0,setVerticalTabIndex:j,vertical_tab_index:X?0:N,is_full_width:!0,is_routed:!0,list:$,tab_headers_note:o().createElement(d.Button,{id:"cashier_learn_more",className:"cashier__page-wrapper-button",text:(0,s.localize)("Learn more about payment methods"),onClick:function(){return window.open((0,f.getStaticUrl)("/payment-methods"))},secondary:!0})})),o().createElement(d.MobileWrapper,null,o().createElement(d.Div100vhContainer,{className:"cashier__wrapper--is-mobile",height_offset:"80px"},J&&J.component&&o().createElement(J.component,{component_icon:J.icon_component,history:t,menu_options:$}))))))}));const O=(0,l.withRouter)(x);var k=r("./pages/account-transfer/index.ts"),S=r("./pages/deposit/index.ts"),z=r("./pages/on-ramp/index.ts"),C=r("./pages/payment-agent/index.ts"),j=r("./pages/payment-agent-transfer/index.ts"),N=r("./pages/withdrawal/index.ts"),P=r("./components/page-container/index.ts"),L=r("./components/cashier-container/index.ts"),T=r("./components/cashier-locked/index.ts");const I=(0,a.Pi)((function(e){var t=e.children,r=(0,a.oR)().client.is_virtual,n=(0,p.om)(),i=(0,p.Zu)(),c=(0,p.Iq)(),l=(0,p.wN)(),s=(0,y.E)().withdraw.is_withdrawal_locked;return r?o().createElement(P._,{hide_breadcrumb:!0},o().createElement(L.o,null)):c&&(i||(l||s)&&n.is_crypto)||i?o().createElement(P._,{hide_breadcrumb:!0},o().createElement(T.Z,null)):o().createElement(o().Fragment,null,t)}));var A,D={component:o().lazy((function(){return(0,f.moduleLoader)((function(){return r.e("404").then(r.bind(r,"./components/page-404/index.ts"))}))})),getTitle:function(){return(0,s.localize)("Error 404")}};function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}const M=function(e){return o().createElement(l.Route,{exact:e.exact,path:e.path,render:function(t){var r,n=null;if(e.component===l.Redirect){var a=e.to;e.path===f.routes.index&&(a=t.location.pathname.toLowerCase().replace(e.path,"")),n=o().createElement(l.Redirect,{to:a})}else if(!e.is_authenticated||e.is_logging_in||e.is_logged_in){var i,c=null===(i=e.routes)||void 0===i?void 0:i.find((function(e){return e.default})),u=(0,f.removeBranchName)(location.pathname);n=o().createElement(o().Fragment,null,!!c&&u===e.path&&o().createElement(l.Redirect,{to:c.path}),o().createElement(e.component,R({},t,{routes:e.routes})))}else(0,f.redirectToLogin)(e.is_logged_in,(0,s.getLanguage)());var m=(null===(r=e.getTitle)||void 0===r?void 0:r.call(e))||"";return document.title="".concat(m," | ").concat(f.default_title),(0,f.alternateLinkTagChange)(),(0,f.canonicalLinkTagChange)(),n}})};function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}var B=function(){return o().createElement("div",null,o().createElement(s.Localize,{i18n_default_text:"Loading..."}))};const U=function(e){return o().createElement(o().Suspense,{fallback:o().createElement(B,null)},o().createElement(l.Switch,null,(A||(A=[{path:f.routes.cashier,component:O,is_modal:!0,is_authenticated:!0,getTitle:function(){return(0,s.localize)("Cashier")},icon_component:"IcCashier",routes:[{path:f.routes.cashier_deposit,component:function(){return o().createElement(I,null,o().createElement(S.default,null))},getTitle:function(){return(0,s.localize)("Deposit")},icon_component:"IcCashierAdd",default:!0},{path:f.routes.cashier_withdrawal,component:function(){return o().createElement(I,null,o().createElement(N.default,null))},getTitle:function(){return(0,s.localize)("Withdrawal")},icon_component:"IcCashierMinus"},{path:f.routes.cashier_pa,component:C.default,getTitle:function(){return(0,s.localize)("Payment agents")},icon_component:"IcPaymentAgent"},{path:f.routes.cashier_acc_transfer,component:k.default,getTitle:function(){return(0,s.localize)("Transfer")},icon_component:"IcAccountTransfer"},{path:f.routes.cashier_pa_transfer,component:j.default,getTitle:function(){return(0,s.localize)("Transfer to client")},icon_component:"IcAccountTransfer"},{path:f.routes.cashier_p2p,component:m(),getTitle:function(){return(0,s.localize)("Deriv P2P")},icon_component:"IcDp2p"},{path:f.routes.p2p_verification,component:m(),getTitle:function(){return(0,s.localize)("P2P verification")},icon_component:"IcDp2p",is_invisible:!0},{id:"gtm-onramp-tab",path:f.routes.cashier_onramp,component:z.default,getTitle:function(){return(0,s.localize)("Fiat onramp")},icon_component:"IcCashierOnRamp"}]}]).push(D),A).map((function(t,r){return o().createElement(M,F({key:r},t,e))}))))},W=function(e){var t=e.header,r=e.message,n=e.redirect_label,a=e.redirectOnClick,i=e.redirect_to,c=void 0===i?f.routes.trade:i,u=e.setError,m=e.should_clear_error_on_click,p=e.should_show_refresh,h=void 0===p||p,y=(0,l.useHistory)();o().useEffect((function(){if(y)return y.listen((function(){"function"==typeof u&&u(!1,null)}))}),[y,u]);var _=h?o().createElement(s.Localize,{i18n_default_text:"Please refresh this page to continue."}):"";return o().createElement(d.PageErrorContainer,{error_header:null!=t?t:"",error_messages:r?[r,_]:[],redirect_urls:[c],redirect_labels:[n||(0,s.localize)("Refresh")],buttonOnClick:a||function(){return location.reload()},should_clear_error_on_click:m,setError:u})};var Y=(0,a.Pi)((function(){var e=(0,a.oR)(),t=e.client,r=e.common,n=t.is_logged_in,i=t.is_logging_in,c=r.error;return r.has_error?o().createElement(W,c):o().createElement(U,{is_logged_in:n,is_logging_in:i})}));const G=(0,c.withRouter)(Y),H=function(){var e=(0,c.useHistory)(),t=(0,y.E)(),r=t.transaction_history,o=t.general_store,a=r.setIsCryptoTransactionsVisible,i=o.setIsCashierOnboarding,l=o.setIsDeposit;(0,n.useEffect)((function(){var t=e.location.hash,r="#deposit"===t,n="#crypto_transactions"===t;e.location.pathname===f.routes.cashier_deposit?(i("#cashier_onboarding"===t||!r&&!n),l(r),a(n),e.replace({pathname:e.location.pathname,hash:""})):(i(!1),l(!1),a(!1))}),[e,i,a,l])},Z=(0,a.Pi)((function(){var e=(0,a.oR)().ui,t=e.is_dark_mode_on,r=e.notification_messages_ui,n=(0,i.useTheme)().setColorMode;return H(),o().useEffect((function(){n(t?"dark":"light")}),[t,n]),o().createElement(o().Fragment,null,r&&o().createElement(r,null),o().createElement(G,null))}));var V=r("../../api/src/index.ts");const q=function(e){var t=e.children,r=e.store;return o().createElement(a.g3,{store:r},o().createElement(y.O,null,o().createElement(V.un,null,o().createElement(i.ThemeProvider,null,t))))},K=function(e){var t=e.passthrough.root_store;return o().createElement(q,{store:t},o().createElement(Z,null))}},"./components/cashier-container/index.ts":(e,t,r)=>{r.d(t,{x:()=>l,o:()=>h});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../stores/src/index.ts"),c=r("./stores/useCashierStores.tsx");const l=(0,i.Pi)((function(){var e=(0,i.oR)().ui.is_dark_mode_on,t=(0,c.E)(),r=t.iframe,n=t.general_store,l=r.clearIframe,s=r.iframe_height,u=r.iframe_url,m=r.checkIframeLoaded,f=r.setContainerHeight,d=n.is_loading||!s;return o().useEffect((function(){return function(){l()}}),[l]),o().useEffect((function(){f(0),m()}),[m,e,f]),o().createElement("div",{className:"cashier__wrapper real"},d&&o().createElement(a.Loading,{className:"real__loader"}),u&&o().createElement("iframe",{className:"cashier__content",height:s,src:"".concat(u,"&DarkMode=").concat(e?"on":"off"),frameBorder:"0",scrolling:"auto","data-testid":"dt_doughflow_section"}))}));var s=r("../../../node_modules/classnames/index.js"),u=r.n(s),m=r("react-router-dom"),f=r("@deriv/shared"),d=r("@deriv/translations"),p=(0,i.Pi)((function(){var e=(0,i.oR)().ui,t=e.is_dark_mode_on,r=e.toggleAccountsDialog;return o().createElement("div",{className:"cashier__wrapper","data-testid":"dt_cashier_wrapper_id"},o().createElement(o().Fragment,null,o().createElement("div",{"data-testid":t?"dt_virtual_account_switch_icon_dark_id":"dt_virtual_account_switch_icon_light_id",className:u()("virtual__account-switch-icon",t?"virtual__account-switch-icon--dark":"virtual__account-switch-icon--light")}),o().createElement(a.Text,{as:"h2",align:"center",weight:"bold",color:"prominent",className:"virtual__header"},o().createElement(d.Localize,{i18n_default_text:"You are using a demo account"})),o().createElement(a.Text,{as:"p",size:(0,f.isMobile)()?"xxs":"xs",line_height:"s",align:"center",className:"cashier__paragraph cashier__text"},o().createElement(d.Localize,{i18n_default_text:"You need to switch to a real money account to use this feature.<0/>You can do this by selecting a real account from the <1>Account Switcher.</1>",components:[o().createElement("br",{key:0}),o().createElement("span",{key:1,className:"virtual__account-switch-text",onClick:r})]}))))}));const h=(0,m.withRouter)(p)},"./components/cashier-locked/index.ts":(e,t,r)=>{r.d(t,{Z:()=>m});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/index.ts"),c=r("../../stores/src/index.ts"),l=r("@deriv/translations"),s=r("@deriv/shared");const u=function(e){var t=e.cashier_validation,r=e.is_crypto,n=e.is_system_maintenance,a=e.is_cashier_locked,i=e.is_deposit_locked,c=e.is_withdrawal_locked,u=e.is_identity_verification_needed,m=e.excluded_until,f=null==t?void 0:t.includes("no_residence"),d=null==t?void 0:t.includes("unwelcome_status"),p=null==t?void 0:t.includes("SelfExclusion"),h=null==t?void 0:t.includes("no_withdrawal_or_trading_status"),y=null==t?void 0:t.includes("only_pa_withdrawals_allowed_status"),_=null==t?void 0:t.includes("WithdrawServiceUnavailableForPA"),v=null==t?void 0:t.includes("withdrawal_locked_status"),b=null==t?void 0:t.includes("documents_expired"),g=null==t?void 0:t.includes("cashier_locked_status"),w=null==t?void 0:t.includes("disabled_status"),E=null==t?void 0:t.includes("FinancialAssessmentRequired"),x=null==t?void 0:t.includes("ASK_CURRENCY"),O=null==t?void 0:t.includes("ASK_AUTHENTICATE"),k=null==t?void 0:t.includes("ASK_FINANCIAL_RISK_APPROVAL"),S=null==t?void 0:t.includes("ASK_TIN_INFORMATION"),z=null==t?void 0:t.includes("ASK_SELF_EXCLUSION_MAX_TURNOVER_SET"),C=null==t?void 0:t.includes("ASK_FIX_DETAILS"),j=null==t?void 0:t.includes("ASK_UK_FUNDS_PROTECTION"),N=null==t?void 0:t.includes("PACommisionWithdrawalLimit");if(n)return r&&c?{icon:"IcCashierLocked",title:(0,l.localize)("Withdrawals are locked"),description:(0,l.localize)("Withdrawals are temporarily unavailable due to system maintenance. You can make your withdrawals when the maintenance is complete.")}:r&&i?{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:(0,l.localize)("Deposits are temporarily unavailable due to system maintenance. You can make your deposits when the maintenance is complete.")}:r?{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:(0,l.localize)("Our cryptocurrency cashier is temporarily down due to system maintenance. You can access the Cashier in a few minutes when the maintenance is complete.")}:{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:(0,l.localize)("Our cashier is temporarily down due to system maintenance. You can access the Cashier in a few minutes when the maintenance is complete.")};if(a){if(f)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:(0,l.localize)("You’ve not set your country of residence. To access Cashier, please update your country of residence in the Personal details section in your account settings.")};if(b)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:(0,l.localize)("The identification documents you submitted have expired. Please submit valid identity documents to unlock Cashier. ")};if(g)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your cashier is currently locked. Please contact us via <0>live chat</0> to find out how to unlock it.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})};if(w)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your account is temporarily disabled. Please contact us via <0>live chat</0> to enable deposits and withdrawals again.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})};if(x)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:(0,l.localize)("Please set your account currency to enable deposits and withdrawals.")};if(O&&u)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Please submit your <0>proof of identity</0> to authenticate your account and access your Cashier.",components:[o().createElement("a",{key:0,className:"link",href:"/account/proof-of-identity"})]})};if(O)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your account has not been authenticated. Please submit your <0>proof of identity</0> and <1>proof of address</1> to authenticate your account and access your cashier.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-identity"}),o().createElement("a",{key:1,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-address"})]})};if(k)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Please complete the <0>Appropriateness Test</0> to access your cashier.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(E)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your cashier is locked. Please complete the <0>financial assessment</0> to unlock it.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(S)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"You have not provided your tax identification number. This information is necessary for legal and regulatory requirements. Please go to <0>Personal details</0> in your account settings, and fill in your latest tax identification number.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(j)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your cashier is locked. See <0>how we protect your funds</0> before you proceed.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/cashier/deposit"})]})};if(z)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your access to Cashier has been temporarily disabled as you have not set your 30-day turnover limit. Please go to <0>Self-exclusion</0> and set your 30-day turnover limit.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/self-exclusion"})]})};if(C)return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable deposits and withdrawals.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})}}if(i){if(C)return{icon:"IcCashierDepositLock",title:(0,l.localize)("Deposits are locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable deposits.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(p)return{icon:"IcCashierDepositLock",title:(0,l.localize)("Deposits are locked"),description:o().createElement(l.Localize,{i18n_default_text:"You have chosen to exclude yourself from trading on our website until {{exclude_until}}. If you are unable to place a trade or deposit after your self-exclusion period, please contact us via <0>live chat</0>.",values:{exclude_until:(0,s.formatDate)(m,"DD MMM, YYYY")},components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})};if(d)return{icon:"IcCashierDepositLock",title:(0,l.localize)("Deposits are locked"),description:o().createElement(l.Localize,{i18n_default_text:"Please contact us via <0>live chat</0>.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})}}if(c){if(E)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Withdrawals are locked"),description:o().createElement(l.Localize,{i18n_default_text:"You can only make deposits. Please complete the <0>financial assessment</0> to unlock withdrawals.",components:[o().createElement("a",{key:0,className:"link",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(O)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Withdrawals are locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your account has not been authenticated. Please submit your <0>proof of identity</0> and <1>proof of address</1> to authenticate your account and request for withdrawals.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-identity"}),o().createElement("a",{key:1,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-address"})]})};if(C)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Withdrawals are locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable withdrawals.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(_)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Withdrawals are locked"),description:(0,l.localize)("This feature is not available for payment agents.")};if(h)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Withdrawals are locked"),description:o().createElement(l.Localize,{i18n_default_text:"Unfortunately, you can only make deposits. Please contact us via <0>live chat</0> to enable withdrawals.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})};if(v)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Withdrawals are locked"),description:o().createElement(l.Localize,{i18n_default_text:"Unfortunately, you can only make deposits. Please contact us via <0>live chat</0> to enable withdrawals.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})};if(y)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Withdrawals are locked"),description:o().createElement(l.Localize,{i18n_default_text:"You can only make deposits. Please contact us via <0>live chat</0> for more information.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})};if(N)return{icon:"IcCashierWithdrawalLock",title:(0,l.localize)("Cashier is locked for withdrawals"),description:(0,l.localize)("It seems that you've no commissions to withdraw at the moment. You can make withdrawals once you receive your commissions.")}}return{icon:"IcCashierLocked",title:(0,l.localize)("Cashier is locked"),description:o().createElement(l.Localize,{i18n_default_text:"Your cashier is currently locked. Please contact us via <0>live chat</0> to find out how to unlock it.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})}},m=(0,c.Pi)((function(){var e,t=(0,c.oR)().client,r=t.account_status,n=t.accounts,l=t.current_currency_type,s=t.is_withdrawal_lock,m=t.loginid,f=t.is_identity_verification_needed,d=(0,i.Zu)(),p=(0,i.Iq)(),h=(0,i.wN)(),y=u({cashier_validation:r.cashier_validation,is_crypto:"crypto"===l,is_system_maintenance:p,is_cashier_locked:d,is_deposit_locked:h,is_withdrawal_locked:s,is_identity_verification_needed:f,excluded_until:m?null===(e=n[m])||void 0===e?void 0:e.excluded_until:void 0});return o().createElement(a.EmptyState,{icon:y.icon,title:y.title,description:y.description})}))},"./components/crypto-fiat-converter/index.ts":(e,t,r)=>{r.d(t,{Z:()=>v});var n=r("react"),o=r.n(n),a=r("../../../node_modules/formik/dist/formik.esm.js"),i=r("@deriv/components"),c=r("@deriv/shared"),l=r("@deriv/translations"),s=r("../../stores/src/index.ts"),u=r("./stores/useCashierStores.tsx"),m=r("../../hooks/src/index.ts");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.onComplete,r=d(o().useState(60),2),n=r[0],a=r[1];return(0,i.useInterval)((function(){n>0&&a(n-1)}),1e3),o().useEffect((function(){0===n&&(t(),a(60))}),[t,n]),o().createElement(i.Text,{as:"p",size:"xs",color:"less-prominent",className:"timer"},o().createElement(l.Localize,{i18n_default_text:"{{remaining_time}}s",values:{remaining_time:n}}))},y=function(e){var t=e.children,r=e.className;return o().createElement("fieldset",null,o().createElement("div",{className:r},t))},_=(0,s.Pi)((function(e){var t=e.from_currency,r=e.hint,n=e.onChangeConverterFromAmount,s=e.onChangeConverterToAmount,p=e.resetConverter,_=e.to_currency,v=e.validateFromAmount,b=e.validateToAmount,g=(0,u.E)().crypto_fiat_converter,w=(0,m.J)().getRate,E=g.converter_from_amount,x=g.converter_from_error,O=g.converter_to_error,k=g.converter_to_amount,S=g.is_timer_visible,z=(0,a.u6)().handleChange,C=d(o().useState("right"),2),j=C[0],N=C[1];return o().useEffect((function(){return function(){return p()}}),[]),o().useEffect((function(){N("right")}),[t]),o().createElement("div",{className:"crypto-fiat-converter"},o().createElement(a.gN,{name:"converter_from_amount",validate:v},(function(e){var a=e.field;return o().createElement(i.Input,f({},a,{onFocus:function(){N("right")},onChange:function(e){var r=w(t||""),o=w(_||""),a=Number(e.target.value)*o/r;n(e,t,_,a),z(e)},type:"text",error:x,label:(0,l.localize)("Amount ({{currency}})",{currency:(0,c.getCurrencyDisplayCode)(t)}),value:E,autoComplete:"off",required:!0,hint:r,classNameHint:"crypto-fiat-converter__hint","data-testid":"dt_converter_from_amount_input"}))})),o().createElement(i.MobileWrapper,null,"right"===j?o().createElement(i.Icon,{icon:"IcArrowDownBold"}):o().createElement(i.Icon,{icon:"IcArrowUpBold"})),o().createElement(i.DesktopWrapper,null,"right"===j?o().createElement(i.Icon,{icon:"IcArrowRightBold",id:"arrow_right_bold",data_testid:"dti_arrow_right_bold"}):o().createElement(i.Icon,{icon:"IcArrowLeftBold",id:"arrow_left_bold",data_testid:"dti_arrow_left_bold"})),o().createElement(a.gN,{name:"converter_to_amount",validate:b},(function(e){var r=e.field;return o().createElement(y,{className:"input-group"},o().createElement(i.Input,f({},r,{onFocus:function(){N("left")},onChange:function(e){var r=w(t||""),n=w(_||""),o=Number(e.target.value)*r/n;s(e,_,t,o),z(e)},type:"text",error:O,label:(0,l.localize)("Amount ({{currency}})",{currency:(0,c.getCurrencyDisplayCode)(_)}),value:k,autoComplete:"off",hint:(0,l.localize)("Approximate value"),classNameHint:"crypto-fiat-converter__hint","data-testid":"dt_converter_to_amount_input"})),S&&o().createElement(h,{onComplete:function(){var e=w(t||""),r=w(_||""),o=Number(E)*r/e;n({target:{value:E}},t,_,o)}}))})))}));const v=_},"./components/crypto-transactions-history/index.ts":(e,t,r)=>{r.d(t,{Z:()=>k});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/shared"),c=r("@deriv/translations"),l=r("../../stores/src/index.ts"),s=r("./stores/useCashierStores.tsx");const u=(0,l.Pi)((function(){var e=(0,s.E)().transaction_history,t=e.cancelCryptoTransaction,r=e.hideCryptoTransactionsCancelModal,n=e.is_crypto_transactions_cancel_modal_visible,i=e.selected_crypto_transaction_id;return o().createElement(o().Fragment,null,o().createElement(a.Modal,{small:!0,title:(0,c.localize)("Cancel transaction"),is_open:n,toggleModal:r,has_close_icon:!0},o().createElement(a.Modal.Body,null,o().createElement(c.Localize,{i18n_default_text:"Are you sure you want to cancel this transaction?"})),o().createElement(a.Modal.Footer,null,o().createElement(a.Button,{text:(0,c.localize)("No"),onClick:r,large:!0,secondary:!0}),o().createElement(a.Button,{text:(0,c.localize)("Yes"),onClick:function(){t(i)},large:!0,primary:!0}))))})),m=(0,l.Pi)((function(){var e=(0,s.E)().transaction_history,t=e.hideCryptoTransactionsStatusModal,r=e.is_crypto_transactions_status_modal_visible,n=e.selected_crypto_status,i=e.selected_crypto_status_description;return o().createElement(o().Fragment,null,o().createElement(a.Modal,{small:!0,title:n,is_open:r,toggleModal:t,has_close_icon:!1},o().createElement(a.Modal.Body,null,i),o().createElement(a.Modal.Footer,null,o().createElement(a.Button,{text:(0,c.localize)("OK"),onClick:t,large:!0,primary:!0}))))}));var f=r("../../../node_modules/classnames/index.js"),d=r.n(f);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const g=(0,l.Pi)((function(e){var t=e.row,r=e.onTooltipClick,n=(0,l.oR)().client,u=(0,s.E)().transaction_history,m=u.cancelCryptoTransaction,f=u.showCryptoTransactionsCancelModal,p=u.showCryptoTransactionsStatusModal,h=n.currency,_=t.address_hash,b=t.address_url,g=t.amount,w=t.id,E=t.is_valid_to_cancel,x=t.status_code,O=t.submit_date,k=t.transaction_hash,S=t.transaction_url,z=t.transaction_type,C=t.confirmations,j=_?"".concat(_.substring(0,4),"....").concat(_.substring(_.length-4)):"",N="withdrawal"===z?"-".concat(g):"+".concat(g),P=(0,i.isMobile)()?(0,i.epochToMoment)(O).format("DD MMM YYYY"):(0,i.epochToMoment)(O).format("DD MMM YYYY HH:mm:ss [GMT]"),L=(0,i.epochToMoment)(O).format("HH:mm:ss [GMT]"),T=function(e,t,r,n){var i,l=e?"".concat(e.substring(0,4),"....").concat(e.substring(e.length-4)):(0,c.localize)("Pending"),s={deposit:{CONFIRMED:{name:(0,c.localize)("Successful"),description:(0,c.localize)("Your deposit is successful."),renderer:"successful",transaction_hash:l},ERROR:{name:(0,c.localize)("Unsuccessful"),description:(0,c.localize)("Your deposit is unsuccessful due to an error on the blockchain. Please contact your crypto wallet service provider for more info."),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},PENDING:{name:(0,c.localize)("In process"),description:(0,c.localize)("We’ve received your request and are waiting for more blockchain confirmations."),renderer:"in-process",transaction_hash:l}},withdrawal:{CANCELLED:{name:(0,c.localize)("Cancelled"),description:(0,c.localize)("You’ve cancelled your withdrawal request."),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},ERROR:{name:(0,c.localize)("Unsuccessful"),description:o().createElement(c.Localize,{key:0,i18n_default_text:"Your withdrawal is unsuccessful due to an error on the blockchain. Please <0>contact us</0> via live chat for more info.",values:{interpolation:{escapeValue:!1}},components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"contact-us/?is_livechat_open=true"})]}),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},LOCKED:{name:(0,c.localize)("In review"),description:(0,c.localize)("We're reviewing your withdrawal request. You may still cancel this transaction if you wish. Once we start processing, you won't be able to cancel."),renderer:"in-review",transaction_hash:l},PERFORMING_BLOCKCHAIN_TXN:{name:(0,c.localize)("In process"),description:(0,c.localize)("We’re sending your request to the blockchain."),renderer:"in-process",transaction_hash:l},PROCESSING:{name:(0,c.localize)("In process"),description:(0,c.localize)("We’re awaiting confirmation from the blockchain."),renderer:"in-process",transaction_hash:l},REJECTED:{name:(0,c.localize)("Unsuccessful"),description:(0,c.localize)("Your withdrawal is unsuccessful. We've sent you an email with more information."),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},SENT:{name:(0,c.localize)("Successful"),description:(0,c.localize)("Your withdrawal is successful."),renderer:"successful",transaction_hash:l},VERIFIED:{name:(0,c.localize)("In process"),description:(0,c.localize)("We’re processing your withdrawal."),renderer:"in-process",transaction_hash:l}}},u="-";return"deposit"===t&&(u="CONFIRMED"===r?(0,c.localize)("Confirmed"):n?"".concat(n):(0,c.localize)("Pending")),"deposit"===t&&(i=r,Object.keys(s.deposit).includes(i))||"withdrawal"===t&&function(e){return Object.keys(s.withdrawal).includes(e)}(r)?y(y({},s[t][r]),{},{confirmation_label:u}):null}(k,z,x,C),I=v(o().useState(!1),2),A=I[0],D=I[1],R=null==S?void 0:S.includes("CP:");return T&&(0,i.isMobile)()?o().createElement("div",null,o().createElement(a.Table.Row,{className:"crypto-transactions-history__table-row"},o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-cell"},o().createElement(a.Icon,{icon:"withdrawal"===z?"IcCashierWithdrawal":"IcCashierDeposit",size:32}),o().createElement(a.Text,{as:"p",size:"xs",weight:"bold",className:"crypto-transactions-history__table-type"},o().createElement(c.Localize,{i18n_default_text:z})),o().createElement("div",{className:"crypto-transactions-history__table-status",onClick:function(){T&&p(T.description,T.name)},"data-testid":"dt_table_status"},o().createElement("div",{className:d()("crypto-transactions-history__table-status-code","crypto-transactions-history__table-status-code-".concat(T.renderer))}),o().createElement(a.Text,{as:"p",size:"xxs"},T.name))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Amount"))),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-amount"},o().createElement(a.Text,{as:"p",size:"xxs",weight:"bold",color:"successful"===T.renderer?"profit-success":"red"},o().createElement(a.Money,{currency:h,amount:(0,i.formatMoney)(h,N,!0),should_format:!1,show_currency:!0}))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Address"))),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-hash"},o().createElement("a",{className:"crypto-transactions-history__table-link",href:b,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xxs",color:"red"},_))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Transaction hash")),R&&o().createElement(a.Icon,{className:"crypto-transactions-history__table-tooltip",data_testid:"dt_crypto_transactions_history_table_tooltip_mobile",onClick:r,icon:"IcHelpCentre",custom_color:"var(--button-secondary-default)"})),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-hash"},o().createElement("a",{className:"crypto-transactions-history__table-link",href:S,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xxs",color:"red"},T.transaction_hash))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Confirmations"))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",size:"xxs",color:"red"},T.confirmation_label)),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Time"))),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-time"},o().createElement(a.Text,{as:"p",size:"xxs"},P),o().createElement("div",{className:"crypto-transactions-history__bullet"}),o().createElement(a.Text,{as:"p",size:"xxs"},L)),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-action"},1===E&&o().createElement(a.Button,{onClick:function(){f(w)},small:!0,secondary:!0,"data-testid":"dt_cancel_transaction"},o().createElement(a.Text,{as:"p",size:"xxxs",weight:"bolder"},o().createElement(c.Localize,{i18n_default_text:"Cancel transaction"})))))):o().createElement("div",null,o().createElement(a.Table.Row,{className:"crypto-transactions-history__table-row"},o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-type"},o().createElement(a.Icon,{icon:"withdrawal"===z?"IcCashierWithdrawal":"IcCashierDeposit",size:32}),o().createElement(a.Text,{as:"p",size:"xs",weight:"bold"},o().createElement(c.Localize,{i18n_default_text:z}))),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-amount"},T&&o().createElement(a.Text,{as:"p",size:"xs",weight:"bold",color:"successful"===T.renderer?"profit-success":"red"},o().createElement(a.Money,{currency:h,amount:(0,i.formatMoney)(h,N,!0),should_format:!1,show_currency:!0}))),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-hash"},o().createElement(a.Popover,{alignment:"right",className:"crypto-transactions-history__table-popover",message:(0,c.localize)("View address on Blockchain")},o().createElement("a",{className:"crypto-transactions-history__table-link",href:b,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xs",color:"red"},j)))),o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-hash"},T&&(S?o().createElement(o().Fragment,null,o().createElement(a.Popover,{alignment:"right",className:"crypto-transactions-history__table-popover",message:(0,c.localize)("View transaction on Blockchain")},o().createElement("a",{className:"crypto-transactions-history__table-link",href:S,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xs",color:"red"},T.transaction_hash))),R&&o().createElement(a.Popover,{alignment:"right",className:"crypto-transactions-history__table-tooltip",data_testid:"dt_crypto_transactions_history_table_tooltip",message:(0,c.localize)("The details of this transaction is available on CoinsPaid.")},o().createElement(a.Icon,{icon:"IcHelpCentre",custom_color:"var(--button-secondary-default)"}))):o().createElement(a.Text,{as:"p",size:"xs",color:"red"},T.transaction_hash))),!A&&o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-confirmations"},o().createElement(a.Text,{as:"p",size:"xs",color:"red"},null==T?void 0:T.confirmation_label)),!A&&o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",size:"xs"},P)),!A&&o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-status"},T&&o().createElement(a.Popover,{alignment:"left",className:"crypto-transactions-history__table-popover",message:T.description},o().createElement("div",{className:d()("crypto-transactions-history__table-status-code","crypto-transactions-history__table-status-code-".concat(T.renderer))}),o().createElement(a.Text,{as:"p",size:"xs"},T.name))),A?o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-confirm"},o().createElement("div",null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs"},(0,c.localize)("Are you sure you want to cancel this transaction?")),o().createElement(a.Button,{onClick:function(){D(!1),m(w)},primary:!0,text:(0,c.localize)("Yes")}),o().createElement(a.Button,{onClick:function(){D(!1)},secondary:!0,text:(0,c.localize)("No")}))):o().createElement(a.Table.Cell,{className:"crypto-transactions-history__table-action"},1===E&&o().createElement("div",{onClick:function(){D(!0)},"data-testid":"dt_crypto_transactions_history_table_button"},o().createElement(a.Popover,{alignment:"left",className:"crypto-transactions-history__table-popover",message:(0,c.localize)("Cancel transaction")},o().createElement(a.Icon,{icon:"IcCrossLight",size:10}))))))}));var w=r("../../hooks/src/index.ts");function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const k=(0,l.Pi)((function(){var e=(0,l.oR)().client,t=(0,s.E)(),r=t.transaction_history,n=t.general_store,f=r.setIsCryptoTransactionsVisible,d=(0,w.LK)(),p=d.data,h=d.is_loading,y=n.setIsDeposit,_=e.currency,v=x(o().useState(!1),2),b=v[0],O=v[1];return o().useEffect((function(){return function(){return f(!1)}}),[f,_]),o().createElement(o().Fragment,null,o().createElement("div",{className:"crypto-transactions-history"},o().createElement("div",{className:"crypto-transactions-history__header"},o().createElement("div",{className:"crypto-transactions-history__back",onClick:function(){f(!1),window.location.pathname.endsWith(i.routes.cashier_deposit)&&y(!0)},"data-testid":"dt_crypto_transactions_history_back"},o().createElement(a.Icon,{icon:(0,i.isMobile)()?"IcChevronLeftBold":"IcArrowLeftBold"}),o().createElement(a.Text,{as:"p",size:"xs",weight:"bold"},o().createElement(c.Localize,{i18n_default_text:" ".concat(_," recent transactions")})))),o().createElement(a.MobileWrapper,null,o().createElement(u,null),o().createElement(m,null)),((null==p?void 0:p.length)||0)>0?o().createElement(a.Table,{className:"crypto-transactions-history__table"},(0,i.isDesktop)()&&o().createElement(a.Table.Header,{className:"crypto-transactions-history__table-header"},o().createElement(a.Table.Row,{className:"crypto-transactions-history__table-row"},[{text:(0,c.localize)("Transaction")},{text:(0,c.localize)("Amount")},{text:(0,c.localize)("Address")},{text:(0,c.localize)("Transaction hash")},{text:(0,c.localize)("Confirmations")},{text:(0,c.localize)("Time")},{text:(0,c.localize)("Status")},{text:(0,c.localize)("Action")}].map((function(e){return o().createElement(a.Table.Head,{key:e.text},e.text)})))),o().createElement(a.Table.Body,{className:"crypto-transactions-history__table-body"},h?o().createElement(a.Loading,{is_fullscreen:!1}):o().createElement(a.DataList,{data_source:p,rowRenderer:function(e){return o().createElement(g,E({},e,{onTooltipClick:function(){return O(!0)}}))},keyMapper:function(e){return e.id},row_gap:(0,i.isMobile)()?8:0}))):o().createElement("div",{className:"crypto-transactions-history__empty-text"},o().createElement(a.Text,{as:"p",size:"xs",color:"disabled",align:"center"},o().createElement(c.Localize,{i18n_default_text:"No current transactions available"})))),o().createElement(a.Modal,{has_close_icon:!0,is_open:b,title:"Note",toggleModal:function(){return O((function(e){return!e}))},width:"44rem",height:"14rem",className:"crypto-transactions-history__modal"},o().createElement(a.Modal.Body,{className:"crypto-transactions-history__modal-body"},(0,c.localize)("The details of this transaction is available on CoinsPaid."))))}))},"./components/email-verification-empty-state/index.ts":(e,t,r)=>{r.d(t,{Z:()=>s});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/index.ts"),c=r("@deriv/translations");const l=function(e){var t=e.is_counter_running,r=e.counter,n=e.resend;return o().createElement(a.EmptyState,{title:(0,c.localize)("Didn't receive the email?"),description:(0,c.localize)("Check your spam or junk folder. If it's not there, try resending the email."),action:{label:t?(0,c.localize)("Resend email in {{seconds}}s",{seconds:r}):(0,c.localize)("Resend email"),onClick:n,disabled:t}})},s=function(e){var t=e.type,r=(0,i.hU)(t),n={label:(0,c.localize)("Didn't receive the email?"),onClick:function(){return r.send()},tertiary:!0};return o().createElement("div",{className:"email-verification-empty-state"},o().createElement(a.EmptyState,{icon:"IcEmailSent",title:(0,c.localize)("We've sent you an email."),description:(0,c.localize)("Please check your email for the verification link to complete the process."),action:r.has_been_sent?void 0:n}),r.has_been_sent&&o().createElement(l,{is_counter_running:r.is_counter_running,counter:r.counter,resend:function(){return r.send()}}))}},"./components/error-dialog/index.ts":(e,t,r)=>{r.d(t,{Z:()=>f});var n=r("react"),o=r.n(n),a=r("react-router-dom"),i=r("@deriv/components"),c=r("@deriv/translations"),l=r("@deriv/shared"),s=r("../../stores/src/index.ts");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const f=(0,s.Pi)((function(e){var t,r=e.className,n=e.error,m=void 0===n?{}:n,f=(0,s.oR)().ui,d=f.disableApp,p=f.enableApp,h=(0,a.useHistory)(),y=u(o().useState(!1),2),_=y[0],v=y[1],b=u(o().useState({title:"",cancel_button_text:void 0,confirm_button_text:"",onConfirm:void 0,message:""}),2),g=b[0],w=b[1],E=o().useCallback((function(){m.setErrorMessage&&m.setErrorMessage({code:"",message:""},null,!1),O(!1)}),[m]),x=o().useCallback((function(e,t){e&&["Fiat2CryptoTransferOverLimit","Crypto2FiatTransferOverLimit","Crypto2CryptoTransferOverLimit","CryptoLimitAgeVerified"].includes(e)?w({title:(0,c.localize)("Please verify your identity"),cancel_button_text:(0,c.localize)("Cancel"),confirm_button_text:(0,c.localize)("Verify identity"),onConfirm:function(){return h.push(l.routes.proof_of_identity)},message:t}):"FinancialAssessmentRequired"===e?w({title:(0,c.localize)("Cashier Error"),cancel_button_text:void 0,confirm_button_text:(0,c.localize)("OK"),onConfirm:void 0,message:o().createElement(c.Localize,{i18n_default_text:"Please complete your <0>financial assessment</0>.",components:[o().createElement(a.Link,{to:l.routes.financial_assessment,key:0,className:"link",onClick:E})]})}):e&&["CryptoMissingRequiredParameter","CryptoWithdrawalBalanceExceeded","CryptoWithdrawalLimitExceeded","CryptoWithdrawalMaxReached","CryptoWithdrawalNotAuthenticated","CryptoWithdrawalError"].includes(e)?w({title:(0,c.localize)("Error"),cancel_button_text:void 0,confirm_button_text:(0,c.localize)("Retry"),onConfirm:void 0,message:t,has_close_icon:!0}):w("CryptoWithdrawalReadMore"===e?{title:"",cancel_button_text:void 0,confirm_button_text:(0,c.localize)("OK"),onConfirm:void 0,message:t}:{title:(0,c.localize)("Cashier Error"),cancel_button_text:void 0,confirm_button_text:(0,c.localize)("OK"),onConfirm:void 0,message:t})}),[E,h]);o().useEffect((function(){m.message&&x(m.code,m.message)}),[m.code,m.message,x]),o().useEffect((function(){O(!!m.message)}),[m.message]),o().useEffect((function(){return function(){return E()}}),[]);var O=function(e){v(e)};return o().createElement(i.Dialog,{title:g.title,confirm_button_text:g.confirm_button_text,cancel_button_text:g.cancel_button_text,className:r,onConfirm:function(){"function"==typeof g.onConfirm&&g.onConfirm(),E()},onEscapeButtonCancel:E,onCancel:g.cancel_button_text?E:void 0,disableApp:d,enableApp:p,is_visible:_,portal_element_id:"modal_root",dismissable:!1,has_close_icon:null!==(t=g.has_close_icon)&&void 0!==t&&t},g.message)}))},"./components/error/index.ts":(e,t,r)=>{r.d(t,{Z:()=>s});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/shared"),c=r("@deriv/translations"),l=function(e){var t=e.header,r=e.message,n=e.button_link,c=e.onClickButton,l=e.button_text,s=e.footer;return o().createElement("div",{className:"cashier__wrapper cashier__wrapper-error"},o().createElement(a.Icon,{icon:"IcCashierError",className:"error__icon"}),t&&o().createElement(a.Text,{as:"h2",color:"loss-danger",weight:"bold",align:"center",className:"error__header"},t),r&&o().createElement(a.Text,{as:"p",align:"center",size:(0,i.isMobile)()?"xxs":"xs",line_height:"s",className:"cashier__paragraph"},r),n&&o().createElement(a.ButtonLink,{className:"error__button",to:n,onClick:c,size:"large"},o().createElement("span",{className:"dc-btn__text"},l)),!n&&l&&o().createElement(a.Button,{className:"error__button",onClick:c,text:l,primary:!0,large:!0}),s&&o().createElement(a.Text,{as:"h2",size:"xxs"},s))};const s=function(e){var t,r=e.error,n={address_city:(0,c.localize)("Town/City"),address_line_1:(0,c.localize)("First line of home address"),address_postcode:(0,c.localize)("Postal Code/ZIP"),address_state:(0,c.localize)("State/Province"),email:(0,c.localize)("Email address"),phone:(0,c.localize)("Telephone"),residence:(0,c.localize)("Country of Residence")},i=function(){"function"==typeof r.onClickButton&&r.onClickButton(),s()},s=function(){var e;null===(e=r.setErrorMessage)||void 0===e||e.call(r,{code:"",message:""})};switch(r.code){case"InvalidToken":t=o().createElement(l,{header:(0,c.localize)("Email verification failed"),message:o().createElement(c.Localize,{i18n_default_text:"The verification link you used is invalid or expired. Please request for a new one."}),onClickButton:i,button_text:(0,c.localize)("Resend email")});break;case"ASK_FIX_DETAILS":t=o().createElement(l,{header:(0,c.localize)("Update your personal details"),message:o().createElement(o().Fragment,null,o().createElement(c.Localize,{i18n_default_text:"We can't validate your personal details because there is some information missing."})," ",Array.isArray(r.fields)?o().createElement(c.Localize,{i18n_default_text:"Please update your {{details}} to continue.",values:{details:r.fields.map((function(e){return n[e]||e})).join(", "),interpolation:{escapeValue:!1}}}):o().createElement(c.Localize,{i18n_default_text:"Please update your details to continue."})),button_link:"/account/personal-details",onClickButton:i,button_text:(0,c.localize)("Update my details"),footer:o().createElement(c.Localize,{i18n_default_text:"Need help? <0>Contact us</0>.",components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"help-centre",is_document:!1})]})});break;case"WrongResponse":t=o().createElement(l,{header:r.message,onClickButton:i,button_text:(0,c.localize)("Try again")});break;case"PaymentAgentWithdrawError":t=o().createElement(l,{header:r.message,onClickButton:i});break;default:t=o().createElement(l,{header:r.message})}return t}},"./components/no-balance/index.ts":(e,t,r)=>{r.d(t,{Z:()=>d});var n=r("react"),o=r.n(n),a=r("react-router-dom"),i=r("@deriv/components"),c=r("../../hooks/src/index.ts"),l=r("@deriv/shared"),s=r("@deriv/translations"),u=r("../../stores/src/index.ts"),m=r("./stores/useCashierStores.tsx"),f=(0,u.Pi)((function(e){var t=e.history,r=e.onClickDeposit,n=(0,u.oR)().client.currency,a=(0,m.E)().general_store.setCashierTabIndex,f=(0,c.wN)();return o().createElement("div",{className:"cashier__wrapper cashier__no-balance"},o().createElement(i.Icon,{icon:"IcCashierNoBalance",className:"cashier__no-balance-icon",size:116}),o().createElement(i.Text,{as:"h2",weight:"bold",align:"center"},o().createElement(s.Localize,{i18n_default_text:"You have no funds in your {{currency}} account",values:{currency:(0,l.getCurrencyDisplayCode)(n)}})),!f&&o().createElement(o().Fragment,null,o().createElement(i.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"cashier__text"},o().createElement(s.Localize,{i18n_default_text:"Please make a deposit to use this feature."})),o().createElement(i.Button,{style:{marginTop:"2rem"},className:"cashier__no-balance-button",has_effect:!0,text:(0,s.localize)("Deposit now"),onClick:function(){r?r():(a(0),t.push(l.routes.cashier_deposit))},primary:!0,large:!0})))}));const d=(0,a.withRouter)(f)},"./components/page-container/index.ts":(e,t,r)=>{r.d(t,{_:()=>m});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../stores/src/index.ts"),c=r("@deriv/translations"),l=r("../../../node_modules/@deriv/ui/dist/es/components.js"),s=r("./stores/useCashierStores.tsx");const u=function(){var e=(0,s.E)().general_store,t=e.is_crypto,r=e.is_deposit,n=e.setIsDeposit,a=r&&t,i=[{value:0,text:(0,c.localize)("Cashier")},{value:1,text:(0,c.localize)("Deposit cryptocurrencies")}],u=[{value:0,text:(0,c.localize)("Cashier")},{value:1,text:(0,c.localize)("Deposit via bank wire, credit card, and e-wallet")}];return o().createElement("div",{className:"cashier-breadcrumb"},o().createElement(l.Breadcrumb,{items:a?i:u,handleOnClick:function(e){0===e.value&&n(!1)}}))},m=(0,i.Pi)((function(e){var t=e.hide_breadcrumb,r=void 0!==t&&t,n=e.children,c=e.left,l=e.right,s=(0,i.oR)(),m=s.client,f=s.ui.is_mobile,d=!m.is_authorize;return o().createElement("div",{className:"page-container"},d&&o().createElement(a.Loading,{is_fullscreen:!1}),!d&&o().createElement("div",{className:"page-container__content"},!f&&c&&o().createElement("div",{className:"page-container__sidebar--left"},c),o().createElement(a.ThemedScrollbars,{className:"page-container__main",height:"calc(100svh - 8rem)"},!r&&o().createElement(u,null),f&&c&&o().createElement("div",{className:"page-container__sidebar--left"},c),n,f&&l&&o().createElement("div",{className:"page-container__sidebar--right"},l)),!f&&o().createElement("div",{className:"page-container__sidebar--right"},l)))}))},"./components/percentage-selector/index.ts":(e,t,r)=>{r.d(t,{Z:()=>m});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/shared"),c=r("@deriv/translations"),l=r("../../hooks/src/index.ts");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const m=function(e){var t=e.amount,r=e.from_account,n=e.getCalculatedAmount,u=e.percentage,m=e.should_percentage_reset,f=e.to_account,d=e.from_currency,p=e.to_currency,h=s(o().useState("0"),2),y=h[0],_=h[1],v=(0,l.J)().getRate;o().useEffect((function(){if(m)for(var e=1;e<=4;e++){var t=document.getElementById(String(e));t&&(t.style.backgroundColor="var(--general-section-1)")}}),[m]),o().useEffect((function(){_(u||0)}),[u]),o().useEffect((function(){b({target:{id:0}},0)}),[r,f]);var b=function(e,r){var o=r,a=r>0&&r<=Number(y);a&&(o-=25),_(o||0);var c=v(d||""),l=v(p||""),s=t*(o/100)*l/c;n((t*(o/100)).toFixed((0,i.getDecimalPlaces)(d)),s);for(var u=1;u<=4;u++){var m=document.getElementById(String(u));m&&(u<e.target.id||u===Number(e.target.id)&&!a?m.style.backgroundColor="var(--status-success)":m.style.backgroundColor="var(--general-section-1)")}},g=(0,i.formatMoney)(d,t,!0),w=(0,i.getCurrencyDisplayCode)(d);return o().createElement(o().Fragment,null,o().createElement("div",{className:"percentage-selector","data-testid":"dt_percentage_selector_id"},o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"25%"),o().createElement("div",{id:"1",className:"percentage-selector-block",onClick:function(e){return b(e,25)},"data-testid":"dt_percentage_selector_block_id_1"})),o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"50%"),o().createElement("div",{id:"2",className:"percentage-selector-block",onClick:function(e){return b(e,50)},"data-testid":"dt_percentage_selector_block_id_2"})),o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"75%"),o().createElement("div",{id:"3",className:"percentage-selector-block",onClick:function(e){return b(e,75)},"data-testid":"dt_percentage_selector_block_id_3"})),o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},o().createElement(c.Localize,{i18n_default_text:"All"})),o().createElement("div",{id:"4",className:"percentage-selector-block",onClick:function(e){return b(e,100)},"data-testid":"dt_percentage_selector_block_id_4"}))),o().createElement(a.Text,{color:"less-prominent",size:"xxs",line_height:"l",className:"percentage-selector__text"},o().createElement(c.Localize,{i18n_default_text:"{{selected_percentage}}% of available balance ({{format_amount}} {{currency__display_code}})",values:{selected_percentage:y,format_amount:g,currency__display_code:w}})))}},"./components/side-note/index.ts":(e,t,r)=>{r.d(t,{Z:()=>f});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),a=r("react"),i=r.n(a),c=r("@deriv/components"),l=r("@deriv/translations"),s=r("@deriv/shared"),u=function(e){var t=e.children_length,r=e.side_notes_length,n=e.title,o=t||r||0;return i().createElement(c.Text,{className:"side-note-legacy__title",weight:"bold",as:"p"},n||(o>1?i().createElement(l.Localize,{i18n_default_text:"Notes"}):i().createElement(l.Localize,{i18n_default_text:"Note"})))},m=function(e){var t=e.children,r=e.id;return i().createElement("div",{className:"side-note-legacy__bullet-wrapper","data-testid":"dt_side_note_bullet_wrapper_".concat(r)},i().createElement("div",{className:"side-note-legacy__bullet","data-testid":"dt_side_note_bullet_".concat(r)}),i().createElement("div",null,t))};const f=function(e){var t=e.children,r=e.className,n=e.has_bullets,a=void 0===n||n,l=e.has_title,f=void 0===l||l,d=e.is_mobile,p=e.side_notes,h=e.title,y=d?c.MobileWrapper:c.DesktopWrapper;return i().createElement(i().Fragment,null,(t||(null==p?void 0:p.length))&&i().createElement(y,null,i().createElement("div",{className:o()("side-note-legacy",{"side-note-legacy--mobile":(0,s.isMobile)()},r)},f&&i().createElement(u,{title:h,children_length:Array.isArray(t)?null==t?void 0:t.length:1,side_notes_length:null==p?void 0:p.length}),t&&i().createElement(i().Fragment,null,t),!t&&(null==p?void 0:p.map((function(e,t){return a?i().createElement(m,{id:t,key:t},e):i().createElement(c.Text,{key:t,className:"side-note-legacy__text",size:"xxs",as:"p"},e)}))))))}},"./components/transfer-confirm/index.ts":(e,t,r)=>{r.d(t,{Z:()=>h});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),a=r("react"),i=r.n(a),c=r("@deriv/components"),l=r("@deriv/shared"),s=r("@deriv/translations"),u=r("./components/error-dialog/index.ts");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.item_key,r=e.label,n=e.value;return i().createElement("div",{className:"transfer-confirm__row"},Array.isArray(r)?i().createElement("div",{className:"transfer-confirm__row-label"},r.map((function(e,t){return i().createElement(c.Text,{as:"div",key:t,size:"xs",align:"left"},e)}))):i().createElement(c.Text,{size:"xs"},r),Array.isArray(n)?i().createElement("div",{className:"transfer-confirm__row-value"},n.map((function(e,t){return i().createElement(c.Text,{as:"div",key:t,size:"xs",weight:"bold",align:"right"},e)}))):i().createElement(c.Text,{size:"xs",weight:"bold",align:"right",className:o()({description:"description"===t})},n))},p=function(e){var t=e.children;return i().createElement("div",{className:"transfer-confirm__warnings-bullet-wrapper"},i().createElement("div",{className:"transfer-confirm__warnings-bullet"}),t)};const h=function(e){var t=e.data,r=e.error,n=e.is_payment_agent_withdraw,a=e.onClickBack,f=e.onClickConfirm,h=m(i().useState(!1),2),y=h[0],_=h[1],v=[i().createElement(s.Localize,{i18n_default_text:"Please ensure <0>all details</0> are <0>correct</0> before making your transfer.",components:[i().createElement("strong",{key:0})],key:0}),i().createElement(s.Localize,{i18n_default_text:"We <0>do not</0> guarantee a refund if you make a wrong transfer.",components:[i().createElement("strong",{key:0})],key:1})];return i().createElement("div",{className:o()("cashier__wrapper--align-center",{"transfer-confirm":!n})},i().createElement(c.Icon,{icon:"IcCashierRedWarning",className:"transfer-confirm__warning-icon",data_testid:"dt_red_warning_icon"}),i().createElement(c.Text,{as:"h2",color:"loss-danger",weight:"bold",align:"center",className:"transfer-confirm__warning-icon__description",size:(0,l.isMobile)()?"xs":"s"},n?(0,s.localize)("Funds transfer information"):(0,s.localize)("Check transfer information")),i().createElement("div",{className:"transfer-confirm__column-wrapper"},i().createElement("div",{className:"transfer-confirm__column"},t.map((function(e,t){return i().createElement(d,{item_key:t,label:e.label,value:e.value,key:t})})))),i().createElement("div",{className:"transfer-confirm__warnings"},v.map((function(e,t){return i().createElement(p,{key:t},i().createElement(c.Text,{as:"p",size:"xxs",line_height:"m",color:"loss-danger",align:"left"},e))}))),i().createElement("div",{className:"transfer-confirm__checkbox"},i().createElement(c.Checkbox,{name:"transfer_consent",value:y,onChange:function(){return _(!y)},label:n?(0,s.localize)("I confirm that I have verified the payment agent’s transfer information."):(0,s.localize)("I confirm that I have verified the client’s transfer information."),classNameLabel:"transfer-confirm__checkbox-label"})),i().createElement("div",{className:"transfer-confirm__submit"},i().createElement(c.Button,{large:!0,text:(0,s.localize)("Back"),onClick:a,secondary:!0}),i().createElement(c.Button,{large:!0,text:(0,s.localize)("Transfer now"),onClick:f,primary:!0,disabled:!y})),i().createElement(u.Z,{error:r}))}},"./modules/deposit-crypto/components/index.ts":(e,t,r)=>{r.d(t,{Zq:()=>s,De:()=>k,it:()=>C});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/index.ts"),c=r("../../stores/src/index.ts"),l=r("@deriv/translations");const s=(0,c.Pi)((function(){var e=(0,c.oR)().ui.is_mobile,t=(0,i.om)();return o().createElement(a.Text,{align:"center",size:e?"xs":"s",weight:"bold"},(0,l.localize)("Send only {{currency_name}} ({{currency_code}}) to this address.",{currency_name:t.name,currency_code:t.display_code}))}));var u={BTC:"Bitcoin (BTC)",ETH:"Ethereum (ETH)",LTC:"Litecoin (LTC)",UST:"Omnicore",USDC:"Ethereum (ERC20)",eUSDT:"Ethereum (ERC20) ",tUSDT:"Tron (TRC20) "};const m=(0,c.Pi)((function(){var e=(0,c.oR)().ui.is_mobile,t=(0,i.om)();return o().createElement("div",{className:"deposit-crypto-disclaimers"},o().createElement(a.InlineMessage,{title:(0,l.localize)("To avoid loss of funds:")},o().createElement("br",null),t.minimum_deposit&&o().createElement("li",null,o().createElement(l.Localize,{i18n_default_text:"A minimum deposit value of <0>{{minimum_deposit}}</0> {{currency}} is required. Otherwise, the funds will be lost and cannot be recovered.",values:{minimum_deposit:t.minimum_deposit,currency:t.display_code},components:[o().createElement("strong",{key:0})]})),o().createElement("li",null,(0,l.localize)("Do not send other currencies to this address.")),o().createElement("li",null,(0,l.localize)("Make sure to copy your Deriv account address correctly into your crypto wallet.")),o().createElement("li",null,o().createElement(l.Localize,{i18n_default_text:"In your cryptocurrency wallet, make sure to select the <0>{{network_name}} network</0> when you transfer funds to Deriv.",values:{network_name:u[t.code]},components:[o().createElement("strong",{key:0})]}))),o().createElement(a.Text,{align:"center",size:e?"xxxs":"xxs"},o().createElement(l.Localize,{i18n_default_text:"<0>Note:</0> You’ll receive an email when your deposit start being processed.",components:[o().createElement(a.Text,{key:0,size:e?"xxxs":"xxs",weight:"bold"})]})))}));var f=r("../../../node_modules/classnames/index.js"),d=r.n(f),p=r("./stores/useCashierStores.tsx"),h=r("../../../node_modules/moment/moment.js"),y=r.n(h);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const w=function(e){var t="deposit"===e.transaction_type,r=e.submit_date,n=e.confirmations,i=e.transaction_hash,c=e.address_url,s=c?"".concat(c.substring(0,4),"....").concat(c.substring(c.length-4)):(0,l.localize)("Pending"),u=i?"".concat(i.substring(0,4),"....").concat(i.substring(i.length-4)):(0,l.localize)("Pending"),m={CONFIRMED:(0,l.localize)("Successful"),ERROR:(0,l.localize)("Unsuccessful"),PENDING:(0,l.localize)("In process")},f={CONFIRMED:(0,l.localize)("Your deposit is successful."),ERROR:(0,l.localize)("Your deposit is unsuccessful due to an error on the blockchain. Please contact your crypto wallet service provider for more info."),PENDING:(0,l.localize)("We’ve received your request and are waiting for more blockchain confirmations.")},d={CANCELLED:(0,l.localize)("Cancelled"),ERROR:(0,l.localize)("Unsuccessful"),LOCKED:(0,l.localize)("In review"),PERFORMING_BLOCKCHAIN_TXN:(0,l.localize)("In process"),PROCESSING:(0,l.localize)("In process"),REJECTED:(0,l.localize)("Unsuccessful"),SENT:(0,l.localize)("Successful"),VERIFIED:(0,l.localize)("In process")},p={CANCELLED:(0,l.localize)("You’ve cancelled your withdrawal request."),ERROR:o().createElement(l.Localize,{key:0,i18n_default_text:"Your withdrawal is unsuccessful due to an error on the blockchain. Please <0>contact us</0> via live chat for more info.",values:{interpolation:{escapeValue:!1}},components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"contact-us/?is_livechat_open=true"})]}),LOCKED:(0,l.localize)("We're reviewing your withdrawal request. You may still cancel this transaction if you wish. Once we start processing, you won't be able to cancel."),PERFORMING_BLOCKCHAIN_TXN:(0,l.localize)("We’re sending your request to the blockchain."),PROCESSING:(0,l.localize)("We’re awaiting confirmation from the blockchain."),REJECTED:(0,l.localize)("Your withdrawal is unsuccessful. We've sent you an email with more information."),SENT:(0,l.localize)("Your withdrawal is successful."),VERIFIED:(0,l.localize)("We’re processing your withdrawal.")},h={CONFIRMED:u,ERROR:(0,l.localize)("NA"),PENDING:u},_={CANCELLED:(0,l.localize)("NA"),ERROR:(0,l.localize)("NA"),LOCKED:u,PERFORMING_BLOCKCHAIN_TXN:u,PROCESSING:u,REJECTED:(0,l.localize)("NA"),SENT:u,VERIFIED:u},v={CONFIRMED:(0,l.localize)("Confirmed"),ERROR:(0,l.localize)("NA"),PENDING:n?"".concat(n):(0,l.localize)("Pending")},g=t?{CONFIRMED:"successful",ERROR:"unsuccessful",PENDING:"warning"}[e.status_code]:{CANCELLED:"unsuccessful",ERROR:"unsuccessful",LOCKED:"warning",PERFORMING_BLOCKCHAIN_TXN:"warning",PROCESSING:"warning",REJECTED:"unsuccessful",SENT:"successful",VERIFIED:"warning"}[e.status_code],w=t?m[e.status_code]:d[e.status_code],E=t?f[e.status_code]:p[e.status_code],x=t?h[e.status_code]:_[e.status_code],O=t?v[e.status_code]:{CANCELLED:"-",ERROR:"-",LOCKED:"-",PERFORMING_BLOCKCHAIN_TXN:"-",PROCESSING:"-",REJECTED:"-",SENT:"-",VERIFIED:"-"}[e.status_code],k=y().unix(r||0).utc().format("MMM D, YYYY");return b(b({},e),{},{is_deposit:t,status_color:g,status_name:w,status_description:E,transaction_hash_display:x,address_url_display:s,confirmation_display:O,submit_date_display:k})},E=(0,c.Pi)((function(){var e=(0,c.oR)().ui.is_mobile,t=(0,p.E)().transaction_history.setIsCryptoTransactionsVisible,r=(0,i.LK)(),s=r.last_transaction,u=r.has_transactions,m=r.is_loading,f=r.error,h=r.subscribe,y=(0,i.om)(),_=(0,n.useCallback)((function(){if(!s)return null;var e=w(s),r=e.is_deposit,n=e.status_color,i=e.status_name,c=e.amount,u=e.submit_date_display,m=e.address_url_display,f=e.confirmation_display,p=e.transaction_hash_display;return o().createElement(o().Fragment,null,o().createElement("div",{className:"crypto-transactions-side-note-recent-transaction__content"},o().createElement(a.Text,{size:"xxs"},r?(0,l.localize)("Deposit {{currency}}",{currency:y.display_code}):(0,l.localize)("Withdrawal {{currency}}",{currency:y.display_code})),o().createElement(a.Text,{size:"xxxs",color:"less-prominent",className:"crypto-transactions-side-note-recent-transaction__date"},(0,l.localize)("{{amount}} {{currency}} on {{date}}",{amount:c,currency:y.display_code,date:u})),o().createElement(a.Text,{size:"xxxs"},o().createElement(l.Localize,{i18n_default_text:"Address: <0>{{value}}</0>",values:{value:m},components:[o().createElement(a.Text,{key:0,size:"xxxs",color:"red"})]})),o().createElement(a.Text,{size:"xxxs"},o().createElement(l.Localize,{i18n_default_text:"Transaction hash: <0>{{value}}</0>",values:{value:p},components:[o().createElement(a.Text,{key:0,size:"xxxs",color:"red"})]})),r&&o().createElement(a.Text,{size:"xxxs"},o().createElement(l.Localize,{i18n_default_text:"Confirmations: <0>{{value}}</0>",values:{value:f},components:[o().createElement(a.Text,{key:0,size:"xxxs",color:"red"})]})),o().createElement("div",{className:"crypto-transactions-side-note-recent-transaction__status"},o().createElement("div",{className:d()("crypto-transactions-side-note-recent-transaction__status-dot","crypto-transactions-side-note-recent-transaction__status-dot-".concat(n))}),o().createElement(a.Text,{size:"xxxs"},i))),o().createElement("div",{className:"crypto-transactions-side-note-recent-transaction__divider"}),o().createElement(a.Button,{text:(0,l.localize)("View more"),onClick:function(){return t(!0)},secondary:!0,small:!0,className:"crypto-transactions-side-note-recent-transaction__button"}))}),[y.display_code,s,t]),v=(0,n.useCallback)((function(){return o().createElement(a.Loading,{is_fullscreen:!1})}),[]),b=(0,n.useCallback)((function(){return o().createElement(o().Fragment,null,o().createElement(a.Text,{size:e?"xxs":"xs"},(0,l.localize)("Unfortunately, we cannot retrieve the information at this time. ")),o().createElement("div",{className:"crypto-transactions-side-note-recent-transaction__divider"}),o().createElement(a.Button,{text:(0,l.localize)("Refresh"),onClick:function(){return h()},secondary:!0,small:!0,className:"crypto-transactions-side-note-recent-transaction__button"}))}),[e,h]),g=(0,n.useCallback)((function(){return o().createElement(o().Fragment,null,o().createElement(a.Text,{size:e?"xxs":"xs"},(0,l.localize)("No recent transactions.")),o().createElement("div",{className:"crypto-transactions-side-note-recent-transaction__divider"}))}),[e]);return o().createElement(a.SideNote,{type:f?"warning":void 0,title:(0,l.localize)("Transaction status")},o().createElement("div",{className:"crypto-transactions-side-note-recent-transaction"},o().createElement("div",{className:"crypto-transactions-side-note-recent-transaction__divider"}),m&&o().createElement(v,null),!m&&!f&&u&&o().createElement(_,null),!m&&!f&&!u&&o().createElement(g,null),f?o().createElement(b,null):o().createElement(o().Fragment,null)))}));function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const O=function(e){var t=e.currency,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState(!1),2),i=r[0],c=r[1],s=(0,n.useMemo)((function(){return{eUSDT:{side_note_title:(0,l.localize)("About Tether (Ethereum)"),side_note_description:o().createElement(l.Localize,{i18n_default_text:"Deriv currently supports withdrawals of Tether eUSDT to Ethereum wallet. To ensure a successful transaction, enter a wallet address compatible with the tokens you wish to withdraw. <0>Learn more</0>",components:[o().createElement("a",{key:0,className:"link link--orange",onClick:function(){return c(!0)}})]}),modal_title:(0,l.localize)("About Tether"),modal_header:(0,l.localize)("Tether is a blockchain-enabled platform designed to facilitate the use of fiat currencies in a digital manner."),modal_bullet:(0,l.localize)("Tether on Ethereum (eUSDT)"),modal_description:(0,l.localize)("Tether on the Ethereum blockchain, as an ERC20 token, is a newer transport layer, which now makes Tether available in Ethereum smart contracts. As a standard ERC20 token, it can also be sent to any Ethereum address.")},USDT:{side_note_title:(0,l.localize)("About Tether (Omni)"),side_note_description:o().createElement(l.Localize,{i18n_default_text:"Deriv currently supports withdrawals of Tether USDT to Omni wallet. To ensure a successful transaction, enter a wallet address compatible with the tokens you wish to withdraw. <0>Learn more</0>",components:[o().createElement("a",{key:0,className:"link link--orange",onClick:function(){return c(!0)}})]}),modal_title:(0,l.localize)("About Tether"),modal_header:(0,l.localize)("Tether is a blockchain-enabled platform designed to facilitate the use of fiat currencies in a digital manner."),modal_bullet:(0,l.localize)("Tether on Omni Layer (USDT)"),modal_description:(0,l.localize)("Tether was originally created to use the bitcoin network as its transport protocol ‒ specifically, the Omni Layer ‒ to allow transactions of tokenised traditional currency.")}}}),[])[t];return o().createElement(a.SideNote,{title:s.side_note_title,description:s.side_note_description},o().createElement(a.Modal,{title:s.modal_title,has_close_icon:!0,is_open:i,small:!0,toggleModal:function(){return c((function(e){return!e}))}},o().createElement(a.Modal.Body,{className:"deposit-crypto-side-notes__modal-body"},o().createElement(a.Text,{size:"xs"},s.modal_header),o().createElement("br",null),o().createElement("br",null),o().createElement(a.Text,{as:"li",size:"xs",weight:"bold"},s.modal_bullet),o().createElement(a.Text,{as:"ul",size:"xs",className:"deposit-crypto-side-notes__modal-bullet"},s.modal_description))))},k=(0,c.Pi)((function(){var e=(0,i.om)();return o().createElement(o().Fragment,null,o().createElement(E,null),e.is_USDT&&o().createElement(O,{currency:"USDT"}),e.is_eUSDT&&o().createElement(O,{currency:"eUSDT"}))}));var S=r("../../../node_modules/qrcode.react/lib/index.js"),z=r.n(S);const C=(0,c.Pi)((function(){var e=(0,c.oR)().ui.is_mobile,t=(0,i.Km)(),r=t.data,n=t.isLoading,s=t.error,u=t.resend;return n?o().createElement(a.Loading,{is_fullscreen:!1}):s?o().createElement("div",{className:"deposit-crypto-wallet-address__error"},o().createElement(a.InlineMessage,{type:"warning",message:(0,l.localize)("Unfortunately, we couldn't get the address since our server was down. Please click Refresh to reload the address or try again later.")}),o().createElement(a.Button,{text:(0,l.localize)("Refresh"),onClick:function(){return u()},secondary:!0,small:!0})):o().createElement(o().Fragment,null,o().createElement(z(),{value:r||"",size:e?128:160,className:"deposit-crypto-wallet-address__qrcode-container"}),o().createElement("div",{className:"deposit-crypto-wallet-address__address-container"},o().createElement("div",{className:"deposit-crypto-wallet-address__hash-container"},o().createElement(a.Text,{size:e?"xxs":"xs",weight:"bold"},r)),o().createElement("div",{className:"deposit-crypto-wallet-address__action-container"},o().createElement(a.Clipboard,{text_copy:r||"",info_message:e?void 0:(0,l.localize)("copy"),success_message:(0,l.localize)("copied!"),popoverAlignment:e?"left":"bottom"}))),o().createElement(m,null))}))},"./pages/account-transfer/index.ts":(e,t,r)=>{r.d(t,{default:()=>ye});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/shared"),c=r("../../stores/src/index.ts"),l=r("./components/error/index.ts"),s=r("./components/no-balance/index.ts"),u=r("./components/cashier-container/index.ts"),m=r("./components/cashier-locked/index.ts"),f=r("../../../node_modules/classnames/index.js"),d=r.n(f),p=r("react-router-dom"),h=r("../../../node_modules/formik/dist/formik.esm.js"),y=r("@deriv/translations"),_=r("./components/crypto-fiat-converter/index.ts"),v=r("./components/error-dialog/index.ts"),b=r("./components/percentage-selector/index.ts"),g=function(e){var t=e.children;return o().createElement("div",{className:"account-transfer-form__bullet-wrapper"},o().createElement("div",{className:"account-transfer-form__bullet"}),o().createElement(a.Text,{size:"xxs"},t))};const w=function(e){var t=e.allowed_transfers_count,r=e.currency,a=e.is_crypto_to_crypto_transfer,c=e.is_derivez_transfer,l=e.is_dxtrade_allowed,s=e.is_dxtrade_transfer,u=e.is_from_derivgo,m=e.is_mt_transfer,f=e.minimum_fee,d=e.transfer_fee,p=(0,i.getPlatformSettings)("dxtrade").name,h=(0,i.getPlatformSettings)("mt5").name,_=(0,i.getPlatformSettings)("derivez").name,v=(0,n.useCallback)((function(){return 0===d?u&&c?o().createElement(y.Localize,{i18n_default_text:"We do not charge a transfer fee for transfers in the same currency between your Deriv fiat and {{platform_name_mt5}} accounts, your Deriv fiat and {{platform_name_derivez}} accounts and your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:p,platform_name_mt5:h,platform_name_derivez:_}}):l?o().createElement(y.Localize,{i18n_default_text:"We do not charge a transfer fee for transfers in the same currency between your Deriv fiat and {{platform_name_mt5}} accounts and between your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:p,platform_name_mt5:h}}):o().createElement(y.Localize,{i18n_default_text:"You’ll not be charged a transfer fee for transfers in the same currency between your Deriv fiat and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:h}}):1===d?u&&c?o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 1% transfer fee for transfers in different currencies between your Deriv fiat and {{platform_name_mt5}} accounts, your Deriv fiat and {{platform_name_derivez}} accounts, and your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:p,platform_name_mt5:h,platform_name_derivez:_}}):l?o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 1% transfer fee for transfers in different currencies between your Deriv fiat and {{platform_name_mt5}} accounts and between your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:p,platform_name_mt5:h}}):o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 1% transfer fee for transfers in different currencies between your Deriv fiat and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:h}}):2===d&&a?o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency accounts.",values:{minimum_fee:f,currency:(0,i.getCurrencyDisplayCode)(r)}}):2===d&&(m||s||c)?u&&c?o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency and Deriv MT5 accounts, your Deriv cryptocurrency and {{platform_name_derivez}} accounts, and your Deriv cryptocurrency and {{platform_name_dxtrade}} accounts.",values:{minimum_fee:f,currency:(0,i.getCurrencyDisplayCode)(r),platform_name_derivez:_,platform_name_dxtrade:p}}):l?o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency and Deriv MT5 accounts and between your Deriv cryptocurrency and {{platform_name_dxtrade}} accounts.",values:{minimum_fee:f,currency:(0,i.getCurrencyDisplayCode)(r),platform_name_dxtrade:p}}):o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency and Deriv MT5 accounts.",values:{minimum_fee:f,currency:(0,i.getCurrencyDisplayCode)(r)}}):2!==d||m||s||c?null:o().createElement(y.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv fiat and Deriv cryptocurrency accounts.",values:{minimum_fee:f,currency:(0,i.getCurrencyDisplayCode)(r)}})}),[r,a,c,l,s,u,m,f,_,p,h,d]),b=(0,n.useCallback)((function(){return u&&c?o().createElement(o().Fragment,null,o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"You may transfer between your Deriv fiat, cryptocurrency, {{platform_name_mt5}}, {{platform_name_derivez}} and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:p,platform_name_mt5:h,platform_name_derivez:_}})),o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"Each day, you can make up to {{ allowed_internal }} transfers between your Deriv accounts, up to {{ allowed_mt5 }} transfers between your Deriv and {{platform_name_mt5}} accounts, up to {{ allowed_derivez }} transfers between your Deriv and {{platform_name_derivez}} accounts, and up to {{ allowed_dxtrade }} transfers between your Deriv and {{platform_name_dxtrade}} accounts.",values:{allowed_internal:null==t?void 0:t.internal,allowed_mt5:null==t?void 0:t.mt5,allowed_dxtrade:null==t?void 0:t.dxtrade,allowed_derivez:null==t?void 0:t.derivez,platform_name_dxtrade:p,platform_name_mt5:h,platform_name_derivez:_}}))):null}),[null==t?void 0:t.derivez,null==t?void 0:t.dxtrade,null==t?void 0:t.internal,null==t?void 0:t.mt5,c,u,_,p,h]),w=(0,n.useCallback)((function(){return l?o().createElement(o().Fragment,null,o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"You may transfer between your Deriv fiat, cryptocurrency, {{platform_name_mt5}}, and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:p,platform_name_mt5:h}})),o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"Each day, you can make up to {{ allowed_internal }} transfers between your Deriv accounts, up to {{ allowed_mt5 }} transfers between your Deriv and {{platform_name_mt5}} accounts, and up to {{ allowed_dxtrade }} transfers between your Deriv and {{platform_name_dxtrade}} accounts.",values:{allowed_internal:null==t?void 0:t.internal,allowed_mt5:null==t?void 0:t.mt5,allowed_dxtrade:null==t?void 0:t.dxtrade,platform_name_dxtrade:p,platform_name_mt5:h}}))):o().createElement(o().Fragment,null,o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"You may transfer between your Deriv fiat, cryptocurrency, and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:h}})),o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"Each day, you can make up to {{ allowed_internal }} transfers between your Deriv accounts and up to {{ allowed_mt5 }} transfers between your Deriv and {{platform_name_mt5}} accounts.",values:{allowed_internal:null==t?void 0:t.internal,allowed_mt5:null==t?void 0:t.mt5,platform_name_mt5:h}})))}),[null==t?void 0:t.dxtrade,null==t?void 0:t.internal,null==t?void 0:t.mt5,l,p,h]);return o().createElement("div",{className:"account-transfer-form__notes"},b(),w(),o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"Transfer limits may vary depending on the exchange rates."})),o().createElement(g,null,v()," ",o().createElement(y.Localize,{i18n_default_text:"Please bear in mind that some transfers may not be possible."})),o().createElement(g,null,o().createElement(y.Localize,{i18n_default_text:"Transfers may be unavailable due to high volatility or technical issues and when the exchange markets are closed."})))};var E=r("./components/side-note/index.ts"),x=["styles"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}var k=["styles"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}var z=["styles"];function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}var j=["styles"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}var P=["styles"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}var T={Derived:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,x);return o().createElement("svg",O({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#2A3052"}),o().createElement("path",{d:"M26.7 23H0V6.18l29.91-4.73c.22.2.43.4.62.62L26.7 23z",fill:"#0364B9"}),o().createElement("path",{d:"M0 6a6 6 0 016-6h20c1.5 0 2.86.55 3.92 1.45L0 6.17V6zm26.7 17l3.83-20.93A5.97 5.97 0 0132 6v17h-5.3z",fill:"#0A559E"}),o().createElement("path",{d:"M7.34 9.68c.15.27.31.6.5.99.19.38.38.8.58 1.26.21.45.41.9.61 1.38l.57 1.33.56-1.33a78.87 78.87 0 011.19-2.64l.5-.99h1.7a52.27 52.27 0 01.4 4l.15 2.22.12 2.1h-1.83c-.02-.8-.05-1.69-.1-2.64-.03-.95-.1-1.91-.17-2.88a517.56 517.56 0 01-1.01 2.34 108.94 108.94 0 01-.9 2.12h-1.3a118.46 118.46 0 00-.92-2.12l-.52-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.71 18H4.9L5 15.9l.15-2.22a47.67 47.67 0 01.4-4h1.8zm14.02 0v1.6h-2.51V18h-1.88v-6.72h-2.5v-1.6h6.89zm3.96 5.87a1.18 1.18 0 00-.16-.61c-.1-.18-.28-.34-.54-.46a3.8 3.8 0 00-1.03-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.13.15 6.41 6.41 0 01-.68-.1 7.3 7.3 0 01-.59-.14 2.3 2.3 0 01-.4-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32.24-.22.37-.48.37-.78zM10.87 28.81l.15.02h.21c.47 0 .82-.12 1.04-.36.23-.23.34-.56.34-.98 0-.43-.1-.76-.32-.99-.22-.22-.56-.33-1.03-.33a3.37 3.37 0 00-.39.02v2.62zm2.7-1.32c0 .36-.05.68-.16.95a1.73 1.73 0 01-.48.66 2 2 0 01-.75.4 3.5 3.5 0 01-1 .13c-.16 0-.36 0-.58-.02a4.51 4.51 0 01-.66-.09v-4.05a9.16 9.16 0 011.28-.1c.35 0 .67.04.96.12.3.08.54.2.75.38.2.17.37.39.48.66.11.27.17.59.17.96zm2-2.12c.63 0 1.1.11 1.44.34.33.22.5.56.5 1.03 0 .29-.07.53-.2.71-.14.18-.33.32-.58.43a5.31 5.31 0 01.53.78 10.05 10.05 0 01.5.92h-1.05a49.79 49.79 0 00-.23-.42 6.82 6.82 0 00-.24-.4 7.53 7.53 0 00-.24-.38 3.8 3.8 0 00-.24-.32h-.47v1.52h-.93v-4.1a5.31 5.31 0 01.63-.09 8.2 8.2 0 01.59-.02zm.06.8a2.63 2.63 0 00-.34.02v1.12h.27c.35 0 .6-.04.75-.13.16-.09.23-.24.23-.45 0-.2-.07-.35-.23-.43a1.38 1.38 0 00-.68-.13zm3.88 3.4a31.27 31.27 0 01-.94-2.2 58.21 58.21 0 01-.72-1.95h1.03l.26.78.3.83.28.79.26.65a17.1 17.1 0 00.54-1.44 96.8 96.8 0 00.55-1.61h1l-.32.9a37.71 37.71 0 01-.86 2.17l-.48 1.09h-.9z",fill:"#fff"}))},Financial:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,k);return o().createElement("svg",S({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#71BD0E"}),o().createElement("path",{d:"M26.7 23H0V6.18l29.91-4.73c.22.2.43.4.62.62L26.7 23z",fill:"#0364B9"}),o().createElement("path",{d:"M0 6a6 6 0 016-6h20c1.5 0 2.86.55 3.92 1.45L0 6.17V6zm26.7 17l3.83-20.93A5.97 5.97 0 0132 6v17h-5.3z",fill:"#0A559E"}),o().createElement("path",{d:"M7.34 9.68c.15.27.31.6.5.99.19.38.38.8.58 1.26.21.45.41.9.61 1.38l.57 1.33.56-1.33a78.87 78.87 0 011.19-2.64l.5-.99h1.7a52.27 52.27 0 01.4 4l.15 2.22.12 2.1h-1.83c-.02-.8-.05-1.69-.1-2.64-.03-.95-.1-1.91-.17-2.88a517.56 517.56 0 01-1.01 2.34 108.94 108.94 0 01-.9 2.12h-1.3a118.46 118.46 0 00-.92-2.12l-.52-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.71 18H4.9L5 15.9l.15-2.22a47.67 47.67 0 01.4-4h1.8zm14.02 0v1.6h-2.51V18h-1.88v-6.72h-2.5v-1.6h6.89zm3.96 5.87a1.18 1.18 0 00-.16-.61c-.1-.18-.28-.34-.54-.46a3.8 3.8 0 00-1.03-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.13.15 6.41 6.41 0 01-.68-.1 7.3 7.3 0 01-.59-.14 2.3 2.3 0 01-.4-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32.24-.22.37-.48.37-.78zM11.54 29.58v-4.16h2.78v.79h-1.84v.87h1.64v.78h-1.64v1.72h-.94zm3.45-4.16h.93v4.16H15v-4.16zm4.68 4.16a20.92 20.92 0 00-.87-1.41 14.33 14.33 0 00-1-1.32v2.73h-.92v-4.16h.77a7.33 7.33 0 01.92 1.1 15.66 15.66 0 01.96 1.35v-2.45h.93v4.16h-.79z",fill:"#fff"}))},Options:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,z);return o().createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32"},t),o().createElement("path",{fill:"var(--text-prominent)",d:"M0 6a6 6 0 016-6h20a6 6 0 016 6v20a6 6 0 01-6 6H6a6 6 0 01-6-6V6z"}),o().createElement("path",{fill:"var(--text-general)",d:"M6 0a6 6 0 00-6 6v.17l29.91-4.72A5.98 5.98 0 0026 0H6zm24.53 2.07L25.04 32H26a6 6 0 006-6V6c0-1.5-.55-2.88-1.47-3.93z"}),o().createElement("path",{fill:"#EF8933",d:"M17 19c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2h-4a2 2 0 01-2-2v-4z"}),o().createElement("path",{fill:"#4B6FA8",d:"M7 19c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2H9a2 2 0 01-2-2v-4z"}),o().createElement("path",{fill:"#76C0E3",d:"M17 9c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2h-4a2 2 0 01-2-2V9z"}),o().createElement("path",{fill:"#FF444F",d:"M7 9c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}))},CFDs:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,j);return o().createElement("svg",N({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#FF8C00"}),o().createElement("path",{d:"M26.7 23H0V6.18l29.91-4.73c.22.2.43.4.62.62L26.7 23z",fill:"#0364B9"}),o().createElement("path",{d:"M0 6a6 6 0 016-6h20c1.5 0 2.86.55 3.92 1.45L0 6.17V6zm26.7 17l3.83-20.93A5.97 5.97 0 0132 6v17h-5.3z",fill:"#0A559E"}),o().createElement("path",{d:"M7.35 9.68l.49.99a44.57 44.57 0 011.2 2.64l.56 1.33.57-1.33a78.87 78.87 0 011.18-2.64l.5-.99h1.71a52.27 52.27 0 01.4 4l.14 2.22.12 2.1H12.4l-.1-2.64c-.04-.95-.1-1.91-.18-2.88a517.56 517.56 0 01-1 2.34 108.94 108.94 0 01-.9 2.12H8.9a118.46 118.46 0 00-.92-2.12l-.51-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.72 18H4.9l.1-2.1.15-2.22.18-2.14c.07-.68.15-1.3.23-1.86h1.79zm14 0v1.6h-2.5V18h-1.87v-6.72h-2.51v-1.6h6.89zm3.97 5.87a1.18 1.18 0 00-.15-.61c-.1-.18-.29-.34-.54-.46a3.8 3.8 0 00-1.04-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.12.15 6.41 6.41 0 01-.69-.1 7.3 7.3 0 01-.58-.14 2.3 2.3 0 01-.41-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32s.37-.48.37-.78zm-14.3 14.12c-.68 0-1.2-.19-1.55-.57-.36-.37-.53-.9-.53-1.6 0-.34.05-.65.16-.91a1.84 1.84 0 011.12-1.11 2.42 2.42 0 011.32-.1c.15.02.27.05.38.08a1.68 1.68 0 01.43.19l-.27.76a2.25 2.25 0 00-.45-.18 2.1 2.1 0 00-.58-.07c-.14 0-.29.02-.43.07a.97.97 0 00-.36.24c-.1.1-.19.24-.25.4a1.72 1.72 0 00-.1.62c0 .19.02.37.06.54.04.16.11.3.2.42.1.12.22.22.38.29.15.07.33.1.55.1a2.52 2.52 0 00.65-.08 1.77 1.77 0 00.22-.07l.18-.08.26.75a2.2 2.2 0 01-.56.21c-.24.07-.52.1-.84.1zm1.99-.09v-4.15h2.78v.78h-1.84v.87h1.64v.79h-1.65v1.72h-.93zm4.38-.76l.15.02h.21c.47 0 .81-.12 1.04-.36.23-.23.34-.56.34-.98 0-.43-.1-.76-.32-.99-.22-.22-.56-.33-1.03-.33a3.37 3.37 0 00-.39.02v2.62zm2.7-1.32c0 .36-.05.68-.16.95a1.73 1.73 0 01-.48.66 2 2 0 01-.75.4 3.5 3.5 0 01-1 .13c-.17 0-.36 0-.59-.02a4.51 4.51 0 01-.66-.09v-4.05a9.16 9.16 0 011.28-.1c.36 0 .68.04.97.12.29.08.54.2.75.38.2.17.37.39.48.66.11.27.17.59.17.96zm1.63 1.44a.9.9 0 00.35-.04c.07-.04.1-.1.1-.2 0-.06-.04-.12-.13-.18a2.31 2.31 0 00-.4-.18 4.45 4.45 0 01-.38-.16 1.18 1.18 0 01-.3-.2.84.84 0 01-.18-.28 1.03 1.03 0 01-.06-.4c0-.3.1-.52.33-.7.22-.17.52-.25.9-.25a2.75 2.75 0 01.97.16l-.15.7a3.2 3.2 0 00-.34-.1 1.8 1.8 0 00-.41-.04c-.28 0-.42.07-.42.23 0 .04 0 .07.02.1a.23.23 0 00.07.08 1.77 1.77 0 00.38.18c.2.07.36.14.49.22.13.06.23.14.3.22.07.08.13.17.15.27.04.1.05.22.05.35a.8.8 0 01-.35.7c-.23.17-.56.25-1 .25a2.9 2.9 0 01-.7-.07 2.85 2.85 0 01-.38-.12l.15-.73a2.41 2.41 0 00.94.2z",fill:"#fff"}))},SwapFree:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,P);return o().createElement("svg",L({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M26 0H6a6 6 0 00-6 6v17.5h32V6a6 6 0 00-6-6z",fill:"#0364B9"}),o().createElement("path",{d:"M6 0a6 6 0 00-6 6v.17l29.91-4.72A5.98 5.98 0 0026 0H6zm26 6c0-1.5-.55-2.88-1.47-3.93L26.6 23.5H32V6z",fill:"#0A559E"}),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#0CC"}),o().createElement("path",{d:"M7.35 9.68l.49.99a44.57 44.57 0 011.2 2.64l.56 1.33.57-1.33a78.87 78.87 0 011.18-2.64l.5-.99h1.71a52.27 52.27 0 01.4 4l.14 2.22.12 2.1H12.4l-.1-2.64c-.04-.95-.1-1.91-.18-2.88a517.56 517.56 0 01-1 2.34 108.94 108.94 0 01-.9 2.12H8.9a118.46 118.46 0 00-.92-2.12l-.51-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.72 18H4.9l.1-2.1.15-2.22.18-2.14c.07-.68.15-1.3.23-1.86h1.79zm14 0v1.6h-2.5V18h-1.87v-6.72h-2.51v-1.6h6.89zm3.97 5.87a1.18 1.18 0 00-.15-.61c-.1-.18-.29-.34-.54-.46a3.8 3.8 0 00-1.04-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.12.15 6.41 6.41 0 01-.69-.1 7.3 7.3 0 01-.58-.14 2.3 2.3 0 01-.41-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32s.37-.48.37-.78zM11.31 28.87c.13 0 .24 0 .32-.03a.69.69 0 00.21-.09.32.32 0 00.11-.14.48.48 0 00.03-.17c0-.14-.06-.25-.19-.34-.13-.09-.35-.19-.66-.3a5.76 5.76 0 01-.4-.15 1.63 1.63 0 01-.38-.24 1.17 1.17 0 01-.26-.34 1.09 1.09 0 01-.1-.5 1.11 1.11 0 01.41-.91c.14-.1.3-.18.48-.24.2-.06.4-.09.64-.09a2.59 2.59 0 011.23.29l-.27.74a2.33 2.33 0 00-.39-.16 1.58 1.58 0 00-.51-.07.93.93 0 00-.49.1c-.1.05-.14.15-.14.28 0 .07.02.14.05.19.04.05.09.1.15.14l.23.12.29.1c.22.08.4.16.56.24.16.07.3.16.4.27a.97.97 0 01.24.36c.05.14.08.31.08.51 0 .4-.14.7-.41.91-.27.21-.68.32-1.23.32-.18 0-.35-.01-.5-.04a2.48 2.48 0 01-.69-.18 2.41 2.41 0 01-.2-.1l.26-.74c.13.06.28.13.46.18a2.5 2.5 0 00.67.08zm5.09-3l.15.56.2.63.2.66c.06.22.13.43.2.62a18.97 18.97 0 00.3-1.41 62.02 62.02 0 00.28-1.5h.97a40.98 40.98 0 01-.49 2.11c-.18.72-.37 1.4-.59 2.04h-.85a28.26 28.26 0 01-.41-1.2l-.4-1.27-.38 1.27c-.13.42-.26.82-.4 1.2h-.86a32 32 0 01-.6-2.04c-.17-.71-.33-1.42-.47-2.11h1.01a43.02 43.02 0 00.28 1.5 58.65 58.65 0 00.33 1.4 12.62 12.62 0 00.4-1.28l.18-.63.15-.55h.8zm2.9 3.71v-4.15h2.78v.78h-1.84v.87h1.64v.79h-1.64v1.72h-.94z",fill:"#fff"}))}};const I=function(e){var t=e.icon,r=e.className,n=e.size,a=e.onClick,i=T[t];return i?o().createElement(i,{className:r,style:{width:n,height:n},onClick:a}):null},A=function(e){var t,r,n=e.account,i=e.size,c=e.icon_class_name,l=e.appstore_icon_class_name,s=e.appstoreIconOnClickHandler;return n.is_mt&&n.platform_icon?o().createElement(I,{icon:n.platform_icon,size:i,className:l,onClick:s}):o().createElement(a.Icon,{icon:n.platform_icon||"IcCurrency-".concat(null==n||null===(t=n.currency)||void 0===t?void 0:t.toLowerCase()),size:i,className:c,data_testid:"dt_account_platform_icon_".concat(n.platform_icon||"currency_".concat(null==n||null===(r=n.currency)||void 0===r?void 0:r.toLowerCase()))})};var D=r("./stores/useCashierStores.tsx"),R=r("react-router");function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function F(){F=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(S([])));_&&_!==t&&r.call(_,a)&&(h=_);var v=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==M(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:z}}function z(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),l(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function B(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=(0,c.Pi)((function(e){var t=e.onClose,r=e.history,n=(0,c.oR)(),l=n.common,s=n.client,u=n.traders_hub,m=(0,D.E)().account_transfer,f=l.is_from_derivgo,p=s.loginid,h=s.switchAccount,_=u.closeAccountTransferModal,v=m.receipt,b=m.resetAccountTransfer,g=m.selected_from,w=m.selected_to,E=m.setShouldSwitchAccount,x=!location.pathname.startsWith(i.routes.cashier),O=U(o().useState(!1),2),k=O[0],S=O[1],z=U(o().useState({}),2),C=z[0],j=z[1];o().useEffect((function(){return function(){b(),_()}}),[b]);var N=function(){r.push(i.routes.statement),b()},P=function(){var e,t=(e=F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(C.value);case 2:N();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){B(a,n,o,i,c,"next",e)}function c(e){B(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),L=function(){S(!k)};return o().createElement("div",{className:d()("account-transfer-receipt__crypto",!x&&"account-transfer-receipt__crypto-padding")},o().createElement(a.Text,{as:"h2",color:"prominent",align:"center",weight:"bold",className:"cashier__header"},o().createElement(y.Localize,{i18n_default_text:"Your funds have been transferred"})),o().createElement("div",{className:"account-transfer-receipt__crypto--amount"},o().createElement(a.Text,{as:"p",size:"l",weight:"bold",color:"profit-success"},o().createElement(y.Localize,{i18n_default_text:"{{amount}} {{currency}}",values:{amount:v.amount_transferred,currency:(0,i.getCurrencyDisplayCode)(g.currency)}}))),o().createElement("div",{className:"account-transfer-receipt__crypto--details-wrapper"},o().createElement("div",{className:"crypto-transfer-from"},o().createElement("div",{className:"crypto-transfer-from-details"},o().createElement(A,{account:g,size:32}),o().createElement(a.Text,{as:"p",size:"s",weight:"bold"},o().createElement(y.Localize,{i18n_default_text:g.text}))),!(f&&g.is_derivez)&&o().createElement(a.Text,{as:"p",size:"s",color:"less-prominent",align:"center"},g.value)),o().createElement(a.Icon,{className:"crypto-transferred-icon",icon:"IcArrowDownBold"}),o().createElement("div",{className:"crypto-transfer-to"},o().createElement("div",{className:"crypto-transfer-to-details"},o().createElement(A,{account:w,size:32}),o().createElement(a.Text,{as:"p",size:"s",weight:"bold"},o().createElement(y.Localize,{i18n_default_text:w.text}))),!(f&&w.is_derivez)&&o().createElement(a.Text,{as:"p",size:"s",color:"less-prominent",align:"center"},w.value))),o().createElement("div",{className:"account-transfer-receipt__crypto--form-submit"},!f&&o().createElement(a.Button,{className:"account-transfer-receipt__button",has_effect:!0,text:(0,y.localize)("View transaction details"),onClick:function(){w.value===p||(w.is_mt||w.is_dxtrade)&&g.value===p?N():(E(!0),j(w.is_mt?g:w),L())},secondary:!0,large:!0}),o().createElement(a.Button,{className:"account-transfer-receipt__button",has_effect:!0,text:x?(0,y.localize)("Close"):(0,y.localize)("Make a new transfer"),onClick:x?t:b,primary:!0,large:!0})),o().createElement(a.Modal,{is_open:k,toggleModal:L,has_close_icon:(0,i.isMobile)(),className:"account_transfer_switch_modal",small:!0,title:(0,y.localize)("Switch to ".concat(C.currency," account?"))},o().createElement(a.Modal.Body,null,o().createElement(y.Localize,{i18n_default_text:"We’re switching over to your {{currency}} account to view the transaction.",values:{currency:C.currency}})),o().createElement(a.Modal.Footer,null,o().createElement(a.Button,{has_effect:!0,text:(0,y.localize)("Cancel"),onClick:function(){E(!1),L()},secondary:!0,large:!0}),o().createElement(a.Button,{has_effect:!0,text:(0,y.localize)("Switch to ".concat(C.currency," account")),onClick:P,primary:!0,large:!0}))))}));const G=(0,R.withRouter)(Y);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(this,arguments)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var X,Q=function(e){var t=e.account,r=e.idx;return o().createElement(o().Fragment,{key:r},(t.currency||t.platform_icon)&&o().createElement("div",{className:"account-transfer-form__icon"},o().createElement(A,{account:t,size:16})),o().createElement("div",{className:"account-transfer-form__currency-wrapper"},o().createElement(a.Text,{size:"xxs",line_height:"xs",styles:{color:"prominent",fontWeight:"inherit"}},t.is_dxtrade||t.is_mt||t.is_derivez?t.text:(0,i.getCurrencyName)(t.currency)),!t.is_derivez&&o().createElement(a.Text,{size:"xxxs",align:"left",color:"less-prominent"},t.value)),o().createElement("span",{className:"account-transfer-form__balance"},o().createElement(a.Money,{amount:t.balance,currency:t.currency,has_sign:Boolean(t.balance&&Number(t.balance)<0),show_currency:!0})))},ee=[],te=[],re=[],ne=[],oe=[],ae=[],ie=[],ce=[],le=(0,c.Pi)((function(e){var t,r=e.error,n=e.onClickDeposit,l=e.onClickNotes,s=e.setSideNotes,u=e.onClose,m=(0,c.oR)(),f=m.client,g=m.common.is_from_derivgo,x=f.account_limits,O=f.authentication_status,k=f.is_dxtrade_allowed,S=f.getLimits,z=(0,D.E)(),C=z.account_transfer,j=z.crypto_fiat_converter,N=z.general_store,P=C.account_transfer_amount,L=C.accounts_list,T=C.minimum_fee,I=C.onChangeTransferFrom,A=C.onChangeTransferTo,R=C.requestTransferBetweenAccounts,M=C.selected_from,F=C.selected_to,B=C.setAccountTransferAmount,U=C.error.setErrorMessage,W=C.setTransferPercentageSelectorResult,Y=C.transfer_fee,H=C.transfer_limit,V=C.validateTransferFromAmount,J=C.validateTransferToAmount,le=C.is_transfer_confirm,se=N.is_crypto,ue=N.percentage,me=N.should_percentage_reset,fe=j.converter_from_amount,de=j.converter_from_error,pe=j.converter_to_amount,he=j.converter_to_error,ye=j.onChangeConverterFromAmount,_e=j.onChangeConverterToAmount,ve=j.resetConverter,be=$(o().useState({}),2),ge=be[0],we=be[1],Ee=$(o().useState({}),2),xe=Ee[0],Oe=Ee[1],ke=$(o().useState(),2),Se=ke[0],ze=ke[1],Ce=!location.pathname.startsWith(i.routes.cashier),je=x.daily_transfers,Ne=null==je?void 0:je.mt5,Pe=null==je?void 0:je.dxtrade,Le=null==je?void 0:je.derivez,Te=null==je?void 0:je.internal,Ie=F.is_mt||M.is_mt,Ae=F.is_dxtrade||M.is_dxtrade,De=F.is_derivez||M.is_derivez,Re=(0,i.getPlatformSettings)("dxtrade").name,Me=(0,p.useHistory)(),Fe=function(e){if(!e)return(0,y.localize)("This field is required.");var t=(0,i.validNumber)(e,{type:"float",decimals:(0,i.getDecimalPlaces)(M.currency||""),min:Number(H.min),max:Number(H.max)}),r=t.is_ok,n=t.message;return r?void 0!==M.balance&&Number(M.balance)<Number(e)?(0,y.localize)("Insufficient balance"):void 0:n},Be=function(e,t){var r=t.is_mt,n=t.is_dxtrade,o=t.is_derivez;return"from"===e?r?ie:n?oe:o?re:ee:"to"===e?r?ce:n?ae:o?ne:te:[]};o().useEffect((function(){S()}),[S]),o().useEffect((function(){ee=[],ie=[],oe=[],re=[],te=[],ce=[],ae=[],ne=[],L.forEach((function(e,t){var r=o().createElement(Q,{idx:t,account:e}),n=e.value,a=e.is_mt||e.is_dxtrade||e.is_derivez;Be("from",e).push({text:r,value:n,is_mt:e.is_mt,is_dxtrade:e.is_dxtrade,nativepicker_text:"".concat(a?e.market_type:(0,i.getCurrencyName)(e.currency)," (").concat(e.balance," ").concat(a?e.currency:e.text,")")});var c=e.value===M.value;if(!(M.is_mt&&e.is_dxtrade||M.is_dxtrade&&e.is_mt||c)){var l=M.is_mt&&e.is_mt,s=M.is_dxtrade&&e.is_dxtrade,u=l||s;Be("to",e).push({text:r,value:n,is_mt:e.is_mt,is_dxtrade:e.is_dxtrade,is_derivez:e.is_derivez,disabled:u,nativepicker_text:"".concat(a?e.market_type:(0,i.getCurrencyName)(e.currency)," (").concat(e.balance," ").concat(a?e.currency:e.text,")")})}})),we(q(q(q(q({},ie.length&&K({},(0,y.localize)("Deriv MT5 accounts"),ie)),oe.length&&K({},(0,y.localize)("{{platform_name_dxtrade}} accounts",{platform_name_dxtrade:Re}),oe)),re.length&&K({},(0,y.localize)("Deriv EZ accounts"),re)),ee.length&&K({},(0,y.localize)("Deriv accounts"),ee))),Oe(q(q(q(q({},ce.length&&K({},(0,y.localize)("Deriv MT5 accounts"),ce)),ae.length&&K({},(0,y.localize)("{{platform_name_dxtrade}} accounts",{platform_name_dxtrade:Re}),ae)),ne.length&&K({},(0,y.localize)("Deriv EZ accounts"),ne)),te.length&&K({},(0,y.localize)("Deriv accounts"),te)))}),[L,F,M]),o().useEffect((function(){if(Object.keys(ge).length){var e=[];e.push(o().createElement(w,{allowed_transfers_count:{internal:null==Te?void 0:Te.allowed,mt5:null==Ne?void 0:Ne.allowed,dxtrade:null==Pe?void 0:Pe.allowed,derivez:null==Le?void 0:Le.allowed},transfer_fee:Y,currency:M.currency||"",minimum_fee:T,key:0,is_crypto_to_crypto_transfer:M.is_crypto&&F.is_crypto,is_dxtrade_allowed:k,is_dxtrade_transfer:Ae,is_mt_transfer:Ie,is_from_derivgo:g,is_derivez_transfer:De})),null==s||s([o().createElement(E.Z,{title:o().createElement(y.Localize,{i18n_default_text:"Notes"}),key:0},e)])}return function(){null==s||s([])}}),[Y,M,F,T,ge,k,s,se,null==Te?void 0:Te.allowed,null==Ne?void 0:Ne.allowed,null==Pe?void 0:Pe.allowed,null==Le?void 0:Le.allowed,Ae,Ie,g,De]),o().useEffect((function(){var e=(X=Ie?null==Ne?void 0:Ne.available:Ae?null==Pe?void 0:Pe.available:De?null==Le?void 0:Le.available:null==Te?void 0:Te.available)&&1===Number(X)?(0,y.localize)("You have {{number}} transfer remaining for today.",{number:X}):(0,y.localize)("You have {{number}} transfers remaining for today.",{number:X});ze(e),ve()}),[F,M,x]);var Ue=(null==M?void 0:M.is_mt)&&(null==M||null===(t=M.status)||void 0===t?void 0:t.includes("poa_failed"))&&"verified"!==(null==O?void 0:O.document_status),We=(0,y.localize)("You will be able to transfer funds between MT5 accounts and other accounts once your address is verified."),Ye=function(){return o().createElement(y.Localize,{i18n_default_text:"Please <0>resubmit</0> your proof of address to transfer funds between MT5 and Deriv accounts.",components:[o().createElement(p.Link,{key:0,to:i.routes.proof_of_address,className:"link dark"})]})},Ge=function(){n&&n(),Me.push(i.routes.cashier_deposit)},He=function(){return o().createElement("div",{className:"account-transfer-form__button-link",onClick:l},o().createElement(a.Text,{size:"xs",weight:"bold",color:"red"},o().createElement(y.Localize,{i18n_default_text:"Notes "})))};return le?o().createElement(G,{onClose:u}):o().createElement("div",{className:"cashier__wrapper account-transfer-form__wrapper","data-testid":"dt_account_transfer_form_wrapper"},!Ce&&o().createElement(a.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header cashier__content-header"},(0,y.localize)("Transfer between your accounts in Deriv")),o().createElement(h.J9,{initialValues:{amount:P||"",converter_from_amount:fe||"",converter_to_amount:pe||""},onSubmit:function(){R({amount:P?Number(P):0})},validateOnBlur:!1,enableReinitialize:!0},(function(e){var t,n,c=e.errors,l=e.handleChange,s=e.isSubmitting,u=e.setFieldValue,m=e.setFieldError,f=e.values;return o().createElement(o().Fragment,null,s||0===L.length?o().createElement("div",{className:"cashier__loader-wrapper","data-testid":"dt_cashier_loader_wrapper"},o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1})):o().createElement(h.l0,{noValidate:!0},o().createElement("div",{className:"cashier__drop-down-wrapper account-transfer-form__drop-down-wrapper","data-testid":"dt_account_transfer_form_drop_down_wrapper"},o().createElement(a.Dropdown,{id:"transfer_from",className:"account-transfer-form__drop-down",classNameDisplay:"cashier__drop-down-display",classNameDisplaySpan:"cashier__drop-down-display-span",classNameItems:"cashier__drop-down-items",classNameLabel:"cashier__drop-down-label",test_id:"dt_account_transfer_form_drop_down",is_large:!0,label:(0,y.localize)("From"),list:ge,list_height:"404",name:"transfer_from",value:M.value,onChange:function(e){I(e),l(e),u("amount",""),setTimeout((function(){return m("amount","")}))},error:M.error}),o().createElement(a.Dropdown,{id:"transfer_to",className:"account-transfer-form__drop-down account-transfer-form__drop-down--to-dropdown",classNameDisplay:"cashier__drop-down-display",classNameDisplaySpan:"cashier__drop-down-display-span",classNameItems:"cashier__drop-down-items",classNameLabel:"cashier__drop-down-label",classNameHint:"account-transfer-form__hint",test_id:"dt_account_transfer_form_to_dropdown",is_large:!0,label:(0,y.localize)("To"),list:xe,list_height:"404",name:"transfer_to",value:F.value,onChange:function(e){A(e),u("amount",""),setTimeout((function(){return m("amount","")}))},hint:Se,error:null!==(t=Ue?"pending"===(null==O?void 0:O.document_status)?We:o().createElement(Ye,null):null)&&void 0!==t?t:F.error})),M.currency===F.currency?o().createElement(h.gN,{name:"amount",validate:Fe},(function(e){var t=e.field;return o().createElement(a.Input,Z({},t,{onChange:function(e){U({code:"",message:""}),l(e),B(e.target.value)},className:d()("cashier__input dc-input--no-placeholder account-transfer-form__input",!Ce&&"account-transfer-form__input-fit-content"),classNameHint:d()("account-transfer-form__hint",{"account-transfer-form__hint__disabled":Ue}),"data-testid":"dt_account_transfer_form_input",name:"amount",type:"text",label:(0,y.localize)("Amount"),error:c.amount?c.amount:"",required:!0,trailing_icon:M.currency?o().createElement("span",{className:d()("symbols","symbols--".concat(M.currency.toLowerCase()))},(0,i.getCurrencyDisplayCode)(M.currency)):void 0,autoComplete:"off",maxLength:30,hint:H.max?o().createElement(y.Localize,{i18n_default_text:"Transfer limits: <0 /> - <1 />",components:[o().createElement(a.Money,{key:0,amount:H.min,currency:M.currency,show_currency:!0}),o().createElement(a.Money,{key:1,amount:H.max,currency:M.currency,show_currency:!0})]}):"",disabled:Ue}))})):o().createElement("div",{className:Ue?"account-transfer-form__crypto--disabled":""},o().createElement("div",{className:"account-transfer-form__crypto--percentage-selector"},o().createElement(b.Z,{amount:M.balance?Number(M.balance):0,from_account:M.value,getCalculatedAmount:W,percentage:ue,should_percentage_reset:me,to_account:F.value,from_currency:M.currency||"",to_currency:F.currency||""})),o().createElement(_.Z,{from_currency:M.currency||"",to_currency:F.currency||"",hint:H.max?o().createElement(y.Localize,{i18n_default_text:"Transfer limits: <0 /> - <1 />",components:[o().createElement(a.Money,{key:0,amount:H.min,currency:M.currency,show_currency:!0}),o().createElement(a.Money,{key:1,amount:H.max,currency:M.currency,show_currency:!0})]}):"",onChangeConverterFromAmount:ye,onChangeConverterToAmount:_e,resetConverter:ve,validateFromAmount:V,validateToAmount:J})),o().createElement("div",{className:d()("cashier__form-submit","account-transfer-form__form-buttons"),"data-testid":"dt_account_transfer_form_submit"},Ce&&o().createElement(He,null),o().createElement(a.Button,{className:"account-transfer-form__deposit-button",secondary:!0,large:!0,onClick:Ge},o().createElement(y.Localize,{i18n_default_text:"Deposit"})),o().createElement(a.Button,{className:"account-transfer-form__submit-button",type:"submit",is_disabled:s||X&&!Number(X)||!!M.error||!!F.error||M.balance&&!Number(M.balance)||!!de||!!he||!!c.amount||(n=f.amount,M.currency===F.currency?!n:!fe)||Ue,primary:!0,large:!0},o().createElement(y.Localize,{i18n_default_text:"Transfer"}))),!Ce&&o().createElement(E.Z,{title:o().createElement(y.Localize,{i18n_default_text:"Notes"}),is_mobile:!0},o().createElement(w,{allowed_transfers_count:{internal:null==Te?void 0:Te.allowed,mt5:null==Ne?void 0:Ne.allowed,dxtrade:null==Pe?void 0:Pe.allowed,derivez:null==Le?void 0:Le.allowed},transfer_fee:Y,currency:M.currency||"",minimum_fee:T,is_crypto_to_crypto_transfer:M.is_crypto&&F.is_crypto,is_dxtrade_allowed:k,is_dxtrade_transfer:Ae,is_mt_transfer:Ie,is_from_derivgo:g,is_derivez_transfer:De})),o().createElement(v.Z,{error:r})))})))}));le.displayName="AccountTransferForm";const se=le,ue=(0,c.Pi)((function(){var e=(0,c.oR)().traders_hub.closeModal,t=(0,p.useHistory)();return o().useEffect((function(){e()}),[]),o().createElement("div",{className:"cashier__wrapper cashier__no-balance"},o().createElement(a.Icon,{icon:"IcCashierNoBalance",className:"cashier__no-balance-icon",size:116}),o().createElement(a.Text,{as:"h2",weight:"bold",align:"center"},o().createElement(y.Localize,{i18n_default_text:"You only have one account"})),o().createElement(a.Text,{as:"p",size:"xs",line_height:"s",align:"center"},o().createElement(y.Localize,{i18n_default_text:"Transferring funds will require you to create a second account."})),o().createElement(a.Button,{className:"account-transfer-no-account__button",primary:!0,large:!0,onClick:function(){t.push(i.routes.traders_hub)}},o().createElement(y.Localize,{i18n_default_text:"Back to Trader's Hub"})))}));function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const fe=(0,c.Pi)((function(){var e=(0,c.oR)().client,t=e.is_financial_account,r=e.is_financial_information_incomplete,n=e.is_trading_experience_incomplete,l=(0,p.useHistory)(),s=function(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t&&(r||n)?[{content:(0,y.localize)("Complete the financial assessment form"),status:"action",onClick:function(){return l.push(i.routes.financial_assessment)}}]:[]);return o().createElement("div",{className:"cashier-locked"},o().createElement(a.Icon,{icon:"IcMoneyTransfer",className:"cashier-locked__icon"}),o().createElement(a.Text,{as:"h2",weight:"bold",align:"center",className:"cashier-locked__title"},(0,y.localize)("Transfers are locked")),o().createElement(o().Fragment,null,o().createElement("p",{className:"cashier-locked__desc"},(0,y.localize)("To enable this feature you must complete the following:")),o().createElement(a.Checklist,{className:"cashier-locked__checklist",items:s})))}));var de=r("../../hooks/src/index.ts");function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var he=(0,c.Pi)((function(e){var t=e.onClickDeposit,r=e.onClickNotes,n=e.onClose,f=e.setSideNotes,d=(0,c.oR)().client,p=(0,D.E)(),h=p.account_transfer,y=p.general_store,_=h.accounts_list,v=h.error,b=h.has_no_account,g=h.has_no_accounts_balance,w=h.is_transfer_locked,E=h.onMountAccountTransfer,x=h.setAccountTransferAmount,O=h.setIsTransferConfirm,k=y.is_loading,S=(0,de.Zu)(),z=d.is_switching,C=d.is_virtual,j=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState(!0),2),N=j[0],P=j[1];return o().useEffect((function(){return E(),i.WS.wait("authorize","website_status","get_settings","paymentagent_list").then((function(){P(!1)})),function(){x(""),O(!1)}}),[]),o().useEffect((function(){(g||z)&&(null==f||f([]))}),[f,g]),C?o().createElement(u.o,null):k||z||N?o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1}):S?o().createElement(m.Z,null):w?o().createElement(fe,null):v.is_show_full_page||v.message&&!_.length?o().createElement(l.Z,{error:v}):b?o().createElement(ue,null):g?o().createElement(s.Z,{onClickDeposit:t}):o().createElement(se,{onClose:n,error:v,setSideNotes:f,onClickDeposit:t,onClickNotes:r})}));const ye=he},"./pages/deposit/index.ts":(e,t,r)=>{r.d(t,{default:()=>te});var n=r("react"),o=r.n(n),a=r("../../hooks/src/index.ts"),i=r("../../stores/src/index.ts"),c=r("./components/crypto-transactions-history/index.ts"),l=r("./components/page-container/index.ts"),s=r("react-router"),u=r("./stores/useCashierStores.tsx"),m=r("@deriv/components"),f=r("@deriv/translations");const d=(0,i.Pi)((function(){var e=(0,i.oR)().client,t=e.loginid,r=e.is_eu,n=e.is_low_risk,c=(0,a.om)(),l=r?"EU ":"non-EU ",s=c.is_crypto||n?"":l;return o().createElement(m.InlineMessage,{type:"information",size:"sm",message:o().createElement(f.Localize,{i18n_default_text:"This is your <0>{{regulation}}{{currency}}</0> account {{loginid}}.",values:{regulation:s,currency:c.display_code,loginid:t},components:[o().createElement("strong",{key:0})]})})})),p=(0,i.Pi)((function(e){var t=e.title,r=e.description,n=e.onClick,a=e.children,c=(0,i.oR)().ui,l=c.is_dark_mode_on,s=c.is_mobile;return o().createElement("div",null,o().createElement(m.Text,{size:s?"s":"sm",weight:"bold",color:"prominent"},t),o().createElement("div",{className:"cashier-onboarding-card__container","data-testid":"dt_cashier_onboarding_card",onClick:n},o().createElement("div",{className:"cashier-onboarding-card__content"},o().createElement(m.Text,{size:s?"xxs":"xs",className:"cashier-onboarding-card__description"},r),o().createElement(m.Icon,{icon:l?"IcChevronRightBoldDark":"IcChevronRightBold",size:16})),a))})),h=function(e){var t=e.icons;return o().createElement("div",{"data-testid":"dt_cashier_onboarding_icon-marquee"},o().createElement(m.NewsTicker,{speed:10,className:"cashier-onboarding-icon-marquee"},o().createElement("div",{className:"cashier-onboarding-icon-marquee__container"},t.map((function(e,t){return o().createElement(m.Icon,{key:"".concat(e).concat(t),icon:e,width:72,height:45})})))))};var y=["IcCashierBitcoin","IcCashierEthereum","IcCashierLiteCoin","IcCashierUsdCoin","IcCashierTether"];const _=(0,i.Pi)((function(){var e=(0,i.oR)().ui,t=(0,u.E)().general_store,r=e.openRealAccountSignup,n=e.shouldNavigateAfterChooseCrypto,c=e.is_dark_mode_on,l=t.setDepositTarget,s=(0,a._S)(),m=(0,a.om)();return o().createElement(p,{title:(0,f.localize)("Deposit cryptocurrencies"),description:(0,f.localize)("We accept the following cryptocurrencies:"),onClick:function(){l("/cashier/deposit"),m.is_crypto||s?(r("choose"),n("/cashier/deposit")):r("add_crypto")}},o().createElement(h,{icons:y.map((function(e){return"".concat(e).concat(c?"Dark":"Light")}))}))}));function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new z(o||[]);return n(i,"_invoke",{value:x(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(C([])));_&&_!==t&&r.call(_,a)&&(h=_);var g=p.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==v(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=p,n(g,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),l(g,c,"Generator"),l(g,a,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function g(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const w=(0,i.Pi)((function(e){var t,r,n=e.is_visible,c=void 0!==n&&n,l=e.onCancel,s=e.onSwitchDone,u=(0,i.oR)().client.switchAccount,d=(0,a.Iu)(),p=null==d||null===(t=d[0])||void 0===t?void 0:t.loginid,h=null==d||null===(r=d[0])||void 0===r?void 0:r.title,y=function(){var e,t=(e=b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(p);case 2:s();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){g(a,n,o,i,c,"next",e)}function c(e){g(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return o().createElement(m.Dialog,{title:(0,f.localize)("Switch account?"),confirm_button_text:(0,f.localize)("Switch account"),cancel_button_text:(0,f.localize)("Cancel"),onConfirm:y,onCancel:l,is_visible:c,dismissable:!1,has_close_icon:!1,portal_element_id:"modal_root"},(0,f.localize)("To deposit money, please switch to your {{currency_symbol}} account.",{currency_symbol:h}))}));function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=["IcWalletCreditDebit","IcCashierInstantBankTransfer","IcCashierEwallet","IcCashierLocalPaymentMethods"];const O=(0,i.Pi)((function(){var e=(0,i.oR)().ui,t=(0,u.E)().general_store,r=e.openRealAccountSignup,c=e.is_dark_mode_on,l=t.setDepositTarget,s=t.setIsDeposit,m=(0,a.om)(),d=(0,a.Co)(),y=m.is_crypto&&d,_=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),v=_[0],b=_[1];return o().createElement(p,{title:(0,f.localize)("Deposit via bank wire, credit card, and e-wallet"),description:(0,f.localize)("Deposit via the following payment methods:"),onClick:v?void 0:function(){l("/cashier/deposit"),y?b(!0):m.is_crypto?r("add_fiat"):s(!0)}},o().createElement(h,{icons:x.map((function(e){return"".concat(e).concat(c?"Dark":"Light")}))}),y&&o().createElement(w,{is_visible:v,onCancel:function(){return b(!1)},onSwitchDone:function(){b(!1),s(!0)}}))}));var k=["IcCashierBanxa"];const S=(0,i.Pi)((function(){var e=(0,i.oR)().ui,t=(0,u.E)().general_store,r=e.openRealAccountSignup,n=e.shouldNavigateAfterChooseCrypto,c=e.is_dark_mode_on,l=t.setDepositTarget,s=(0,a._S)(),m=(0,a.om)();return o().createElement(p,{title:m.is_crypto?(0,f.localize)("Buy cryptocurrencies"):(0,f.localize)("Buy cryptocurrencies via fiat onramp"),description:(0,f.localize)("Choose any of these exchanges to buy cryptocurrencies:"),onClick:function(){l("/cashier/on-ramp"),m.is_crypto||s?(r("choose"),n("/cashier/on-ramp")):r("add_crypto")}},o().createElement(h,{icons:k.map((function(e){return"".concat(e).concat(c?"Dark":"Light")}))}))}));function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const C=(0,i.Pi)((function(){var e=(0,i.oR)().ui,t=(0,u.E)().general_store,r=e.openRealAccountSignup,c=t.setDepositTarget,l=(0,s.useHistory)(),m=(0,a.I0)().data,d=(0,a.u8)().data,h=(0,a.Co)(),y=(0,a.om)(),_=y.is_crypto&&h,v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),b=v[0],g=v[1];return d||m?o().createElement(p,{title:(0,f.localize)("Deposit with Deriv P2P"),description:(0,f.localize)("Deposit with your local currency via peer-to-peer exchange with fellow traders in your country."),onClick:b?void 0:function(){c("/cashier/p2p"),_?g(!0):y.is_crypto?r("add_fiat"):l.push("/cashier/p2p")}},_&&o().createElement(w,{is_visible:b,onCancel:function(){return g(!1)},onSwitchDone:function(){g(!1),l.push("/cashier/p2p")}})):null})),j=(0,i.Pi)((function(){var e=(0,i.oR)().ui,t=(0,u.E)().general_store,r=e.openRealAccountSignup,n=e.shouldNavigateAfterChooseCrypto,c=t.setDepositTarget,l=t.setShouldShowAllAvailableCurrencies,s=(0,a.Hp)().data;return Boolean(null==s?void 0:s.length)?o().createElement(p,{title:(0,f.localize)("Deposit via payment agents"),description:(0,f.localize)("Deposit in your local currency via an authorised, independent payment agent in your country."),onClick:function(){l(!0),c("/cashier/payment-agent"),r("choose"),n("/cashier/payment-agent")}}):null}));var N=r("@deriv/shared");const P=function(){return o().createElement(m.SideNote,{description:o().createElement(f.Localize,{i18n_default_text:"Learn more about <0>payment methods</0>.",components:[o().createElement("a",{key:0,className:"link link--orange",href:(0,N.getStaticUrl)("/payment-methods"),target:"_blank",rel:"noopener noreferrer"})]})})},L=(0,i.Pi)((function(){var e=(0,i.oR)().ui,t=(0,u.E)().general_store,r=e.openRealAccountSignup,n=t.setDepositTarget,c=(0,a.om)();return o().createElement(m.SideNote,{description:(0,f.localize)("Don't want to trade in {{currency_code}}? You can open another cryptocurrency account.",{currency_code:null==c?void 0:c.display_code}),action:{onClick:function(){n("/cashier/deposit"),r("add_crypto")},label:(0,f.localize)("Manage your accounts")}})})),T=(0,i.Pi)((function(){var e=(0,i.oR)().common.is_from_derivgo;return o().createElement(m.SideNote,{description:o().createElement(f.Localize,{i18n_default_text:"If you want to change your account currency, please contact us via <0>live chat</0>.",components:[e?o().createElement("span",null):o().createElement("a",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]})})})),I=(0,i.Pi)((function(){var e=(0,a.om)();return o().createElement(o().Fragment,null,e.is_crypto&&o().createElement(L,null),e.is_fiat&&o().createElement(T,null),o().createElement(P,null))})),A=(0,i.Pi)((function(){var e=(0,s.useHistory)(),t=(0,i.oR)().ui,r=(0,u.E)().general_store.setIsCashierOnboarding,c=t.toggleSetCurrencyModal,m=(0,a.oo)();return(0,n.useEffect)((function(){return r(!0),function(){r(!1),!m&&window.location.pathname.includes("/cashier")&&(e.push("/"),c())}}),[m,e,r,c]),o().createElement(l._,{hide_breadcrumb:!0,right:o().createElement(I,null)},o().createElement(d,null),o().createElement(O,null),o().createElement(_,null),o().createElement(S,null),o().createElement(j,null),o().createElement(C,null))})),D=function(e){var t=e.vertical,r=void 0!==t&&t;return o().createElement("div",{className:r?"divider__vertical":"divider__horizontal"})};var R=r("./modules/deposit-crypto/components/index.ts"),M=r("react-router-dom");const F=function(){return o().createElement(m.SideNote,{description:o().createElement(f.Localize,{i18n_default_text:"Looking for a way to buy cryptocurrencies? <0>Try Fiat onramp</0>.",components:[o().createElement(M.Link,{key:0,className:"link link--orange",to:"/cashier/on-ramp"})]})})},B=(0,i.Pi)((function(){var e=(0,i.oR)().ui.is_mobile,t=(0,u.E)().general_store.setIsDeposit;return(0,n.useEffect)((function(){return t(!0),function(){t(!1)}}),[t]),o().createElement(l._,{right:e?void 0:o().createElement(R.De,null)},o().createElement(R.Zq,null),o().createElement(R.it,null),o().createElement(D,null),e&&o().createElement(R.De,null),e&&o().createElement(D,null),o().createElement("div",{style:{alignSelf:e?"unset":"center"}},o().createElement(F,null)))}));var U=r("../../api/src/index.ts");const W=function(){var e=(0,U.Yv)("tnc_approval",{onSuccess:function(){return location.reload()}}),t=e.mutate,r=e.isLoading;return o().createElement(m.EmptyState,{icon:"IcCashierFundsProtection",title:(0,f.localize)("Funds protection level"),description:o().createElement(f.Localize,{i18n_default_text:"We hold customer funds in bank accounts separate from our operational accounts which would not, in the event of insolvency, form part of the company's assets. This meets the <0>Gambling Commission</0>'s requirements for the segregation of customer funds at the level: <1>medium protection</1>.",components:[o().createElement("a",{key:0,className:"link link--orange",href:"https://www.gamblingcommission.gov.uk/for-the-public/Your-rights/Protection-of-customer-funds.aspx",target:"_blank",rel:"noopener noreferrer"}),o().createElement("strong",{key:1})]}),action:{label:(0,f.localize)("Deposit now"),disabled:r,onClick:function(){return t({payload:{ukgc_funds_protection:1}})}}})};function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}const G=function(e){var t=e.error,r=(0,f.localize)("UNKNOWN"),n=(0,f.localize)("Something went wrong. Please refresh the page and try again.");return t&&"object"===Y(t)&&"code"in t&&"string"==typeof t.code&&(r=t.code),t&&"object"===Y(t)&&"message"in t&&"string"==typeof t.message&&(n=t.message),"ASK_UK_FUNDS_PROTECTION"===r?o().createElement(W,null):o().createElement(m.EmptyState,{icon:"IcCashierError",title:(0,f.localize)("Oops, something went wrong!"),description:n,action:{label:(0,f.localize)("Try again"),onClick:function(){return window.location.reload()},tertiary:!0}})};function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Z=(0,i.Pi)((function(){var e=(0,a.sL)(),t=e.data,r=e.error,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!0),2),c=i[0],l=i[1];return(0,n.useEffect)((function(){l(!0)}),[t]),r?o().createElement(G,{error:r}):o().createElement(o().Fragment,null,c&&o().createElement(m.Loading,{is_fullscreen:!1}),t&&o().createElement("iframe",{key:t,className:"deposit-fiat-iframe__iframe",onLoad:function(){return l(!1)},src:t,style:{display:c?"none":"block"},"data-testid":"dt_deposit_fiat_iframe_iframe"}))})),V=(0,i.Pi)((function(){var e=(0,i.oR)().traders_hub.is_low_risk_cr_eu_real;return o().createElement(l._,{hide_breadcrumb:e},o().createElement(Z,null))}));var q=r("./components/cashier-locked/index.ts");function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function $(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(S([])));_&&_!==t&&r.call(_,a)&&(h=_);var v=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==K(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:z}}function z(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),l(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function Q(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const ee=(0,i.Pi)((function(){var e,t,r,n=(0,i.oR)().client,a=n.account_status,c=n.is_financial_account,l=n.is_financial_information_incomplete,s=n.is_tnc_needed,u=n.is_trading_experience_incomplete,d=n.standpoint,p=n.is_virtual,h=n.updateAccountStatus,y=null==a||null===(e=a.authentication)||void 0===e?void 0:e.identity,_=null==a||null===(t=a.authentication)||void 0===t?void 0:t.document,v=null==a||null===(r=a.authentication)||void 0===r?void 0:r.needs_verification,b=null==v?void 0:v.includes("identity"),g=null==v?void 0:v.includes("document"),w="none"!==(null==y?void 0:y.status),E="none"!==(null==_?void 0:_.status),x=d.iom?(0,f.localize)("We were unable to verify your information automatically. To enable this function, you must complete the following:"):(0,f.localize)("To enable this feature you must complete the following:"),O=(0,M.useHistory)(),k=function(){var e,t=(e=X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.WS.tncApproval();case 2:return e.next=4,N.WS.getSettings();case 4:if(p||null!=a&&null!==(t=a.status)&&void 0!==t&&t.includes("deposit_attempt")){e.next=7;break}return e.next=7,h();case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Q(a,n,o,i,c,"next",e)}function c(e){Q(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),S=[].concat($(b&&w?[{content:(0,f.localize)("Check proof of identity document verification status"),status:"action",onClick:function(){return O.push(N.routes.proof_of_identity)}}]:[]),$(g&&E?[{content:(0,f.localize)("Check proof of address document verification status"),status:"action",onClick:function(){return O.push(N.routes.proof_of_address)}}]:[]),$(s?[{content:o().createElement(f.Localize,{i18n_default_text:"Accept our updated <0>terms and conditions</0>",components:[o().createElement(m.StaticUrl,{key:0,className:"link",href:"terms-and-conditions",is_document:!1})]}),status:"button-action",onClick:function(){return k()},button_text:(0,f.localize)("I accept")}]:[]),$(c&&(l||u)?[{content:(0,f.localize)("Complete the financial assessment form"),status:"action",onClick:function(){return O.push(N.routes.financial_assessment)}}]:[]));return o().createElement(o().Fragment,null,S.length?o().createElement("div",{className:"cashier-locked"},o().createElement(m.Icon,{icon:"IcCashierDepositLock",className:"cashier-locked__icon"}),o().createElement(m.Text,{as:"h2",weight:"bold",align:"center",className:"cashier-locked__title"},(0,f.localize)("Deposits are locked")),o().createElement(m.Text,{as:"p",align:"center",size:"xs",className:"cashier-locked__desc"},x),o().createElement(m.Checklist,{className:"cashier-locked__checklist",items:S})):o().createElement(q.Z,null))})),te=(0,i.Pi)((function(){var e=(0,i.oR)().traders_hub,t=(0,u.E)(),r=t.transaction_history,n=t.general_store,s=e.is_low_risk_cr_eu_real,m=r.is_crypto_transactions_visible,f=n.is_crypto,d=n.is_deposit;return(0,a.wN)()?o().createElement(l._,{hide_breadcrumb:!0},o().createElement(ee,null)):m?o().createElement(c.Z,null):d||s?f?o().createElement(B,null):o().createElement(V,null):o().createElement(A,null)}))},"./pages/on-ramp/index.ts":(e,t,r)=>{r.d(t,{default:()=>x});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/index.ts"),c=r("@deriv/shared"),l=r("@deriv/translations"),s=r("../../stores/src/index.ts"),u=r("./components/cashier-locked/index.ts"),m=r("./components/side-note/index.ts"),f=r("./stores/useCashierStores.tsx");const d=(0,s.Pi)((function(e){var t=e.provider,r=(0,s.oR)().ui,n=r.is_dark_mode_on,i=r.is_mobile,c=(0,f.E)().onramp.setSelectedProvider,u=t.getPaymentIcons(),m=t.name.toLowerCase().replace(" ","-"),d=i?56:128;return o().createElement("div",{className:"on-ramp__provider"},o().createElement("div",{className:"on-ramp__provider-logo"},o().createElement(a.Icon,{data_testid:n?"dti_provider_icon_dark":"dti_provider_icon_light",icon:n?t.icon.dark:t.icon.light,width:d,height:d})),o().createElement(a.Text,{size:"s",color:"prominent",weight:"bold",line_height:"l",className:"on-ramp__provider-name"},t.name),o().createElement(a.Text,{size:"xs",line_height:"m",as:"p",className:"on-ramp__provider-description"},t.getDescription()),o().createElement("div",{className:"on-ramp__provider-payment-icons"},o().createElement("div",{className:"on-ramp__provider-payment-icons-shadow"}),o().createElement(a.NewsTicker,{speed:10},u.map((function(e,t){return o().createElement(a.Icon,{data_testid:n?"dti_payment_icon_dark":"dti_payment_icon_light",icon:n?e.dark:e.light,key:t,size:40})})))),o().createElement(a.Button,{id:"gtm-onramp-provider-select--".concat(m),className:"on-ramp__provider-button",type:"button",has_effect:!0,onClick:function(){return c(t)},text:(0,l.localize)("Select"),primary:!0,small:i}))}));var p=r("../../../node_modules/classnames/index.js"),h=r.n(p);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const v=(0,s.Pi)((function(){var e,t=(0,s.oR)().ui.is_dark_mode_on,r=(0,f.E)().onramp,n=r.api_error,i=r.deposit_address,u=r.is_deposit_address_loading,m=r.is_requesting_widget_html,d=r.onClickDisclaimerContinue,p=r.onClickGoToDepositPage,_=r.selected_provider,v=r.setIsOnRampModalOpen,b=r.should_show_dialog,g=r.should_show_widget,w=r.widget_error,E=r.widget_html,x=o().useRef(null),O=y((0,a.useCopyToClipboard)(),3),k=O[0],S=O[1],z=O[2];return o().useEffect((function(){return function(){return clearTimeout(e)}}),[]),o().useEffect((function(){g&&E&&(null==_||_.onMountWidgetContainer(x))}),[_,g,E]),null===_?null:u||g&&m?o().createElement(a.Loading,{is_fullscreen:!0}):g?o().createElement("div",{className:h()("on-ramp__widget-container",{"on-ramp__widget-container--error":w}),ref:x},w?o().createElement("div",{className:"on-ramp__widget-container-error"},w):o().createElement("div",{dangerouslySetInnerHTML:{__html:E||""}})):b?o().createElement("div",{className:"on-ramp__popup-no-deposit-address"},o().createElement(a.Text,{size:"xs",className:"on-ramp__popup-no-deposit-address-text"},n?o().createElement(l.Localize,{i18n_default_text:"Please go to the Deposit page to get an address."}):o().createElement(l.Localize,{i18n_default_text:"Please go to the Deposit page to generate an address. Then come back here to continue with your transaction."})),o().createElement(a.Button.Group,{className:"on-ramp__popup-no-deposit-address-buttons"},o().createElement(a.Button,{text:(0,l.localize)("Cancel"),onClick:function(){return v(!1)},secondary:!0,large:!0}),o().createElement(a.Button,{text:(0,l.localize)("Go to Deposit page"),onClick:p,primary:!0,large:!0}))):o().createElement("div",{className:"on-ramp__popup","data-testid":"dti_on-ramp_popup"},_.should_show_deposit_address&&o().createElement(o().Fragment,null,o().createElement("div",{className:"on-ramp__popup-deposit"},o().createElement(a.Text,{size:(0,c.isMobile)()?"xxs":"xs",color:"general",line_height:(0,c.isMobile)()?"m":"l",align:(0,c.isMobile)()?"left":"center"},o().createElement(l.Localize,{i18n_default_text:"Please copy the crypto address you see below. You'll need it to deposit your cryptocurrency."})),o().createElement("div",{className:"on-ramp__popup-deposit-address"},o().createElement(a.Popover,{zIndex:"9998",alignment:"right",message:(0,l.localize)("Copied!"),is_open:k},o().createElement("input",{className:h()("on-ramp__popup-deposit-address-text",{"on-ramp__popup-deposit-address-text--dark":t}),defaultValue:i||"",disabled:!0,onFocus:function(e){return e.preventDefault()}}),o().createElement(a.Icon,{className:"on-ramp__popup-deposit-address-icon",data_testid:"dti_deposit_address_icon",icon:(0,c.isMobile)()?"IcCopy":"icClipboard",size:16,onClick:function(){S(i||""),e=setTimeout((function(){z(!1)}),500)}}))),o().createElement("div",{className:"on-ramp__popup-deposit-address-hint"},o().createElement(a.HintBox,{icon:"IcInfo",is_info:!0,message:(0,l.localize)("This address can only be used ONCE. Please copy a new one for your next transaction.")}))),o().createElement("div",{className:"on-ramp__popup-divider"})),o().createElement("div",{className:"on-ramp__popup-disclaimer"},o().createElement(a.Text,{line_height:"m",weight:"bold",color:"prominent",as:"p",className:"on-ramp__popup-disclaimer-title"},o().createElement(l.Localize,{i18n_default_text:"Disclaimer"})),o().createElement(a.Text,{size:(0,c.isMobile)()?"xxs":"xs",line_height:"l",color:"general",as:"p",className:"on-ramp__popup-disclaimer-text"},o().createElement(l.Localize,{i18n_default_text:"By clicking 'Continue' you will be redirected to {{ service }}, a third-party payment service provider. Please note that {{ website_name }} is not responsible for the content or services provided by {{ service }}. If you encounter any issues related to {{ service }} services, you must contact {{ service }} directly.",values:{service:_.name,website_name:c.website_name}}))),!g&&i&&o().createElement("div",{className:"on-ramp__popup-buttons"},o().createElement(a.Button.Group,null,o().createElement(a.Button,{large:!0,onClick:function(){return v(!1)},secondary:!0,text:(0,l.localize)("Cancel")}),o().createElement(a.Button,{id:"gtm-onramp-provider-continue--".concat((0,c.getKebabCase)(_.name)),large:!0,onClick:d,primary:!0,text:(0,l.localize)("Continue")}))))}));function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(){var e=[o().createElement(l.Localize,{i18n_default_text:"Fiat onramp is a cashier service that allows you to convert fiat currencies to crypto to top up your Deriv crypto accounts. Listed here are third-party crypto exchanges. You’ll need to create an account with them to use their services.",key:0})];return o().createElement(m.Z,{side_notes:e,title:o().createElement(l.Localize,{i18n_default_text:"What is Fiat onramp?"})})},E=function(){return o().createElement("div",{className:"on-ramp__info"},o().createElement(a.Text,{color:"prominent",size:"s",weight:"bold",className:"on-ramp__info-header",as:"p"},o().createElement(l.Localize,{i18n_default_text:"What is Fiat onramp?"})),o().createElement("div",{className:"on-ramp__info-content"},o().createElement(a.ReadMore,{expand_text:(0,l.localize)("See more"),text:(0,l.localize)("Fiat onramp is a cashier service that allows you to convert fiat currencies to crypto to top up your Deriv crypto accounts. Listed here are third-party crypto exchanges. You’ll need to create an account with them to use their services."),collapse_length:140,className:"on-ramp__read-more"})))};const x=(0,s.Pi)((function(e){var t=e.menu_options,r=e.setSideNotes,n=(0,s.oR)(),m=n.common,p=n.client,h=(0,f.E)(),y=h.onramp,_=h.general_store,g=y.filtered_onramp_providers,x=y.is_onramp_modal_open,O=y.onMountOnramp,k=y.onUnmountOnramp,S=y.onramp_popup_modal_title,z=y.resetPopup,C=y.setIsOnRampModalOpen,j=y.should_show_dialog,N=_.is_cashier_onboarding,P=_.is_loading,L=_.cashier_route_tab_index,T=(0,i.Zu)(),I=p.is_switching,A=m.routeTo,D=(0,i.wN)(),R=b(o().useState(c.routes.cashier_onramp),2),M=R[0],F=R[1];return o().useEffect((function(){t&&M!==c.routes.cashier_onramp&&A(M)}),[t,A,M]),o().useEffect((function(){return O(),I||P||null==r||r([o().createElement(w,{key:0})]),function(){k(),null==r||r([])}}),[O,k,N,I,P,L]),I||P?o().createElement(a.Loading,{className:"cashier-onboarding__loader",is_fullscreen:!0}):D||T?o().createElement(u.Z,null):o().createElement(o().Fragment,null,o().createElement("div",{className:"cashier__wrapper cashier__wrapper--align-left on-ramp"},(0,c.isMobile)()&&o().createElement(o().Fragment,null,o().createElement(a.SelectNative,{data_testid:"dt_on_ramp_select_native",className:"on-ramp__selector",label:"",list_items:(null!=t?t:[]).map((function(e){return{text:e.label,value:e.path}})),value:M,should_show_empty_option:!1,hide_top_placeholder:!1,onChange:function(e){e.currentTarget.value!==M&&F(e.currentTarget.value)}}),o().createElement(E,null)),o().createElement(a.Text,{color:(0,c.isMobile)()?"less-prominent":"general",weight:(0,c.isMobile)()?"normal":"bold",align:"center",line_height:"m",className:"on-ramp__page-header",as:"p"},o().createElement(l.Localize,{i18n_default_text:"Select payment channel"})),g.map((function(e){return o().createElement(d,{key:e.name,provider:e})})),o().createElement(a.Modal,{className:"on-ramp__modal",has_close_icon:!0,is_open:x,small:j,title:S,toggleModal:function(){return C(!x)},onUnmount:z,width:j?"44rem":"62.8rem"},o().createElement(a.Modal.Body,null,o().createElement(v,null)))))}))},"./pages/payment-agent-transfer/index.ts":(e,t,r)=>{r.d(t,{default:()=>A});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../stores/src/index.ts"),c=r("./components/cashier-locked/index.ts"),l=r("./components/error/index.ts"),s=r("./components/no-balance/index.ts"),u=r("./components/cashier-container/index.ts"),m=r("@deriv/translations"),f=r("./components/transfer-confirm/index.ts"),d=r("./stores/useCashierStores.tsx"),p=(0,i.Pi)((function(){var e=(0,i.oR)().client,t=(0,d.E)().payment_agent_transfer,r=e.currency,n=e.loginid,c=t.confirm,l=c.amount,s=c.description,u=c.client_id,p=c.client_name,h=t.error,y=t.requestPaymentAgentTransfer,_=t.setIsTryTransferSuccessful;return o().createElement(f.Z,{data:[{label:(0,m.localize)("From account number"),value:n||"",key:"transfer_from"},{label:[(0,m.localize)("To account number"),(0,m.localize)("Account holder name")],value:[(null==u?void 0:u.toUpperCase())||"",p||""],key:"transfer_to"},{label:(0,m.localize)("Amount"),value:o().createElement(a.Money,{currency:r,amount:l,show_currency:!0}),key:"amount"},{label:(0,m.localize)("Description"),value:s||"",key:"description"}],error:h,onClickBack:function(){_(!1)},onClickConfirm:function(){y({amount:Number(l),currency:r,description:s||"",transfer_to:u||""})}})}));const h=p;var y=r("../../../node_modules/classnames/index.js"),_=r.n(y),v=r("../../../node_modules/formik/dist/formik.esm.js"),b=r("@deriv/shared"),g=r("./components/error-dialog/index.ts");function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function x(){x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new z(o||[]);return n(i,"_invoke",{value:E(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(C([])));_&&_!==t&&r.call(_,a)&&(h=_);var v=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==w(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function E(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),l(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function O(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e,t){var r=t.balance,n=t.currency,o=t.transfer_limit,a={loginid:"",amount:"",description:""};e.loginid&&/^[A-Za-z]+\d+$/.test(e.loginid)||(a.loginid=(0,m.localize)("Please enter a valid client login ID."));var i=(0,b.validNumber)(e.amount,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"float",decimals:(0,b.getDecimalPlaces)(n)},o.min_withdrawal&&{min:Number(o.min_withdrawal),max:Number(r)>=Number(o.min_withdrawal)&&o.max_withdrawal&&Number(r)<Number(o.max_withdrawal)?Number(r):Number(o.max_withdrawal)})),c=i.is_ok,l=i.message;return e.amount?Number(r)<Number(e.amount)?a.amount=(0,m.localize)("Insufficient balance."):!c&&l&&(a.amount=l):a.amount=(0,m.localize)("This field is required."),e.description&&!/^[0-9A-Za-z .,'-]{0,250}$/.test(e.description.replace(/\n/g," "))&&(a.description=(0,m.localize)("Please enter a valid description.")),Object.fromEntries(Object.entries(a).filter((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t[0],!!t[1]})))};const j=(0,i.Pi)((function(){var e=(0,i.oR)().client,t=e.balance,r=e.currency,n=(0,d.E)().payment_agent_transfer,c=n.confirm,l=c.amount,s=c.description,u=c.client_id,f=n.error,p=n.requestTryPaymentAgentTransfer,h=n.transfer_limit,y=f.setErrorMessage,w=function(e){return C(e,{balance:void 0!==t?String(t):"",currency:r,transfer_limit:h})},k=function(){var e,t=(e=x().mark((function e(t,n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({amount:Number(t.amount),currency:r,description:t.description.replace(/\n/g," "),transfer_to:t.loginid});case 2:e.sent.error&&n.setSubmitting(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,c,"next",e)}function c(e){O(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),S={loginid:u||"",amount:(null==l?void 0:l.toString())||"",description:s||""};return o().createElement("div",{className:"cashier__wrapper payment-agent-transfer-form__container","data-testid":"dt_payment_agent_transfer_form_container"},o().createElement(a.DesktopWrapper,null,o().createElement(a.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header cashier__content-header"},o().createElement(m.Localize,{i18n_default_text:"Transfer to client"}))),o().createElement(v.J9,{initialValues:S,isInitialValid:!Object.keys(w(S)).length,validate:w,onSubmit:k},(function(e){var t=e.errors,n=e.isSubmitting,i=e.isValid,c=e.touched,l=e.handleChange;return o().createElement(v.l0,{noValidate:!0},o().createElement(v.gN,{name:"loginid"},(function(e){var r=e.field;return o().createElement(a.Input,E({},r,{onChange:function(e){y({code:"",message:""}),l(e)},className:"payment-agent-transfer-form__input","data-testid":"dt_payment_agent_transfer_form_input_loginid",type:"text",label:(0,m.localize)("Client account number"),error:c.loginid&&t.loginid||"",required:!0,autoComplete:"off",maxLength:20}))})),o().createElement(v.gN,{name:"amount"},(function(e){var n=e.field;return o().createElement(a.Input,E({},n,{onChange:function(e){y({code:"",message:""}),l(e)},className:"payment-agent-transfer-form__input dc-input--no-placeholder","data-testid":"dt_payment_agent_transfer_form_input_amount",type:"text",label:(0,m.localize)("Amount"),error:c.amount&&t.amount||"",required:!0,trailing_icon:o().createElement("span",{className:_()("symbols","symbols--".concat((r||"").toLowerCase()))},(0,b.getCurrencyDisplayCode)(r)),autoComplete:"off",maxLength:30}))})),o().createElement(v.gN,{name:"description"},(function(e){var r=e.field;return o().createElement(a.Input,E({},r,{onChange:function(e){y({code:"",message:""}),l(e)},className:"payment-agent-transfer-form__input-area","data-testid":"dt_payment_agent_transfer_form_input_description",type:"textarea",label:(0,m.localize)("Description"),error:t.description,required:!0,autoComplete:"off",has_character_counter:!0,max_characters:250}))})),o().createElement("div",{className:"cashier__form-submit"},o().createElement(a.Button,{className:"cashier__form-submit-button payment-agent-transfer-form__submit-button",type:"submit",is_disabled:!i||n,primary:!0,large:!0},o().createElement(m.Localize,{i18n_default_text:"Transfer"}))),o().createElement(g.Z,{error:f}))})))}));var N=r("react-router"),P=(0,i.Pi)((function(e){var t,r=e.history,n=(0,i.oR)(),c=n.client,l=n.common,s=c.currency,u=c.loginid,f=l.is_from_derivgo,p=(0,d.E)().payment_agent_transfer,h=p.receipt,y=p.resetPaymentAgentTransfer;return o().createElement("div",{className:"cashier__wrapper payment-agent-transfer-receipt__wrapper","data-testid":"dt_payment_agent_transfer_receipt_wrapper"},o().createElement("div",{className:"cashier__success"},o().createElement(a.Text,{as:"h2",color:"prominent",align:"center",weight:"bold",className:"cashier__header"},o().createElement(m.Localize,{i18n_default_text:"You've transferred"})," ",(0,b.formatMoney)(s,Number(h.amount_transferred),!0)," ",(0,b.getCurrencyDisplayCode)(s)),o().createElement("div",{className:"cashier__transferred-details-wrapper"},o().createElement("span",{className:"account-transfer__transfer-details-from"},o().createElement(a.Icon,{icon:"IcCurrency-".concat(s.toLowerCase())}),o().createElement("span",{className:"cashier__transferred-details"},o().createElement(a.Text,{size:"xs",line_height:"xs",weight:"bold"},(0,b.getCurrencyName)(s)),o().createElement(a.Text,{size:"xs",line_height:"xs",color:"less-prominent"},u))),o().createElement(a.Icon,{className:"cashier__transferred-icon",icon:"IcArrowLeftBold"}),o().createElement("span",{className:"account-transfer__transfer-details-to"},o().createElement(a.Icon,{icon:"IcCashierPaymentAgent"}),o().createElement("span",{className:"cashier__transferred-details"},o().createElement(a.Text,{size:"xs",line_height:"xs",weight:"bold"},h.client_name),o().createElement(a.Text,{size:"xs",line_height:"xs",color:"less-prominent"},(null===(t=h.client_id)||void 0===t?void 0:t.toUpperCase())||""))))),o().createElement("div",{className:"cashier__form-submit"},!f&&o().createElement(a.Button,{className:"cashier__form-submit-button",has_effect:!0,text:(0,m.localize)("View transactions"),onClick:function(){return function(e,t){e.push(b.routes.statement),t()}(r,y)},secondary:!0,large:!0}),o().createElement(a.Button,{className:"cashier__form-submit-button cashier__done-button",has_effect:!0,text:(0,m.localize)("Make a new transfer"),onClick:y,primary:!0,large:!0})))}));const L=(0,N.withRouter)(P);var T=r("../../hooks/src/index.ts"),I=(0,i.Pi)((function(){var e=(0,i.oR)().client,t=e.balance,r=e.is_virtual,n=(0,d.E)(),m=n.general_store,f=n.payment_agent_transfer,p=m.is_loading,y=(0,T.Zu)(),_=f.error,v=f.is_transfer_successful,b=f.is_try_transfer_successful,g=f.onMountPaymentAgentTransfer,w=f.resetPaymentAgentTransfer;return o().useEffect((function(){r||g()}),[r,g]),o().useEffect((function(){return function(){w()}}),[w]),r?o().createElement(u.o,null):p?o().createElement(a.Loading,{className:"cashier__loader"}):y?o().createElement(c.Z,null):_.is_show_full_page?o().createElement(l.Z,{error:_}):Number(t)?b?o().createElement(h,null):v?o().createElement(L,null):o().createElement(j,{error:_}):o().createElement(s.Z,null)}));const A=I},"./pages/payment-agent/index.ts":(e,t,r)=>{r.d(t,{default:()=>xe});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../stores/src/index.ts"),c=r("./components/cashier-locked/index.ts"),l=r("./components/cashier-container/index.ts"),s=r("../../../node_modules/classnames/index.js"),u=r.n(s),m=r("@deriv/translations"),f=r("@deriv/shared"),d=r("./components/side-note/index.ts");const p=function(){return o().createElement("div",{className:"missing-payment-method-note"},o().createElement(a.Text,{as:"p",className:"missing-payment-method-note__title",size:"xs",line_height:"m",weight:"bold"},o().createElement(m.Localize,{i18n_default_text:"Note"})),o().createElement(a.Text,{as:"p",size:"xxs",line_height:"s"},o().createElement(m.Localize,{i18n_default_text:"Some payment methods may not be listed here but payment agents may still offer them. If you can’t find your favourite method, contact the payment agents directly to check further."})))};var h=r("mobx");const y={Alipay:["alipay"],Bank:["bank","bankdeposit","banks","banktransfer","bankwire","bankwiretransfer","localbankwire","localbank","localbanks","localbanktransfer"],Bankbri:["bri","bankbri"],Bca:["bca","grupbca"],Bch:["bch"],Bni:["bni"],Bitcoin:["bitcoin","btc"],Card:["card","cards","visa","mastercard"],Cimbniaga:["cimbniaga"],Crypto:["crypto","cryptos","cryptocurrencies","cryptocurrency","weacceptcrypto"],Dai:["dai"],Diamondbank:["diamondbank"],Eth:["eth","ethd","ethereum"],Ewallet:["ewallet","ewallets","ewalletpayment","skrill"],Firstbank:["firstbank"],Gtbank:["gtbank"],Icbc:["icbc"],Libertyreserve:["libertyreserve"],LiteCoin:["ltc","litecoin"],Mandiri:["mandiri"],Mandirisyariah:["mandirisyariah"],Moneygram:["moneygram"],Paypal:["paypal"],PerfectMoney:["perfectmoneyandwebmoney","perfectmoney"],Permatabank:["permatabank"],Tether:["tether"],Verve:["verve"],WebMoney:["perfectmoneyandwebmoney","webmoney"],Wechatpay:["wechatpay"],Zenithbank:["zenithbank"]};var _=r("./utils/utility.ts");function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var b=["action","children","className","has_red_color","icon","is_link","title"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E=function(e){var t=e.action,r=e.children,n=e.className,i=e.has_red_color,c=e.icon,l=e.is_link,s=e.title,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,b),f=Array.isArray(r)?r:[r];return o().createElement("div",{className:u()("payment-agent-detail",n&&w({},n,!!n))},c&&o().createElement("div",{className:"payment-agent-detail__icon-wrapper"},o().createElement(a.Icon,{icon:c,data_testid:"dt_payment_agent_detail_icon"})),o().createElement("div",{className:"payment-agent-detail__desc-wrapper"},s&&o().createElement(a.Text,{as:"p",line_height:"s",size:"xs"},s),f.map((function(e,r){return o().createElement(o().Fragment,{key:r},t||l?o().createElement(a.Text,g({as:"a",color:i?"red":"prominent","data-testid":"dt_payment_agent_detail_link",href:(t?"".concat(t,":"):"")+e,line_height:"s",size:s?"xs":"xxs",weight:"bold",className:"payment-agent-detail__link"},m),e,r===f.length-1?"":", "):o().createElement(a.Text,{as:"p",className:"payment-agent-detail__paragraph","data-testid":"dt_payment_agent_detail_paragraph",line_height:"s",size:s?"xs":"xxs",weight:"bold"},e))}))))},x=function(e){var t,r,n,i=e.is_dark_mode_on,c=e.payment_agent,l=(0,h.toJS)(c.urls);return o().createElement("div",{className:"payment-agent-card__description-container"},o().createElement(a.Text,{as:"p",line_height:"s",size:"xs",weight:"bold"},c.name),c.further_information&&o().createElement(a.Text,{as:"p",className:"payment-agent-card__description-container-further-information",line_height:"s",size:"xs"},(0,f.capitalizeFirstLetter)(c.further_information).replace(/( ?Skril?l,? ?)|( ?Net?tel?ler,? ?)/gi,"")),l&&o().createElement(E,{has_red_color:!0,is_link:!0,rel:"noopener noreferrer",target:"_blank"},l.map((function(e){return e.url}))),!!((n=c.supported_banks)&&n.length>0)&&!n.every((function(e){return""===(0,_.w)(e.payment_method,y,!0)}))&&o().createElement("div",{className:"payment-agent-card__description-container-icons-container"},(t=c.supported_banks,r=t&&t.map((function(e){return(0,_.w)(e.payment_method,y,!0)})).filter(Boolean),Array.from(new Set(r))).map((function(e,t){return o().createElement(a.Icon,{data_testid:"dt_payment_method_icon",key:t,icon:"IcCashier".concat(e).concat(i?"Dark":"Light")})}))))},O=function(e){var t=e.payment_agent,r=(0,h.toJS)(t.phone_numbers);return o().createElement("div",{className:"payment-agent-deposit-details"},r&&o().createElement((function(){return o().createElement(E,{action:"tel",icon:"IcPhone",title:(0,m.localize)("Phone number")},t.phone_numbers.map((function(e){return e.phone_number})))}),null),t.email&&o().createElement((function(){return o().createElement(E,{action:"mailto",icon:"IcEmailOutlineNew",rel:"noopener noreferrer",target:"_blank",has_red_color:!0,title:(0,m.localize)("Email")},t.email)}),null),t.min_withdrawal&&o().createElement((function(){return o().createElement(E,{icon:"IcCashierMinimumWithdrawal",title:(0,m.localize)("Minimum withdrawal")},o().createElement(a.Money,{amount:t.min_withdrawal||"",currency:t.currency,show_currency:!0}))}),null),t.deposit_commission&&o().createElement((function(){return o().createElement(E,{icon:"IcCashierCommissionDeposit",className:"deposit-commission",title:(0,m.localize)("Commission on deposits")},"".concat(t.deposit_commission,"%"))}),null),t.max_withdrawal&&o().createElement((function(){return o().createElement(E,{icon:"IcCashierMaximumWithdrawal",title:(0,m.localize)("Maximum withdrawal")},o().createElement(a.Money,{amount:t.max_withdrawal||"",currency:t.currency,show_currency:!0}))}),null),t.withdrawal_commission&&o().createElement((function(){return o().createElement(E,{icon:"IcCashierCommissionWithdrawal",className:"withdrawal_commission",title:(0,m.localize)("Commission on withdrawal")},"".concat(t.withdrawal_commission,"%"))}),null))};var k=r("../../../node_modules/formik/dist/formik.esm.js"),S=r("./components/error-dialog/index.ts"),z=r("./stores/useCashierStores.tsx");function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function N(){N=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(S([])));_&&_!==t&&r.call(_,a)&&(h=_);var v=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==C(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:z}}function z(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),l(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function P(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=(0,i.Pi)((function(e){var t=e.payment_agent,r=(0,i.oR)().client,n=(0,z.E)(),c=n.general_store,l=n.payment_agent,s=r.balance,d=r.currency,p=r.verification_code.payment_agent_withdraw,h=c.is_crypto,y=c.is_loading,_=l.error,v=l.onMountPaymentAgentWithdraw,b=l.agents,g=l.requestTryPaymentAgentWithdraw,w=l.selected_bank;o().useEffect((function(){v()}),[v]);var E=o().useRef(null);o().useEffect((function(){E.current&&(E.current.value="")}),[w]);var x=function(){var e,r=(e=N().mark((function e(r){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({loginid:t.paymentagent_loginid,currency:d,amount:Number(r.amount),verification_code:p});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){P(a,n,o,i,c,"next",e)}function c(e){P(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return y||!b.length?o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1}):o().createElement("div",{className:"payment-agent-listed-withdraw-form"},o().createElement(a.Text,{as:"p",className:"payment-agent-listed-withdraw-form__header",line_height:"s",size:"xs",weight:"bold"},o().createElement(m.Localize,{i18n_default_text:"Withdrawal amount"})),o().createElement(k.J9,{initialValues:{amount:""},validate:function(e){return function(e,t){var r=t.balance,n=t.currency,o=t.payment_agent,a={},i=(0,f.validNumber)(e.amount,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"float",decimals:(0,f.getDecimalPlaces)(n)},o.min_withdrawal&&{min:Number(o.min_withdrawal),max:o.max_withdrawal?Number(o.max_withdrawal):void 0})),c=i.is_ok,l=i.message;return e.amount?!c&&l?a.amount=l:Number(r)<Number(e.amount)&&(a.amount=(0,m.localize)("Insufficient balance.")):a.amount=(0,m.localize)("This field is required."),a}(e,{balance:s,currency:d,payment_agent:b.find((function(e){return e.value===t.paymentagent_loginid}))})},onSubmit:x},(function(e){var r=e.errors,n=e.isSubmitting,i=e.isValid,c=e.touched,l=e.values;return o().createElement(k.l0,{className:"payment-agent-listed-withdraw-form__form"},o().createElement(k.gN,{name:"amount"},(function(e){var n,i,l=e.field;return o().createElement(a.Input,j({},l,{className:u()("dc-input--no-placeholder",{"dc-input--crypto-hint":h}),type:"text",label:(0,m.localize)("Enter amount"),error:c.amount&&r.amount||"",required:!0,autoComplete:"off",maxLength:30,hint:b.find((function(e){return e.value===t.paymentagent_loginid}))&&o().createElement(m.Localize,{i18n_default_text:"Withdrawal limits: <0 />-<1 />",components:[o().createElement(a.Money,{key:0,amount:(null===(n=b.find((function(e){return e.value===t.paymentagent_loginid})))||void 0===n?void 0:n.min_withdrawal)||"",currency:t.currency,show_currency:!0}),o().createElement(a.Money,{key:1,amount:(null===(i=b.find((function(e){return e.value===t.paymentagent_loginid})))||void 0===i?void 0:i.max_withdrawal)||"",currency:t.currency,show_currency:!0})]}),ref:E,trailing_icon:o().createElement("span",{className:u()("symbols","symbols--".concat(d.toLowerCase()))},(0,f.getCurrencyDisplayCode)(d))}))})),o().createElement(a.Button,{type:"submit",is_disabled:!i||n||!l.amount,primary:!0,large:!0},o().createElement(m.Localize,{i18n_default_text:"Continue"})))})),o().createElement(S.Z,{error:_,className:"payment-agent-list__error-dialog"}))}));const A=I,D=function(e){var t=e.is_dark_mode_on,r=void 0!==t&&t,n=e.is_deposit,i=void 0!==n&&n,c=e.payment_agent,l={header:o().createElement(x,{is_dark_mode_on:r,payment_agent:c}),content:i?o().createElement(O,{payment_agent:c}):o().createElement(A,{payment_agent:c})};return o().createElement("div",{className:u()("payment-agent-card",{"payment-agent-card--dark":r})},o().createElement(a.ExpansionPanel,{message:l}))},R=function(){return o().createElement("div",{className:"payment-agent-disclaimer"},o().createElement(a.Text,{as:"p",className:"payment-agent-disclaimer__title",size:"xs",line_height:"m",weight:"bold"},o().createElement(m.Localize,{i18n_default_text:"DISCLAIMER"})),o().createElement(a.Text,{as:"p",size:"xxs",line_height:"s"},o().createElement(m.Localize,{i18n_default_text:"{{website_name}} is not affiliated with any payment agents. Customers deal with payment agents at their sole risk. Customers are advised to check the credentials of payment agents and the accuracy of any information about payment agents (on {{website_name}} or elsewhere) before using their services.",values:{website_name:f.website_name}})))};var M=r("react-router"),F=function(e){var t=e.email,r=e.phone_numbers,n=e.urls;return o().createElement("div",{className:"payment-agent-receipt__transferred-contact"},r&&o().createElement(E,{action:"tel",icon:"IcPhone"},r.map((function(e){return e.phone_number}))),t&&o().createElement(E,{action:"mailto",icon:"IcEmailOutlineNew",rel:"noopener noreferrer",target:"_blank"},t),n&&o().createElement(E,{icon:"IcWebsite",is_link:!0,rel:"noopener noreferrer",target:"_blank"},n.map((function(e){return e.url}))))},B=(0,i.Pi)((function(e){var t=e.history,r=(0,i.oR)(),n=r.client,c=r.common,l=(0,z.E)().payment_agent,s=n.currency,p=c.is_from_derivgo,h=l.receipt,y=l.resetPaymentAgent;return o().useEffect((function(){return function(){return y()}}),[y]),o().createElement("div",{className:"cashier__wrapper--align-center payment-agent-receipt"},o().createElement(d.Z,{className:"payment-agent-list__side-note",is_mobile:!0},o().createElement(R,null)),o().createElement(a.Text,{as:"h1",align:"center",color:"prominent",line_height:"m",size:(0,f.isMobile)()?"xsm":"sm",weight:"bold",className:u()("payment-agent-receipt__header",{"payment-agent-receipt__header-listed":h.payment_agent_name,"payment-agent-receipt__header-unlisted":!h.payment_agent_name})},o().createElement(m.Localize,{i18n_default_text:"You’ve transferred {{amount}} {{currency}}",values:{amount:h.amount_transferred,currency:s}})),o().createElement(a.Text,{as:"p",align:"center",color:"prominent",line_height:"m",size:"xs",weight:"bold"},o().createElement(m.Localize,{i18n_default_text:"Important notice to receive your funds"})),o().createElement(a.Text,{as:"p",align:"center",color:"prominent",size:"xxs",line_height:"m",className:u()("payment-agent-receipt__explanation",{"payment-agent-receipt__explanation-unlisted":!h.payment_agent_name})},o().createElement(m.Localize,{i18n_default_text:"{{ text }}. <0></0>You can view the summary of this transaction in your email.",components:(0,f.isMobile)()?[]:[o().createElement("br",{key:0})],values:{text:h.payment_agent_name?(0,m.localize)("To receive your funds, contact the payment agent with the details below"):(0,m.localize)("To receive your funds, contact the payment agent")},key:0})),h.payment_agent_name&&o().createElement("div",{className:"payment-agent-receipt__transferred-contact-wrapper"},o().createElement(a.Text,{align:"center",as:"p",size:"xxs",line_height:"m",weight:"bold"},o().createElement(m.Localize,{i18n_default_text:"<0>{{payment_agent}}</0><1>'s</1> contact details",components:[o().createElement("span",{key:0}),o().createElement("span",{key:1})],values:{payment_agent:h.payment_agent_name},options:{interpolation:{escapeValue:!1}}})),h.payment_agent_email&&h.payment_agent_phone&&h.payment_agent_url&&o().createElement(F,{email:h.payment_agent_email,phone_numbers:h.payment_agent_phone,urls:h.payment_agent_url})),o().createElement("div",{className:"cashier__form-submit"},!p&&o().createElement(a.Button,{className:"cashier__form-submit-button",has_effect:!0,text:(0,m.localize)("View transaction"),onClick:function(){return function(e,t){e.push(f.routes.statement),t()}(t,y)},secondary:!0,large:!0}),o().createElement(a.Button,{className:"cashier__form-submit-button cashier__done-button",has_effect:!0,text:(0,m.localize)("Make a new withdrawal"),onClick:y,primary:!0,large:!0})))}));const U=(0,M.withRouter)(B);var W=r("../../../node_modules/lodash.debounce/index.js"),Y=r.n(W);function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}const H=function(e){var t=e.className,r=e.onClear,n=e.onSearch,i=e.placeholder,c=e.search_term,l=e.setIsSearchLoading;o().useEffect((function(){return r}),[]);var s=function(e,t){if(!t.trim()&&c)r();else if(!t.trim())return;l(!0),e()};return o().createElement("div",{className:u()("cashier-search-box",t)},o().createElement(k.J9,{initialValues:{search:""},onSubmit:function(e){var t=e.search;n(t)}},(function(e){var t=e.submitForm,n=e.values.search,c=e.setFieldValue;return o().createElement(k.l0,null,o().createElement(k.gN,{name:"search"},(function(e){var l=e.field;return o().createElement(a.Input,G({},l,{type:"text",name:"search",placeholder:i,onKeyUp:function(){return s(t,n)},onKeyDown:function(){return s(t,n)},leading_icon:o().createElement(a.Icon,{icon:"IcSearch",data_testid:"dt_search_icon"}),trailing_icon:n?o().createElement(a.Icon,{color:"general",data_testid:"dt_close_icon",icon:"IcCloseCircle",onClick:function(){return function(e){e("search",""),r()}(c)}}):null}))})))})))};var Z=(0,i.Pi)((function(){var e=(0,z.E)().payment_agent,t=e.filterPaymentAgentList,r=e.setIsSearchLoading,n=e.search_term,a=e.setSearchTerm,i=Y()((function(){t()}),500);return o().createElement(H,{onClear:function(){a(""),t()},onSearch:function(e){a(e.trim()),i()},placeholder:(0,m.localize)("Search payment agent name"),search_term:n,setIsSearchLoading:r})}));const V=Z;function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}function $(){$=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,o){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var m={};function f(){}function d(){}function p(){}var h={};l(h,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(S([])));_&&_!==t&&r.call(_,a)&&(h=_);var v=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function o(n,a,i,c){var l=u(e[n],e,a);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==q(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){o("next",e,i,c)}),(function(e){o("throw",e,i,c)})):t.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return o("throw",e,i,c)}))}c(l.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:z}}function z(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),l(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function J(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var X=(0,i.Pi)((function(e){var t=e.setIsUnlistedWithdraw,r=(0,i.oR)().client,n=r.balance,c=r.currency,l=r.verification_code.payment_agent_withdraw,s=(0,z.E)().payment_agent,p=s.error,h=s.onMountPaymentAgentWithdraw,y=s.requestTryPaymentAgentWithdraw;o().useEffect((function(){h()}),[h]);var _=function(){var e,t=(e=$().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({loginid:t.account_number,currency:c,amount:Number(t.amount),verification_code:l});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){J(a,n,o,i,c,"next",e)}function c(e){J(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return o().createElement("div",{className:"payment-agent-withdraw-form"},o().createElement("div",{className:"payment-agent-withdraw-form__page-return"},o().createElement(a.Icon,{data_testid:"dt-back-arrow-icon",icon:"icArrowLeftBold",onClick:function(){return t(!1)}}),o().createElement(a.Text,{as:"p",line_height:"m",size:"xs",weight:"bold"},o().createElement(m.Localize,{i18n_default_text:"Back to list"}))),o().createElement(d.Z,{className:"payment-agent-list__side-note",has_title:!1,is_mobile:!0},o().createElement(R,null)),o().createElement(k.J9,{initialValues:{account_number:"",amount:""},validate:function(e){return function(e,t){var r=t.balance,n=t.currency,o={},a=(0,f.validNumber)(e.amount,{type:"float",decimals:(0,f.getDecimalPlaces)(n)}),i=a.is_ok,c=a.message;return e.amount?!i&&c?o.amount=c:void 0!==r&&Number(r)<Number(e.amount)?o.amount=(0,m.localize)("Insufficient balance."):e.account_number?/^[C][R]\d+$/.test(e.account_number)||(o.account_number=(0,m.localize)("Please enter a valid account number. Example: CR123456789")):o.account_number=(0,m.localize)("This field is required."):o.amount=(0,m.localize)("This field is required."),o}(e,{balance:n,currency:c})},onSubmit:_},(function(e){var t=e.errors,r=e.isSubmitting,n=e.isValid,i=e.touched,l=e.values,s=e.setFieldValue;return o().createElement(k.l0,{className:"payment-agent-withdraw-form__form"},o().createElement(k.gN,{name:"account_number"},(function(e){var r=e.field;return o().createElement(a.Input,K({},r,{type:"text",className:"payment-agent-withdraw-form__form-account-number",label:(0,m.localize)("Enter the payment agent account number"),error:i.account_number&&t.account_number||void 0,hint:(0,m.localize)("Example: CR123456789"),required:!0,autoComplete:"off",maxLength:30,trailing_icon:t.account_number===(0,m.localize)("Please enter a valid account number. Example: CR123456789")?o().createElement(a.Icon,{icon:"IcCloseCircleRed",onClick:function(){s("account_number","")}}):null}))})),o().createElement("div",{className:"payment-agent-withdraw-form__form-amount"},o().createElement(k.gN,{name:"amount"},(function(e){var r=e.field;return o().createElement(a.Input,K({},r,{type:"text",label:(0,m.localize)("Enter amount"),error:i.amount&&t.amount||void 0,required:!0,autoComplete:"off",maxLength:30,trailing_icon:o().createElement("span",{className:u()("symbols","symbols--".concat(c.toLowerCase()))},(0,f.getCurrencyDisplayCode)(c))}))})),o().createElement(a.Button,{type:"submit",is_disabled:!n||r||!l.account_number||!l.amount,primary:!0,large:!0},o().createElement(m.Localize,{i18n_default_text:"Continue"}))))})),o().createElement(a.Text,{as:"p",color:"less-prominent",line_height:"s",size:"xxs"},o().createElement(m.Localize,{i18n_default_text:"Note: {{website_name}} does not charge any transfer fees.",values:{website_name:f.website_name}})),o().createElement(S.Z,{error:p,className:"payment-agent-list__error-dialog"}))}));const Q=X;var ee=r("./components/transfer-confirm/index.ts"),te=(0,i.Pi)((function(){var e=(0,i.oR)().client,t=e.loginid,r=e.verification_code,n=(0,z.E)().payment_agent,c=n.confirm,l=c.amount,s=c.currency,u=c.loginid,f=c.payment_agent_name,d=n.error,p=n.requestPaymentAgentWithdraw,h=n.setIsTryWithdrawSuccessful;return o().createElement(ee.Z,{data:[{label:(0,m.localize)("From account number"),value:t||"",key:"transfer_from"},{label:[(0,m.localize)("To account number"),(0,m.localize)("Account holder name")],value:[u.toUpperCase(),f],key:"transfer_to"},{label:(0,m.localize)("Amount"),value:o().createElement(a.Money,{currency:s,amount:l,show_currency:!0}),key:"amount"}],error:d,is_payment_agent_withdraw:!0,onClickBack:function(){h(!1)},onClickConfirm:function(){p({loginid:u,currency:s,amount:l,verification_code:r.payment_agent_withdraw})}})}));const re=te;function ne(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ae=function(){return o().createElement("div",{className:"payment-agent-list__search-warning cashier__wrapper--align-center"},o().createElement(a.Icon,{icon:"IcCashierSearch",size:64}),o().createElement(a.Text,{as:"p",line_height:"m",size:"xs",weight:"bold"},o().createElement(m.Localize,{i18n_default_text:"No payment agents found for your search"})),o().createElement(a.Text,{as:"p",line_height:"m",size:"xs"},o().createElement(m.Localize,{i18n_default_text:"Try changing your search criteria."})))},ie=(0,i.Pi)((function(e){var t=e.is_deposit,r=(0,i.oR)().ui,n=r.app_contents_scroll_ref,c=r.is_dark_mode_on,l=(0,z.E)().payment_agent,s=l.has_payment_agent_search_warning,u=l.is_search_loading,f=l.is_try_withdraw_successful,h=l.is_withdraw_successful,y=l.onChangePaymentMethod,_=l.filtered_list,v=l.selected_bank,b=l.supported_banks;o().useEffect((function(){return function(){y({target:{value:"0"}})}}),[y]),o().useEffect((function(){n&&n.current&&(n.current.scrollTop=0)}),[f,h]);var g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState(!1),2),w=g[0],E=g[1],x=[{text:o().createElement(m.Localize,{i18n_default_text:"All payment methods"}),value:0}].concat(function(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b));return f?o().createElement(re,null):h?o().createElement(U,null):w?o().createElement(Q,{setIsUnlistedWithdraw:E}):o().createElement(o().Fragment,null,!s&&o().createElement(d.Z,{className:"payment-agent-list__side-note",has_title:!1,is_mobile:!0},o().createElement(R,null)),o().createElement(d.Z,{className:"payment-agent-list__side-note-second",has_title:!1,is_mobile:!0},o().createElement(p,null)),o().createElement("div",{className:"payment-agent-list__list-header"},t?o().createElement(a.Text,{as:"p",line_height:"s",size:"xs"},o().createElement(m.Localize,{i18n_default_text:"Contact your preferred payment agent for payment instructions and make your deposit."})):o().createElement(a.Text,{as:"p",line_height:"s",size:"xs"},o().createElement(m.Localize,{i18n_default_text:"Choose your preferred payment agent and enter your withdrawal amount. If your payment agent is not listed, <0>search for them using their account number</0>.",components:[o().createElement("span",{"data-testid":"dt_withdrawal_link",key:0,className:"link",onClick:function(){return E(!w)}})]}))),o().createElement("div",{className:"payment-agent-list__list-selector"},o().createElement(V,null),b.length>=1&&o().createElement(o().Fragment,null,o().createElement(a.DesktopWrapper,null,o().createElement(a.Dropdown,{id:"payment_methods",classNameItems:"cashier__drop-down-items",list:x,name:"payment_methods",value:v,onChange:y})),o().createElement(a.MobileWrapper,null,o().createElement(a.SelectNative,{hide_top_placeholder:!1,placeholder:(0,m.localize)("All payment methods"),name:"payment_methods",list_items:b,value:0===v?"":v.toString(),label:0===v?(0,m.localize)("All payment methods"):(0,m.localize)("Type"),onChange:function(e){return y({target:{name:"payment_methods",value:e.target.value?e.target.value.toLowerCase():"0"}})},use_text:!1})))),u?o().createElement(a.Loading,{is_fullscreen:!1,className:"payment-agent-list__search-loader"}):o().createElement(o().Fragment,null,s?o().createElement(ae,null):_.map((function(e,r){return o().createElement(D,{key:r,is_dark_mode_on:c,is_deposit:t,payment_agent:e})}))))}));const ce=ie;var le=(0,i.Pi)((function(){var e=(0,z.E)(),t=e.payment_agent,r=e.general_store;return o().useEffect((function(){t.onMountPaymentAgentList()}),[t]),o().createElement("div",null,r.is_loading?o().createElement(a.Loading,{is_fullscreen:!1}):o().createElement(ce,{is_deposit:!0}))}));const se=le;var ue=r("../../hooks/src/index.ts"),me=r("./components/email-verification-empty-state/index.ts"),fe=r("react-router-dom"),de=r("./components/error/index.ts");function pe(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ye=function(e){var t=e.item;return o().createElement("div",{className:"cashier__wrapper--align-center payment-agent-withdrawal-locked"},t.title&&o().createElement(a.Text,{align:"center",as:"p",className:"payment-agent-withdrawal-locked__title",line_height:"s",size:"s"},t.title),o().createElement(a.Text,{align:"center",as:"p",className:"payment-agent-withdrawal-locked__text",line_height:"s",size:"xs"},t.content),o().createElement(a.Button,{className:"payment-agent-withdrawal-locked__btn-confirm",onClick:t.onConfirm,primary:!0,large:!0,type:"button"},o().createElement(m.Localize,{i18n_default_text:t.btn_confirm_text})))};const _e=(0,fe.withRouter)((function(e){var t=e.error,r=e.history,n=[].concat(pe("PaymentAgentWithdrawSameMethod"===t.code?[{btn_confirm_text:(0,m.localize)("OK"),content:(0,m.localize)("To withdraw your funds, please choose the same payment method you used to make your deposits."),onConfirm:function(){return r.push(f.routes.cashier_withdrawal)}}]:[]),pe("PaymentAgentUseOtherMethod"===t.code?[{btn_confirm_text:(0,m.localize)("OK"),content:o().createElement(m.Localize,{i18n_default_text:"Please use an e-wallet that you have used for deposits previously. Ensure the e-wallet supports withdrawal. See the list of e-wallets that support withdrawals <0>here</0>.",components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"/payment-methods"})]}),onConfirm:function(){return r.push(f.routes.cashier_withdrawal)},title:(0,m.localize)("Please use an e-wallet to withdraw your funds.")}]:[]));return t.onClickButton||"PaymentAgentWithdrawSameMethod"!==t.code&&"PaymentAgentUseOtherMethod"!==t.code?o().createElement(de.Z,{error:t}):o().createElement(o().Fragment,null,n.map((function(e,t){return o().createElement(ye,{item:e,key:t})})))}));var ve=(0,i.Pi)((function(){var e=(0,ue.hU)("paymentagent_withdraw"),t=(0,i.oR)().client,r=(0,z.E)().payment_agent,n=t.verification_code.payment_agent_withdraw;return o().useEffect((function(){r.active_tab_index&&!n&&t.is_authorize&&e.send()}),[r.active_tab_index,n,t.is_authorize]),e.is_loading?o().createElement(a.Loading,{is_fullscreen:!1}):e.error&&"code"in e.error?o().createElement(_e,{error:e.error}):e.has_been_sent?o().createElement(me.Z,{type:"paymentagent_withdraw"}):n||r.is_withdraw?o().createElement(ce,null):null}));const be=ve;var ge=(0,i.Pi)((function(e){var t=e.setSideNotes,r=(0,z.E)(),n=r.payment_agent,c=r.general_store,l=(0,i.oR)().common.current_language;return o().useEffect((function(){return c.is_loading||n.is_try_withdraw_successful?null==t||t([]):null==t||t([o().createElement(d.Z,{has_title:!1,key:0},o().createElement(R,null)),o().createElement(d.Z,{has_title:!1,key:1},o().createElement(p,null))]),function(){null==t||t([])}}),[t,c.is_loading,n.is_try_withdraw_successful,l]),o().createElement("div",{className:"payment-agent-list cashier__wrapper--align-left"},o().createElement("div",{className:u()("payment-agent-list__instructions",{"payment-agent-list__instructions-hide-tabs":n.is_try_withdraw_successful}),key:l},o().createElement(a.Tabs,{active_index:n.active_tab_index,className:"tabs--desktop",onTabItemClick:n.setActiveTab,top:!0,header_fit_content:(0,f.isDesktop)(),center:!1,bottom:!1,active_icon_color:"",background_color:"",fit_content:!1,icon_color:"",icon_size:0,is_100vw:!1,is_full_width:!1,is_overflow_hidden:!1,is_scrollable:!1,should_update_hash:!1,single_tab_has_no_label:!1},o().createElement("div",{label:(0,m.localize)("Deposit")},o().createElement(se,null)),o().createElement("div",{label:(0,m.localize)("Withdrawal")},o().createElement(be,null)))))}));const we=ge;var Ee=(0,i.Pi)((function(e){var t=e.setSideNotes,r=(0,i.oR)().client,n=r.is_switching,s=r.is_virtual,u=r.verification_code.payment_agent_withdraw,m=(0,z.E)().payment_agent,f=(0,ue.Zu)(),d=m.is_withdraw,p=m.active_tab_index,h=m.setActiveTabIndex;return h(u||d||p?1:0),o().useEffect((function(){return function(){h(0)}}),[]),n?o().createElement(a.Loading,null):s?o().createElement(l.o,null):f?o().createElement(c.Z,null):o().createElement(we,{setSideNotes:t})}));const xe=Ee},"./pages/withdrawal/index.ts":(e,t,r)=>{r.d(t,{default:()=>G});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/index.ts"),c=r("../../stores/src/index.ts"),l=r("@deriv/translations"),s=r("./components/page-container/index.ts"),u=r("./components/crypto-transactions-history/index.ts"),m=r("./components/error/index.ts"),f=r("./components/no-balance/index.ts"),d=r("./modules/deposit-crypto/components/index.ts"),p=r("./stores/useCashierStores.tsx"),h=r("@deriv/shared"),y=r("../../../node_modules/classnames/index.js"),_=r.n(y),v=r("../../../node_modules/formik/dist/formik.esm.js"),b=r("./components/crypto-fiat-converter/index.ts"),g=r("./components/percentage-selector/index.ts");function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var E=function(e){var t=e.currency,r=(0,h.getCurrencyName)(t),n=h.CryptoConfig.get()[t].display_code;return o().createElement(a.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header cashier__content-header"},o().createElement(l.Localize,{i18n_default_text:"Withdraw {{currency}} ({{currency_symbol}}) to your wallet",values:{currency:r,currency_symbol:n}}))},x=(0,c.Pi)((function(){var e,t=(0,c.oR)().client,r=t.balance,n=t.currency,s=t.current_fiat_currency,u=t.verification_code.payment_withdraw,m=(0,p.E)(),f=m.crypto_fiat_converter,d=m.general_store,y=m.withdraw,x=n,O=y.blockchain_address,k=y.onMountCryptoWithdraw,S=y.requestWithdraw,z=y.setBlockchainAddress,C=y.setWithdrawPercentageSelectorResult,j=y.validateWithdrawFromAmount,N=y.validateWithdrawToAmount,P=y.resetWithdrawForm,L=f.converter_from_error,T=f.converter_to_error,I=f.onChangeConverterFromAmount,A=f.onChangeConverterToAmount,D=f.resetConverter,R=d.is_loading,M=d.percentage,F=d.percentageSelectorSelectionStatus,B=d.should_percentage_reset,U=(0,i.KE)();o().useEffect((function(){return k(u),function(){F(!1),P()}}),[]);var W=function(e){return e?e.length<25||e.length>64?(0,l.localize)("Your wallet address should have 25 to 64 characters."):void 0:(0,l.localize)("This field is required.")};return R?o().createElement(a.Loading,null):o().createElement("div",{className:"cashier__wrapper","data-testid":"dt_crypto_withdraw_form"},!(0,h.isMobile)()&&o().createElement(E,{currency:n}),o().createElement("div",{className:_()({"crypto-withdraw-form__icon":(0,h.isMobile)()})},o().createElement(a.Icon,{icon:"IcCurrency-".concat(null==U||null===(e=U.icon)||void 0===e?void 0:e.toLowerCase()),size:(0,h.isMobile)()?64:128})),(0,h.isMobile)()&&o().createElement(E,{currency:n}),o().createElement(v.J9,{initialValues:{address:""},onSubmit:function(){return S(u)}},(function(e){var t=e.errors,i=e.isSubmitting,c=e.touched,u=e.setFieldTouched,m=e.handleChange,f=e.handleSubmit,d=e.values;return o().createElement("form",{className:"crypto-withdraw-form",onSubmit:f,autoComplete:"off"},o().createElement(v.gN,{name:"address",validate:W},(function(e){var r=e.field;return o().createElement(a.Input,w({},r,{onChange:function(e){m(e),z(e.target.value),u("address",!0,!1)},className:"cashier__input withdraw__input","data-testid":"dt_address_input",type:"text",label:o().createElement(l.Localize,{i18n_default_text:"Your {{currency_symbol}} wallet address",values:{currency_symbol:null==n?void 0:n.toUpperCase()}}),error:c.address?t.address:"",required:!0,autoComplete:"off"}))})),o().createElement("div",{className:"crypto-withdraw-form__percentage-container"},o().createElement("div",{className:"crypto-withdraw-form__percentage-selector"},o().createElement(g.Z,{amount:Number(r),getCalculatedAmount:C,percentage:M,should_percentage_reset:B,from_currency:x,to_currency:s||"USD"})),o().createElement(b.Z,{from_currency:x,onChangeConverterFromAmount:I,onChangeConverterToAmount:A,resetConverter:D,to_currency:s||"USD",validateFromAmount:j,validateToAmount:N}),o().createElement("div",{className:"crypto-withdraw-form__submit"},o().createElement(a.Button,{className:"cashier__form-submit-button",is_disabled:!!W(d.address)||!!L||!!T||i||!O,type:"submit",primary:!0,large:!0},o().createElement(l.Localize,{i18n_default_text:"Withdraw"})))))})))}));const O=x;var k=r("./utils/utility.ts"),S=function(){return o().createElement(a.Text,{as:"p",color:"prominent",weight:"bold",align:"center",className:"crypto-withdraw-receipt__status"},o().createElement(a.Icon,{icon:"IcCircleDynamicColor",color:"orange",size:8,className:"crypto-withdraw-receipt__status-icon"}),o().createElement(l.Localize,{i18n_default_text:"In review"}))},z=function(e){var t,r,n=e.account;return o().createElement("div",{className:"crypto-withdraw-receipt__account-info"},o().createElement("div",{className:"crypto-withdraw-receipt__account-info-detail"},o().createElement(a.Icon,{icon:(null==n?void 0:n.platform_icon)||"IcCurrency-".concat(null==n||null===(t=n.currency)||void 0===t?void 0:t.toLowerCase()),size:32}),o().createElement(a.Text,{color:"prominent",weight:"bold",size:(0,h.isMobile)()?"xxs":"s",align:"center",className:"crypto-withdraw-receipt__account-info-detail-text"},null==n||null===(r=n.currency)||void 0===r?void 0:r.toUpperCase())),o().createElement(a.Text,{color:"less-prominent",size:(0,h.isMobile)()?"xs":"s",align:"center",className:"crypto-withdraw-receipt__account-info-detail-text"},null==n?void 0:n.value))},C=function(e){var t=e.account,r=e.blockchain_address,n=(0,k.K)(t);return o().createElement("div",{className:"crypto-withdraw-receipt__account-info"},o().createElement("div",{className:"crypto-withdraw-receipt__account-info-detail"},o().createElement(a.Icon,{icon:"IcCashierWithdrawWallet",size:32}),o().createElement(a.Text,{color:"prominent",weight:"bold",align:"center",className:"crypto-withdraw-receipt__account-info-detail-text"},o().createElement(l.Localize,{i18n_default_text:"{{account_text}} wallet",values:{account_text:n}}))),o().createElement("div",{className:"crypto-withdraw-receipt__account-info-address"},o().createElement(a.Text,{color:"less-prominent",as:"p",size:(0,h.isMobile)()?"xxs":"xs",align:"center",className:"crypto-withdraw-receipt__account-info-detail-text"},r),o().createElement(a.Clipboard,{text_copy:r,info_message:(0,h.isMobile)()?"":(0,l.localize)("copy"),icon:"IcCashierClipboard",success_message:(0,l.localize)("copied!"),popoverAlignment:(0,h.isMobile)()?"left":"bottom"})))},j=(0,c.Pi)((function(){var e=(0,c.oR)().client,t=e.currency,r=e.is_switching,n=(0,p.E)(),i=n.account_transfer,s=n.general_store,u=n.transaction_history,m=n.withdraw,f=i.selected_from,d=s.cashier_route_tab_index,y=u.setIsCryptoTransactionsVisible,_=m.blockchain_address,v=m.resetWithdrawForm,b=m.setIsWithdrawConfirmed,g=m.withdraw_amount;return o().useEffect((function(){return function(){b(!1),v()}}),[r,d]),o().createElement("div",{className:"cashier__wrapper"},o().createElement(a.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header cashier__content-header"},o().createElement(l.Localize,{i18n_default_text:"Your withdrawal will be processed within 24 hours"})),o().createElement("div",{className:"crypto-withdraw-receipt__detail"},!(0,h.isMobile)()&&o().createElement(S,null),o().createElement(a.Text,{as:"p",color:"profit-success",weight:"bold",align:"center",size:(0,h.isMobile)()?"m":"l",className:"crypto-withdraw-receipt__crypto"},o().createElement(l.Localize,{i18n_default_text:"{{withdraw_amount}} {{currency_symbol}}",values:{withdraw_amount:g,currency_symbol:null==t?void 0:t.toUpperCase()}})),(0,h.isMobile)()&&o().createElement(S,null),o().createElement(z,{account:f}),o().createElement(a.Icon,{className:"crypto-withdraw-receipt__icon",icon:"IcArrowDown",size:30}),o().createElement(C,{account:f,blockchain_address:_})),o().createElement("div",{className:"crypto-withdraw-receipt__button-wrapper"},o().createElement(a.Button,{id:"withdraw_transaction",className:"crypto-withdraw-receipt__button crypto-withdraw-receipt__button-left",text:(0,l.localize)("View transaction history"),onClick:function(){return y(!0)},secondary:!0}),o().createElement(a.Button,{id:"crypto-withdraw-receipt",className:"crypto-withdraw-receipt__button",has_effect:!0,text:(0,l.localize)("Make a new withdrawal"),onClick:function(){return b(!1)},primary:!0})))}));const N=j;var P=r("./components/cashier-container/index.ts");const L=(0,c.Pi)((function(){var e=(0,c.oR)().client.verification_code.payment_withdraw,t=(0,p.E)().withdraw.onMountWithdraw;return o().useEffect((function(){t(e)}),[]),o().createElement(P.x,null)}));var T=r("react-router-dom"),I=r("./components/cashier-locked/index.ts");function A(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=(0,c.Pi)((function(){var e,t,r,n=(0,c.oR)().client.account_status,i=(0,p.E)().withdraw,s=i.is_10k_withdrawal_limit_reached,u=i.error.is_ask_financial_risk_approval,m=null===(e=n.authentication)||void 0===e?void 0:e.document,f=null===(t=n.authentication)||void 0===t?void 0:t.identity,d=null===(r=n.authentication)||void 0===r?void 0:r.needs_verification,y=s&&"verified"!==(null==f?void 0:f.status),_="none"!==(null==f?void 0:f.status),v=s&&((null==d?void 0:d.includes("document"))||"verified"!==(null==m?void 0:m.status)),b="none"!==(null==m?void 0:m.status),g=s&&u,w=(0,T.useHistory)(),E=[].concat(A(y?[{content:_?(0,l.localize)("Check proof of identity document verification status"):(0,l.localize)("Upload a proof of identity to verify your identity"),status:"action",onClick:function(){return w.push(h.routes.proof_of_identity)}}]:[]),A(v?[{content:b?(0,l.localize)("Check proof of address document verification status"):(0,l.localize)("Upload a proof of address to verify your address"),status:"action",onClick:function(){return w.push(h.routes.proof_of_address)}}]:[]),A(g?[{content:(0,l.localize)("Complete the financial assessment form"),status:"action",onClick:function(){return w.push(h.routes.financial_assessment)}}]:[]));return o().createElement(o().Fragment,null,E.length?o().createElement("div",{className:"cashier-locked"},o().createElement(a.Icon,{icon:"IcCashierWithdrawalLock",className:"cashier-locked__icon"}),o().createElement(a.Text,{as:"h2",weight:"bold",align:"center",className:"cashier-locked__title"},o().createElement(l.Localize,{i18n_default_text:"You have reached the withdrawal limit.<0/>Please upload your proof of identity and address to lift the limit to continue your withdrawal.",components:[o().createElement("br",{key:0})]})),o().createElement(o().Fragment,null,o().createElement(a.Checklist,{className:"cashier-locked__checklist",items:E}))):o().createElement(I.Z,null))}));const M=R;var F=r("./components/email-verification-empty-state/index.ts");const B=(0,c.Pi)((function(){var e=(0,i.hU)("payment_withdraw");return e.error?o().createElement(m.Z,{error:e.error}):e.has_been_sent?o().createElement(F.Z,{type:"payment_withdraw"}):o().createElement(a.EmptyState,{icon:"IcCashierAuthenticate",title:(0,l.localize)("Please help us verify your withdrawal request."),description:o().createElement(o().Fragment,null,o().createElement(l.Localize,{i18n_default_text:"Hit the button below and we'll send you an email with a link. Click that link to verify your withdrawal request."}),o().createElement("br",null),o().createElement("br",null),o().createElement(l.Localize,{i18n_default_text:"This is to protect your account from unauthorised withdrawals."})),action:{label:(0,l.localize)("Send email"),onClick:function(){return e.send()}}})}));var U=(0,c.Pi)((function(){var e=(0,i.om)();return o().createElement(o().Fragment,null,e.is_crypto&&o().createElement(d.De,null),o().createElement(a.SideNote,{title:(0,l.localize)("Note")},o().createElement("li",null,(0,l.localize)("Do not enter an address linked to an ICO purchase or crowdsale. If you do, the ICO tokens will not be credited into your account.")),o().createElement("li",null,(0,l.localize)("Please note that your maximum and minimum withdrawal limits aren’t fixed. They change due to the high volatility of cryptocurrency.")),e.is_fiat&&o().createElement("li",null,(0,l.localize)("We'll send you an email once your transaction has been processed."))))})),W=(0,c.Pi)((function(){var e=(0,c.oR)().client.verification_code.payment_withdraw,t=(0,p.E)(),r=t.iframe,n=t.withdraw,a=r.iframe_url,l=n.is_withdraw_confirmed,u=(0,i.om)();return u.is_crypto||!e&&!a?e&&u.is_crypto&&!l?o().createElement(s._,{hide_breadcrumb:!0,right:o().createElement(U,null)},o().createElement(O,null)):l?o().createElement(s._,{hide_breadcrumb:!0,right:o().createElement(U,null)},o().createElement(N,null)):o().createElement(s._,{hide_breadcrumb:!0,right:u.is_crypto?o().createElement(U,null):void 0},o().createElement(B,null)):o().createElement(s._,{hide_breadcrumb:!0},o().createElement(L,null))})),Y=(0,c.Pi)((function(){var e=(0,c.oR)().client,t=e.balance,r=e.is_switching,n=e.verification_code.payment_withdraw,i=e.setVerificationCode,l=(0,p.E)(),d=l.withdraw,h=l.transaction_history.is_crypto_transactions_visible,y=d.check10kLimit,_=d.error.setErrorMessage,v=d.willMountWithdraw,b=d.error,g=d.is_10k_withdrawal_limit_reached,w=d.is_withdrawal_locked;return o().useEffect((function(){return function(){_({code:"",message:""})}}),[_]),o().useEffect((function(){y()}),[y]),o().useEffect((function(){return function(){return i("","payment_withdraw")}}),[i]),o().useEffect((function(){return function(){return v(n)}}),[v]),r||void 0===g?o().createElement(a.Loading,{is_fullscreen:!1}):w||g?o().createElement(s._,{hide_breadcrumb:!0},o().createElement(M,null)):Number(t)?b.is_show_full_page&&b.message?o().createElement(s._,{hide_breadcrumb:!0},o().createElement(m.Z,{error:b})):h?o().createElement(u.Z,null):o().createElement(W,null):o().createElement(s._,{hide_breadcrumb:!0},o().createElement(f.Z,null))}));const G=Y},"./stores/useCashierStores.tsx":(e,t,r)=>{r.d(t,{E:()=>l,O:()=>c});var n=r("react"),o=r.n(n),a=r("../../stores/src/index.ts"),i=(0,n.createContext)(null),c=function(e){var t=e.children,r=(0,a.oR)().modules;return o().createElement(i.Provider,{value:null==r?void 0:r.cashier},t)},l=function(){var e=(0,n.useContext)(i);if(!e)throw new Error("useCashierStore must be used within CashierStoreContext");return e}},"./utils/utility.ts":(e,t,r)=>{r.d(t,{K:()=>i,w:()=>c});var n=r("@deriv/shared");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e){return e.is_dxtrade||e.is_mt?e.text:(0,n.getCurrencyDisplayCode)(e.text)},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r?e.replace(/[' ,-]/g,"").toLowerCase():e,a=Object.entries(t).reduce((function(e,t){var r=o(t,2),a=r[0];return r[1].some((function(e){return e===n}))?a:e}),"");return r?a:a||e}},"../../hooks/src/index.ts":(e,t,r)=>{r.d(t,{mk:()=>o,Zu:()=>a,LK:()=>v,KE:()=>O,om:()=>k,Km:()=>P,sL:()=>R,wN:()=>F,J:()=>B,Iu:()=>U,_S:()=>W,Co:()=>Y,I0:()=>K,oo:()=>$,u8:()=>re,Iq:()=>ne,hA:()=>oe,Tb:()=>ie,Hp:()=>me,pQ:()=>ye,hU:()=>ve});var n=r("../../stores/src/index.ts");const o=function(){var e=(0,n.oR)().client,t=e.landing_company_shortcode,r=e.residence,o=(0,n.oR)().client.active_accounts.some((function(e){return"maltainvest"===e.landing_company_shortcode}));return"im"!==r&&("malta"!==t||o)},a=function(){var e;return(null===(e=(0,n.oR)().client.account_status.status)||void 0===e?void 0:e.some((function(e){return"cashier_locked"===e})))||!1};var i=r("react");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const s=function(e){var t=e.from,r=e.to,n=void 0===r?0:r,o=e.increment,a=void 0!==o&&o,l=c((0,i.useState)(t),2),s=l[0],u=l[1],m=c((0,i.useState)(!1),2),f=m[0],d=m[1];(0,i.useEffect)((function(){var e;return f&&(e=setTimeout((function(){s===n?p():u((function(e){return a?e+1:e-1}))}),1e3)),function(){return clearTimeout(e)}}),[s,f,n,a]);var p=function(){return d(!1)},h=function(){return u(t)};return{count:s,is_running:f,start:function(){return d(!0)},pause:p,reset:h,stop:function(){p(),h()}}};var u=r("../../api/src/index.ts");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var f=["subscribe","data"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const v=function(){var e,t=(0,u.mU)("cashier_payments"),r=t.subscribe,n=t.data,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,f),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.useState)(),2),c=a[0],l=a[1];(0,i.useEffect)((function(){r()}),[r]),(0,i.useEffect)((function(){l((function(e){var t,r=null==n||null===(t=n.cashier_payments)||void 0===t?void 0:t.crypto;if(!r)return e;if(!e)return r;var o=function(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e);return r.forEach((function(e){var t=o.findIndex((function(t){return t.id===e.id}));-1===t?o.push(e):o[t]=e})),o}))}),[null==n||null===(e=n.cashier_payments)||void 0===e?void 0:e.crypto]);var s=(0,i.useMemo)((function(){return null==c?void 0:c.map((function(e){return p(p({},e),{},{is_deposit:"deposit"===e.transaction_type,is_withdrawal:"withdrawal"===e.transaction_type})}))}),[c]),m=(0,i.useMemo)((function(){return null==s?void 0:s.sort((function(e,t){return t.submit_date-e.submit_date}))}),[s]),d=s&&s.length>0;return p({data:m,last_transaction:null==s?void 0:s[0],has_transactions:d,subscribe:r},o)};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x=function(){var e,t,r=(0,u.ib)("website_status").data,n=(0,u.ib)("crypto_config").data,o=(0,i.useMemo)((function(){var e;if(null!=r&&null!==(e=r.website_status)&&void 0!==e&&e.currencies_config){var t=r.website_status.currencies_config;return Object.keys(t).map((function(e){var r,o=t[e],a=null==n||null===(r=n.crypto_config)||void 0===r?void 0:r.currencies_config[e];return w(w(w({},o),a),{},{is_crypto:"crypto"===(null==o?void 0:o.type),is_fiat:"fiat"===(null==o?void 0:o.type),is_AUD:"AUD"===e,is_USD:"USD"===e,is_EUR:"EUR"===e,is_GBP:"GBP"===e,is_BTC:"BTC"===e,is_ETH:"ETH"===e,is_LTC:"LTC"===e,is_DAI:"DAI"===e,is_IDK:"IDK"===e,is_PAX:"PAX"===e,is_USB:"USB"===e,is_USDT:"UST"===e,is_TUSD:"TUSD"===e,is_BUSD:"BUSD"===e,is_EURS:"EURS"===e,is_eUSDT:"eUSDT"===e,is_tUSDT:"tUSDT"===e,is_USDC:"USDC"===e,is_USDK:"USDK"===e,code:e,display_code:"UST"===e?"USDT":e,icon:"IcCurrency".concat(e[0].toUpperCase()+e.slice(1).toLowerCase())})})).reduce((function(e,t){return w(w({},e),{},E({},t.code,t))}),{})}}),[null==n||null===(e=n.crypto_config)||void 0===e?void 0:e.currencies_config,null==r||null===(t=r.website_status)||void 0===t?void 0:t.currencies_config]);return{getConfig:(0,i.useCallback)((function(e){return null==o?void 0:o[e]}),[o]),currencies_config:o}},O=function(){var e=(0,n.oR)().client,t=e.account_list,r=e.loginid;return t.find((function(e){return r===e.loginid}))},k=function(){var e=(0,n.oR)().client.currency;return(0,x().getConfig)(e)};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var z=["data","mutate"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const P=function(){var e,t,r=(0,u.Yv)("cashier"),n=r.data,o=r.mutate,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,z),c="string"!=typeof(null==n?void 0:n.cashier)?null==n||null===(e=n.cashier)||void 0===e||null===(t=e.deposit)||void 0===t?void 0:t.address:void 0,l=(0,i.useCallback)((function(){return o({payload:{cashier:"deposit",provider:"crypto",type:"api"}})}),[o]);return(0,i.useEffect)((function(){l()}),[l]),j(j({},a),{},{resend:l,data:c})};function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var T=["data","mutate"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===L(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const R=function(){var e=(0,n.oR)().ui.is_dark_mode_on,t=(0,u.Yv)("cashier"),r=t.data,o=t.mutate,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,T),c="string"==typeof(null==r?void 0:r.cashier)?"".concat(null==r?void 0:r.cashier,"&DarkMode=").concat(e?"on":"off"):void 0,l=(0,i.useCallback)((function(){return o({payload:{cashier:"deposit",provider:"doughflow"}})}),[o]);return(0,i.useEffect)((function(){l()}),[l]),A(A({},a),{},{resend:l,data:c})},M=function(){var e=(0,n.oR)().client,t=e.is_eu,r=e.is_tnc_needed,o=(0,n.oR)().client.mt5_login_list.some((function(e){return"real"===e.account_type&&"financial_stp"===e.sub_account_type}));return(t||o)&&r},F=function(){var e=(0,n.oR)().client,t=e.is_deposit_lock,r=e.is_trading_experience_incomplete,o=e.landing_company_shortcode,a=function(){var e=(0,n.oR)(),t=e.client,r=e.traders_hub,o=t.is_authentication_needed,a=r.is_low_risk_cr_eu_real;return o&&a}(),i=M(),c=function(){var e=(0,n.oR)().client,t=e.is_financial_account,r=e.is_financial_information_incomplete,o=e.is_trading_experience_incomplete;return t&&(r||o)}();return t||a||i||("maltainvest"===o?r:c)},B=function(){var e=(0,n.oR)().exchange_rates.data,t=null==e?void 0:e.rates;return{getRate:(0,i.useCallback)((function(e){return(null==t?void 0:t[e])||1}),[t]),last_update:null==e?void 0:e.date,base_currency:(null==e?void 0:e.base_currency)||"USD"}},U=function(){var e=(0,n.oR)().client,t=e.account_list,r=e.is_crypto;return t.filter((function(e){return!e.is_virtual&&!r(e.title||"")}))},W=function(){var e=(0,n.oR)().client,t=e.account_list,r=e.is_crypto;return t.some((function(e){return r(e.title||"USD")}))},Y=function(){var e=(0,n.oR)().client.account_list,t=x().getConfig;return e.some((function(e){var r;return"Real"!==e.title&&(null===(r=t(e.title||""))||void 0===r?void 0:r.is_fiat)}))};function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}var H=["data"];function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const K=function(){var e,t,r=(0,n.oR)().client,o=r.active_accounts,a=r.is_authorize,c=r.loginid,l=(0,u.HN)(),s=(0,u.ib)("website_status",{options:{enabled:a}}),m=s.data,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(s,H),d=o.filter((function(e){return!e.is_virtual})).map((function(e){var t;return null===(t=e.currency)||void 0===t?void 0:t.toLowerCase()})),p=Boolean(null==m||null===(e=m.website_status)||void 0===e||null===(t=e.p2p_config)||void 0===t?void 0:t.supported_currencies.some((function(e){return d.includes(e)})));return(0,i.useEffect)((function(){l("website_status")}),[l,c]),V(V({},f),{},{data:p})},$=function(){var e=(0,n.oR)().client.account_list,t=(0,n.oR)().client.active_accounts.some((function(e){return 0===e.is_virtual}));return e.filter((function(e){return!e.is_virtual})).some((function(e){return"Real"!==e.title&&"Investment"!==e.title}))||!t};function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}var X=["data"];function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===J(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const re=function(){var e,t,r=(0,n.oR)(),o=r.client,a=r.traders_hub,c=o.is_authorize,l=o.loginid,s=o.currency,m=o.is_virtual,f=a.is_low_risk_cr_eu_real,d=(0,u.HN)(),p=(0,u.ib)("website_status",{options:{enabled:c}}),h=p.data,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(p,X),_=Boolean(null==h||null===(e=h.website_status)||void 0===e||null===(t=e.p2p_config)||void 0===t?void 0:t.supported_currencies.includes(s.toLocaleLowerCase()))&&!m&&!f;return(0,i.useEffect)((function(){d("website_status")}),[d,l]),ee(ee({},y),{},{data:_})},ne=function(){var e;return(null===(e=(0,n.oR)().client.account_status.cashier_validation)||void 0===e?void 0:e.some((function(e){return"system_maintenance"===e})))||!1},oe=function(){var e=(0,n.oR)().client,t=e.is_virtual,r=e.is_crypto;return!t&&r()};function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ie=function(){var e,t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.useState)(JSON.parse(localStorage.getItem("p2p_settings")||"{}")),2),r=t[0],o=t[1],a=(0,n.oR)().client.loginid,c=a?null===(e=r[a])||void 0===e?void 0:e.notifications:null;return(0,i.useEffect)((function(){var e=function(){var e=localStorage.getItem("p2p_settings");e&&o(JSON.parse(e))};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[]),(null==c?void 0:c.filter((function(e){return!e.is_seen})).length)||0};function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}var le=["data"];function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const me=function(e){var t,r=(0,n.oR)().client.residence,o=(0,u.ib)("paymentagent_list",{payload:{paymentagent_list:r,currency:e},options:{enabled:Boolean(r)}}),a=o.data,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(o,le);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:null==a||null===(t=a.paymentagent_list)||void 0===t?void 0:t.list},i)};function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}var de=["data"];function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ye=function(){var e,t=(0,n.oR)().client.is_authorize,r=(0,u.ib)("get_settings",{options:{enabled:t}}),o=r.data,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,de);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:Boolean(null==o||null===(e=o.get_settings)||void 0===e?void 0:e.is_authenticated_payment_agent)},a)};function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ve=function(e){var t=(0,u.Yv)("verify_email"),r=s({from:60}),o=(0,n.oR)().client,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,i.useState)(0),2),c=a[0],l=a[1],m=(0,i.useCallback)((function(n){var a=null!=n?n:o.email;a&&(r.is_running||(r.reset(),r.start(),l((function(e){return e+1})),t.mutate({payload:{verify_email:a,type:e}})))}),[t,o.email,r,e]);return{is_loading:t.isLoading,error:t.error,data:t.data,counter:r.count,is_counter_running:r.is_running,sent_count:c,has_been_sent:0!==c,send:m}};r("@deriv/shared")},"../../stores/src/index.ts":(e,t,r)=>{r.d(t,{g3:()=>N,Pi:()=>n.Pi,oR:()=>u});var n=r("../../../node_modules/mobx-react-lite/es/index.js"),o=r("../../../node_modules/lodash.merge/index.js"),a=r.n(o),i=r("react"),c=r.n(i);const l=(0,i.createContext)(null);var s=r("../../api/src/index.ts");const u=function(){var e=(0,i.useContext)(l);if(!e)throw new Error("useStore must be used within StoreProvider");return e},m=(0,n.Pi)((function(e){var t=e.children,r=(0,s.mU)("exchange_rates"),n=r.data,o=r.subscribe,l=u().exchange_rates.update;return(0,i.useEffect)((function(){o({payload:{base_currency:"USD"}})}),[o]),(0,i.useEffect)((function(){if(n){var e=n.exchange_rates;e&&l((function(t){return a()(t,e)}))}}),[l,n]),c().createElement(c().Fragment,null,t)}));var f=r("mobx"),d=r("../../../node_modules/mobx-persist-store/lib/esm5/index.js");function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}var y=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=void 0,(0,f.makeObservable)(this,{data:f.observable,update:f.action.bound,unmount:f.action.bound}),(0,d.Ko)(this,{name:t,properties:["data"],storage:window.localStorage}).then((function(){return null==r?void 0:r()}))}var t,r;return t=e,(r=[{key:"update",value:function(e){this.data=e instanceof Function?e(this.data):e}},{key:"unmount",value:function(){(0,d.Rf)(this)}}])&&h(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(n,e);var t,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r.call(this,"ExchangeRatesStore")}return t=n,Object.defineProperty(t,"prototype",{writable:!1}),t}(y);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var O={next_wallet:!1},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(n,e);var t,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r.call(this,"FeatureFlagsStore",(function(){e.data||e.update(O),e.data&&Object.keys(e.data).length!==Object.keys(O).length&&e.update((function(e){var t=O;return Object.keys(O).forEach((function(r){void 0!==e[r]&&(t[r]=e[r])})),t}))}))).data=O,e}return t=n,Object.defineProperty(t,"prototype",{writable:!1}),t}(y);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=function(e){var t=e.children,r=e.store,n=(0,i.useMemo)((function(){return"is_mock"in r&&r.is_mock?r:C(C({},r),{},{exchange_rates:new g,feature_flags:new k})}),[r]);return(0,i.useEffect)((function(){return function(){Object.values(n).forEach((function(e){"object"===S(e)&&"unmount"in e&&e.unmount()}))}}),[n]),c().createElement(l.Provider,{value:n},c().createElement(m,null,t))}}}]);