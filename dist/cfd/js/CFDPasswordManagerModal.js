/*! For license information please see CFDPasswordManagerModal.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","mobx","react","react-dom"],e):"object"==typeof exports?exports["@deriv/cfd"]=e(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("react"),require("react-dom")):t["@deriv/cfd"]=e(t["@deriv/components"],t["@deriv/shared"],t["@deriv/translations"],t.mobx,t.react,t["react-dom"])}(self,((t,e,r,n,o,i)=>(()=>{var a={"../../node_modules/classnames/index.js":(t,e)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&t.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){t.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},"../../node_modules/formik/dist/formik.esm.js":(t,e,r)=>{"use strict";r.d(e,{gN:()=>jr,l0:()=>xr,J9:()=>gr});var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function a(t,e,r){return t.concat(e).map((function(t){return i(t,r)}))}function s(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||n;var o=Array.isArray(e);return o===Array.isArray(t)?o?r.arrayMerge(t,e,r):function(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach((function(e){n[e]=i(t[e],r)})),Object.keys(e).forEach((function(o){r.isMergeableObject(e[o])&&t[o]?n[o]=s(t[o],e[o],r):n[o]=i(e[o],r)})),n}(t,e,r):i(e,r)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return s(t,r,e)}),{})};const c=s,u="object"==typeof global&&global&&global.Object===Object&&global;var l="object"==typeof self&&self&&self.Object===Object&&self;const f=u||l||Function("return this")(),d=f.Symbol;var h=Object.prototype,p=h.hasOwnProperty,v=h.toString,y=d?d.toStringTag:void 0;var m=Object.prototype.toString;var _=d?d.toStringTag:void 0;const b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?function(t){var e=p.call(t,y),r=t[y];try{t[y]=void 0;var n=!0}catch(t){}var o=v.call(t);return n&&(e?t[y]=r:delete t[y]),o}(t):function(t){return m.call(t)}(t)},g=function(t,e){return function(r){return t(e(r))}},w=g(Object.getPrototypeOf,Object),S=function(t){return null!=t&&"object"==typeof t};var O=Function.prototype,E=Object.prototype,j=O.toString,x=E.hasOwnProperty,P=j.call(Object);const A=function(t){if(!S(t)||"[object Object]"!=b(t))return!1;var e=w(t);if(null===e)return!0;var r=x.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&j.call(r)==P};var T=r("react"),k=r("../../node_modules/react-fast-compare/index.js"),C=r.n(k);const F=function(t,e){},D=function(t,e){return t===e||t!=t&&e!=e},M=function(t,e){for(var r=t.length;r--;)if(D(t[r][0],e))return r;return-1};var R=Array.prototype.splice;function L(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}L.prototype.clear=function(){this.__data__=[],this.size=0},L.prototype.delete=function(t){var e=this.__data__,r=M(e,t);return!(r<0||(r==e.length-1?e.pop():R.call(e,r,1),--this.size,0))},L.prototype.get=function(t){var e=this.__data__,r=M(e,t);return r<0?void 0:e[r][1]},L.prototype.has=function(t){return M(this.__data__,t)>-1},L.prototype.set=function(t,e){var r=this.__data__,n=M(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};const I=L,z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},N=function(t){if(!z(t))return!1;var e=b(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},q=f["__core-js_shared__"];var U,V=(U=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"";var G=Function.prototype.toString;const B=function(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var $=/^\[object .+?Constructor\]$/,W=Function.prototype,K=Object.prototype,H=W.toString,Q=K.hasOwnProperty,J=RegExp("^"+H.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const X=function(t){return!(!z(t)||function(t){return!!V&&V in t}(t))&&(N(t)?J:$).test(B(t))},Y=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return X(r)?r:void 0},Z=Y(f,"Map"),tt=Y(Object,"create");var et=Object.prototype.hasOwnProperty;var rt=Object.prototype.hasOwnProperty;function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nt.prototype.clear=function(){this.__data__=tt?tt(null):{},this.size=0},nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt.prototype.get=function(t){var e=this.__data__;if(tt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return et.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return tt?void 0!==e[t]:rt.call(e,t)},nt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=tt&&void 0===e?"__lodash_hash_undefined__":e,this};const ot=nt,it=function(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function at(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}at.prototype.clear=function(){this.size=0,this.__data__={hash:new ot,map:new(Z||I),string:new ot}},at.prototype.delete=function(t){var e=it(this,t).delete(t);return this.size-=e?1:0,e},at.prototype.get=function(t){return it(this,t).get(t)},at.prototype.has=function(t){return it(this,t).has(t)},at.prototype.set=function(t,e){var r=it(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const st=at;function ct(t){var e=this.__data__=new I(t);this.size=e.size}ct.prototype.clear=function(){this.__data__=new I,this.size=0},ct.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ct.prototype.get=function(t){return this.__data__.get(t)},ct.prototype.has=function(t){return this.__data__.has(t)},ct.prototype.set=function(t,e){var r=this.__data__;if(r instanceof I){var n=r.__data__;if(!Z||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new st(n)}return r.set(t,e),this.size=r.size,this};const ut=ct,lt=function(){try{var t=Y(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ft=function(t,e,r){"__proto__"==e&&lt?lt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var dt=Object.prototype.hasOwnProperty;const ht=function(t,e,r){var n=t[e];dt.call(t,e)&&D(n,r)&&(void 0!==r||e in t)||ft(t,e,r)},pt=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=n?n(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),o?ft(r,s,c):ht(r,s,c)}return r},vt=function(t){return S(t)&&"[object Arguments]"==b(t)};var yt=Object.prototype,mt=yt.hasOwnProperty,_t=yt.propertyIsEnumerable;const bt=vt(function(){return arguments}())?vt:function(t){return S(t)&&mt.call(t,"callee")&&!_t.call(t,"callee")},gt=Array.isArray;var wt="object"==typeof exports&&exports&&!exports.nodeType&&exports,St=wt&&"object"==typeof module&&module&&!module.nodeType&&module,Ot=St&&St.exports===wt?f.Buffer:void 0;const Et=(Ot?Ot.isBuffer:void 0)||function(){return!1};var jt=/^(?:0|[1-9]\d*)$/;const xt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&jt.test(t))&&t>-1&&t%1==0&&t<e},Pt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;const Tt=function(t){return function(e){return t(e)}};var kt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ct=kt&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=Ct&&Ct.exports===kt&&u.process;const Dt=function(){try{return Ct&&Ct.require&&Ct.require("util").types||Ft&&Ft.binding&&Ft.binding("util")}catch(t){}}();var Mt=Dt&&Dt.isTypedArray;const Rt=Mt?Tt(Mt):function(t){return S(t)&&Pt(t.length)&&!!At[b(t)]};var Lt=Object.prototype.hasOwnProperty;const It=function(t,e){var r=gt(t),n=!r&&bt(t),o=!r&&!n&&Et(t),i=!r&&!n&&!o&&Rt(t),a=r||n||o||i,s=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=s.length;for(var u in t)!e&&!Lt.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||xt(u,c))||s.push(u);return s};var zt=Object.prototype;const Nt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||zt)},qt=g(Object.keys,Object);var Ut=Object.prototype.hasOwnProperty;const Vt=function(t){return null!=t&&Pt(t.length)&&!N(t)},Gt=function(t){return Vt(t)?It(t):function(t){if(!Nt(t))return qt(t);var e=[];for(var r in Object(t))Ut.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)};var Bt=Object.prototype.hasOwnProperty;const $t=function(t){if(!z(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Nt(t),r=[];for(var n in t)("constructor"!=n||!e&&Bt.call(t,n))&&r.push(n);return r},Wt=function(t){return Vt(t)?It(t,!0):$t(t)};var Kt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ht=Kt&&"object"==typeof module&&module&&!module.nodeType&&module,Qt=Ht&&Ht.exports===Kt?f.Buffer:void 0,Jt=Qt?Qt.allocUnsafe:void 0;const Xt=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},Yt=function(){return[]};var Zt=Object.prototype.propertyIsEnumerable,te=Object.getOwnPropertySymbols;const ee=te?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}(te(t),(function(e){return Zt.call(t,e)})))}:Yt,re=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},ne=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)re(e,ee(t)),t=w(t);return e}:Yt,oe=function(t,e,r){var n=e(t);return gt(t)?n:re(n,r(t))},ie=function(t){return oe(t,Gt,ee)},ae=function(t){return oe(t,Wt,ne)},se=Y(f,"DataView"),ce=Y(f,"Promise"),ue=Y(f,"Set"),le=Y(f,"WeakMap");var fe="[object Map]",de="[object Promise]",he="[object Set]",pe="[object WeakMap]",ve="[object DataView]",ye=B(se),me=B(Z),_e=B(ce),be=B(ue),ge=B(le),we=b;(se&&we(new se(new ArrayBuffer(1)))!=ve||Z&&we(new Z)!=fe||ce&&we(ce.resolve())!=de||ue&&we(new ue)!=he||le&&we(new le)!=pe)&&(we=function(t){var e=b(t),r="[object Object]"==e?t.constructor:void 0,n=r?B(r):"";if(n)switch(n){case ye:return ve;case me:return fe;case _e:return de;case be:return he;case ge:return pe}return e});const Se=we;var Oe=Object.prototype.hasOwnProperty;const Ee=f.Uint8Array,je=function(t){var e=new t.constructor(t.byteLength);return new Ee(e).set(new Ee(t)),e};var xe=/\w*$/;var Pe=d?d.prototype:void 0,Ae=Pe?Pe.valueOf:void 0;const Te=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return je(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function(t,e){var r=e?je(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?je(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,xe.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return Ae?Object(Ae.call(t)):{}}(t)}};var ke=Object.create;const Ce=function(){function t(){}return function(e){if(!z(e))return{};if(ke)return ke(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Fe=Dt&&Dt.isMap;const De=Fe?Tt(Fe):function(t){return S(t)&&"[object Map]"==Se(t)};var Me=Dt&&Dt.isSet;const Re=Me?Tt(Me):function(t){return S(t)&&"[object Set]"==Se(t)};var Le="[object Arguments]",Ie="[object Function]",ze="[object Object]",Ne={};Ne[Le]=Ne["[object Array]"]=Ne["[object ArrayBuffer]"]=Ne["[object DataView]"]=Ne["[object Boolean]"]=Ne["[object Date]"]=Ne["[object Float32Array]"]=Ne["[object Float64Array]"]=Ne["[object Int8Array]"]=Ne["[object Int16Array]"]=Ne["[object Int32Array]"]=Ne["[object Map]"]=Ne["[object Number]"]=Ne[ze]=Ne["[object RegExp]"]=Ne["[object Set]"]=Ne["[object String]"]=Ne["[object Symbol]"]=Ne["[object Uint8Array]"]=Ne["[object Uint8ClampedArray]"]=Ne["[object Uint16Array]"]=Ne["[object Uint32Array]"]=!0,Ne["[object Error]"]=Ne[Ie]=Ne["[object WeakMap]"]=!1;const qe=function t(e,r,n,o,i,a){var s,c=1&r,u=2&r,l=4&r;if(n&&(s=i?n(e,o,i,a):n(e)),void 0!==s)return s;if(!z(e))return e;var f=gt(e);if(f){if(s=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Oe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!c)return Xt(e,s)}else{var d=Se(e),h=d==Ie||"[object GeneratorFunction]"==d;if(Et(e))return function(t,e){if(e)return t.slice();var r=t.length,n=Jt?Jt(r):new t.constructor(r);return t.copy(n),n}(e,c);if(d==ze||d==Le||h&&!i){if(s=u||h?{}:function(t){return"function"!=typeof t.constructor||Nt(t)?{}:Ce(w(t))}(e),!c)return u?function(t,e){return pt(t,ne(t),e)}(e,function(t,e){return t&&pt(e,Wt(e),t)}(s,e)):function(t,e){return pt(t,ee(t),e)}(e,function(t,e){return t&&pt(e,Gt(e),t)}(s,e))}else{if(!Ne[d])return i?e:{};s=Te(e,d,c)}}a||(a=new ut);var p=a.get(e);if(p)return p;a.set(e,s),Re(e)?e.forEach((function(o){s.add(t(o,r,n,o,e,a))})):De(e)&&e.forEach((function(o,i){s.set(i,t(o,r,n,i,e,a))}));var v=f?void 0:(l?u?ae:ie:u?Wt:Gt)(e);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(v||e,(function(o,i){v&&(o=e[i=o]),ht(s,i,t(o,r,n,i,e,a))})),s},Ue=function(t){return qe(t,4)},Ve=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Ge=function(t){return"symbol"==typeof t||S(t)&&"[object Symbol]"==b(t)};function Be(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Be.Cache||st),r}Be.Cache=st;const $e=Be;var We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ke=/\\(\\)?/g;const He=function(t){var e=$e((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(We,(function(t,r,n,o){e.push(n?o.replace(Ke,"$1"):r||t)})),e}),(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}(),Qe=function(t){if("string"==typeof t||Ge(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var Je=d?d.prototype:void 0,Xe=Je?Je.toString:void 0;const Ye=function t(e){if("string"==typeof e)return e;if(gt(e))return Ve(e,t)+"";if(Ge(e))return Xe?Xe.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r},Ze=function(t){return null==t?"":Ye(t)},tr=function(t){return gt(t)?Ve(t,Qe):Ge(t)?[t]:Xt(He(Ze(t)))};r("../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");const er=function(t){return qe(t,5)};function rr(){return rr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rr.apply(this,arguments)}function nr(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}function or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ir=(0,T.createContext)(void 0);ir.displayName="FormikContext";var ar=ir.Provider;function sr(){var t=(0,T.useContext)(ir);return t||F(!1),t}ir.Consumer;var cr=function(t){return Array.isArray(t)&&0===t.length},ur=function(t){return"function"==typeof t},lr=function(t){return null!==t&&"object"==typeof t},fr=function(t){return String(Math.floor(Number(t)))===t},dr=function(t){return"[object String]"===Object.prototype.toString.call(t)},hr=function(t){return 0===T.Children.count(t)},pr=function(t){return lr(t)&&ur(t.then)};function vr(t,e,r,n){void 0===n&&(n=0);for(var o=tr(e);t&&n<o.length;)t=t[o[n++]];return n===o.length||t?void 0===t?r:t:r}function yr(t,e,r){for(var n=Ue(t),o=n,i=0,a=tr(e);i<a.length-1;i++){var s=a[i],c=vr(t,a.slice(0,i+1));if(c&&(lr(c)||Array.isArray(c)))o=o[s]=Ue(c);else{var u=a[i+1];o=o[s]=fr(u)&&Number(u)>=0?[]:{}}}return(0===i?t:o)[a[i]]===r?t:(void 0===r?delete o[a[i]]:o[a[i]]=r,0===i&&void 0===r&&delete n[a[i]],n)}function mr(t,e,r,n){void 0===r&&(r=new WeakMap),void 0===n&&(n={});for(var o=0,i=Object.keys(t);o<i.length;o++){var a=i[o],s=t[a];lr(s)?r.get(s)||(r.set(s,!0),n[a]=Array.isArray(s)?[]:{},mr(s,e,r,n[a])):n[a]=e}return n}var _r={},br={};function gr(t){var e=function(t){var e=t.validateOnChange,r=void 0===e||e,n=t.validateOnBlur,o=void 0===n||n,i=t.validateOnMount,a=void 0!==i&&i,s=t.isInitialValid,u=t.enableReinitialize,l=void 0!==u&&u,f=t.onSubmit,d=nr(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=rr({validateOnChange:r,validateOnBlur:o,validateOnMount:a,onSubmit:f},d),p=(0,T.useRef)(h.initialValues),v=(0,T.useRef)(h.initialErrors||_r),y=(0,T.useRef)(h.initialTouched||br),m=(0,T.useRef)(h.initialStatus),_=(0,T.useRef)(!1),b=(0,T.useRef)({});(0,T.useEffect)((function(){return _.current=!0,function(){_.current=!1}}),[]);var g=(0,T.useState)(0)[1],w=(0,T.useRef)({values:h.initialValues,errors:h.initialErrors||_r,touched:h.initialTouched||br,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=w.current,O=(0,T.useCallback)((function(t){var e=w.current;w.current=function(t,e){switch(e.type){case"SET_VALUES":return rr({},t,{values:e.payload});case"SET_TOUCHED":return rr({},t,{touched:e.payload});case"SET_ERRORS":return C()(t.errors,e.payload)?t:rr({},t,{errors:e.payload});case"SET_STATUS":return rr({},t,{status:e.payload});case"SET_ISSUBMITTING":return rr({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return rr({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return rr({},t,{values:yr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return rr({},t,{touched:yr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return rr({},t,{errors:yr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return rr({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return rr({},t,{touched:mr(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return rr({},t,{isSubmitting:!1});default:return t}}(e,t),e!==w.current&&g((function(t){return t+1}))}),[]),E=(0,T.useCallback)((function(t,e){return new Promise((function(r,n){var o=h.validate(t,e);null==o?r(_r):pr(o)?o.then((function(t){r(t||_r)}),(function(t){n(t)})):r(o)}))}),[h.validate]),j=(0,T.useCallback)((function(t,e){var r=h.validationSchema,n=ur(r)?r(e):r,o=e&&n.validateAt?n.validateAt(e,t):function(t,e,r,n){void 0===r&&(r=!1);var o=wr(t);return e[r?"validateSync":"validate"](o,{abortEarly:!1,context:o})}(t,n);return new Promise((function(t,e){o.then((function(){t(_r)}),(function(r){"ValidationError"===r.name?t(function(t){var e={};if(t.inner){if(0===t.inner.length)return yr(e,t.path,t.message);var r=t.inner,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var i;if(n){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var a=i;vr(e,a.path)||(e=yr(e,a.path,a.message))}}return e}(r)):e(r)}))}))}),[h.validationSchema]),x=(0,T.useCallback)((function(t,e){return new Promise((function(r){return r(b.current[t].validate(e))}))}),[]),P=(0,T.useCallback)((function(t){var e=Object.keys(b.current).filter((function(t){return ur(b.current[t].validate)})),r=e.length>0?e.map((function(e){return x(e,vr(t,e))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then((function(t){return t.reduce((function(t,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(t=yr(t,e[n],r)),t}),{})}))}),[x]),A=(0,T.useCallback)((function(t){return Promise.all([P(t),h.validationSchema?j(t):{},h.validate?E(t):{}]).then((function(t){var e=t[0],r=t[1],n=t[2];return c.all([e,r,n],{arrayMerge:Sr})}))}),[h.validate,h.validationSchema,P,E,j]),k=Er((function(t){return void 0===t&&(t=S.values),O({type:"SET_ISVALIDATING",payload:!0}),A(t).then((function(t){return _.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:t})),t}))}));(0,T.useEffect)((function(){a&&!0===_.current&&C()(p.current,h.initialValues)&&k(p.current)}),[a,k]);var F=(0,T.useCallback)((function(t){var e=t&&t.values?t.values:p.current,r=t&&t.errors?t.errors:v.current?v.current:h.initialErrors||{},n=t&&t.touched?t.touched:y.current?y.current:h.initialTouched||{},o=t&&t.status?t.status:m.current?m.current:h.initialStatus;p.current=e,v.current=r,y.current=n,m.current=o;var i=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!t&&!!t.isSubmitting,errors:r,touched:n,status:o,values:e,isValidating:!!t&&!!t.isValidating,submitCount:t&&t.submitCount&&"number"==typeof t.submitCount?t.submitCount:0}})};if(h.onReset){var a=h.onReset(S.values,X);pr(a)?a.then(i):i()}else i()}),[h.initialErrors,h.initialStatus,h.initialTouched]);(0,T.useEffect)((function(){!0!==_.current||C()(p.current,h.initialValues)||l&&(p.current=h.initialValues,F(),a&&k(p.current))}),[l,h.initialValues,F,a,k]),(0,T.useEffect)((function(){l&&!0===_.current&&!C()(v.current,h.initialErrors)&&(v.current=h.initialErrors||_r,O({type:"SET_ERRORS",payload:h.initialErrors||_r}))}),[l,h.initialErrors]),(0,T.useEffect)((function(){l&&!0===_.current&&!C()(y.current,h.initialTouched)&&(y.current=h.initialTouched||br,O({type:"SET_TOUCHED",payload:h.initialTouched||br}))}),[l,h.initialTouched]),(0,T.useEffect)((function(){l&&!0===_.current&&!C()(m.current,h.initialStatus)&&(m.current=h.initialStatus,O({type:"SET_STATUS",payload:h.initialStatus}))}),[l,h.initialStatus,h.initialTouched]);var D=Er((function(t){if(b.current[t]&&ur(b.current[t].validate)){var e=vr(S.values,t),r=b.current[t].validate(e);return pr(r)?(O({type:"SET_ISVALIDATING",payload:!0}),r.then((function(t){return t})).then((function(e){O({type:"SET_FIELD_ERROR",payload:{field:t,value:e}}),O({type:"SET_ISVALIDATING",payload:!1})}))):(O({type:"SET_FIELD_ERROR",payload:{field:t,value:r}}),Promise.resolve(r))}return h.validationSchema?(O({type:"SET_ISVALIDATING",payload:!0}),j(S.values,t).then((function(t){return t})).then((function(e){O({type:"SET_FIELD_ERROR",payload:{field:t,value:vr(e,t)}}),O({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),M=(0,T.useCallback)((function(t,e){var r=e.validate;b.current[t]={validate:r}}),[]),R=(0,T.useCallback)((function(t){delete b.current[t]}),[]),L=Er((function(t,e){return O({type:"SET_TOUCHED",payload:t}),(void 0===e?o:e)?k(S.values):Promise.resolve()})),I=(0,T.useCallback)((function(t){O({type:"SET_ERRORS",payload:t})}),[]),z=Er((function(t,e){var n=ur(t)?t(S.values):t;return O({type:"SET_VALUES",payload:n}),(void 0===e?r:e)?k(n):Promise.resolve()})),N=(0,T.useCallback)((function(t,e){O({type:"SET_FIELD_ERROR",payload:{field:t,value:e}})}),[]),q=Er((function(t,e,n){return O({type:"SET_FIELD_VALUE",payload:{field:t,value:e}}),(void 0===n?r:n)?k(yr(S.values,t,e)):Promise.resolve()})),U=(0,T.useCallback)((function(t,e){var r,n=e,o=t;if(!dr(t)){t.persist&&t.persist();var i=t.target?t.target:t.currentTarget,a=i.type,s=i.name,c=i.id,u=i.value,l=i.checked,f=(i.outerHTML,i.options),d=i.multiple;n=e||s||c,o=/number|range/.test(a)?(r=parseFloat(u),isNaN(r)?"":r):/checkbox/.test(a)?function(t,e,r){if("boolean"==typeof t)return Boolean(e);var n=[],o=!1,i=-1;if(Array.isArray(t))n=t,o=(i=t.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(e);return e&&r&&!o?n.concat(r):o?n.slice(0,i).concat(n.slice(i+1)):n}(vr(S.values,n),l,u):f&&d?function(t){return Array.from(t).filter((function(t){return t.selected})).map((function(t){return t.value}))}(f):u}n&&q(n,o)}),[q,S.values]),V=Er((function(t){if(dr(t))return function(e){return U(e,t)};U(t)})),G=Er((function(t,e,r){return void 0===e&&(e=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:t,value:e}}),(void 0===r?o:r)?k(S.values):Promise.resolve()})),B=(0,T.useCallback)((function(t,e){t.persist&&t.persist();var r=t.target,n=r.name,o=r.id,i=(r.outerHTML,e||n||o);G(i,!0)}),[G]),$=Er((function(t){if(dr(t))return function(e){return B(e,t)};B(t)})),W=(0,T.useCallback)((function(t){ur(t)?O({type:"SET_FORMIK_STATE",payload:t}):O({type:"SET_FORMIK_STATE",payload:function(){return t}})}),[]),K=(0,T.useCallback)((function(t){O({type:"SET_STATUS",payload:t})}),[]),H=(0,T.useCallback)((function(t){O({type:"SET_ISSUBMITTING",payload:t})}),[]),Q=Er((function(){return O({type:"SUBMIT_ATTEMPT"}),k().then((function(t){var e=t instanceof Error;if(!e&&0===Object.keys(t).length){var r;try{if(void 0===(r=Y()))return}catch(t){throw t}return Promise.resolve(r).then((function(t){return _.current&&O({type:"SUBMIT_SUCCESS"}),t})).catch((function(t){if(_.current)throw O({type:"SUBMIT_FAILURE"}),t}))}if(_.current&&(O({type:"SUBMIT_FAILURE"}),e))throw t}))})),J=Er((function(t){t&&t.preventDefault&&ur(t.preventDefault)&&t.preventDefault(),t&&t.stopPropagation&&ur(t.stopPropagation)&&t.stopPropagation(),Q().catch((function(t){console.warn("Warning: An unhandled error was caught from submitForm()",t)}))})),X={resetForm:F,validateForm:k,validateField:D,setErrors:I,setFieldError:N,setFieldTouched:G,setFieldValue:q,setStatus:K,setSubmitting:H,setTouched:L,setValues:z,setFormikState:W,submitForm:Q},Y=Er((function(){return f(S.values,X)})),Z=Er((function(t){t&&t.preventDefault&&ur(t.preventDefault)&&t.preventDefault(),t&&t.stopPropagation&&ur(t.stopPropagation)&&t.stopPropagation(),F()})),tt=(0,T.useCallback)((function(t){return{value:vr(S.values,t),error:vr(S.errors,t),touched:!!vr(S.touched,t),initialValue:vr(p.current,t),initialTouched:!!vr(y.current,t),initialError:vr(v.current,t)}}),[S.errors,S.touched,S.values]),et=(0,T.useCallback)((function(t){return{setValue:function(e,r){return q(t,e,r)},setTouched:function(e,r){return G(t,e,r)},setError:function(e){return N(t,e)}}}),[q,G,N]),rt=(0,T.useCallback)((function(t){var e=lr(t),r=e?t.name:t,n=vr(S.values,r),o={name:r,value:n,onChange:V,onBlur:$};if(e){var i=t.type,a=t.value,s=t.as,c=t.multiple;"checkbox"===i?void 0===a?o.checked=!!n:(o.checked=!(!Array.isArray(n)||!~n.indexOf(a)),o.value=a):"radio"===i?(o.checked=n===a,o.value=a):"select"===s&&c&&(o.value=o.value||[],o.multiple=!0)}return o}),[$,V,S.values]),nt=(0,T.useMemo)((function(){return!C()(p.current,S.values)}),[p.current,S.values]),ot=(0,T.useMemo)((function(){return void 0!==s?nt?S.errors&&0===Object.keys(S.errors).length:!1!==s&&ur(s)?s(h):s:S.errors&&0===Object.keys(S.errors).length}),[s,nt,S.errors,h]);return rr({},S,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:m.current,handleBlur:$,handleChange:V,handleReset:Z,handleSubmit:J,resetForm:F,setErrors:I,setFormikState:W,setFieldTouched:G,setFieldValue:q,setFieldError:N,setStatus:K,setSubmitting:H,setTouched:L,setValues:z,submitForm:Q,validateForm:k,validateField:D,isValid:ot,dirty:nt,unregisterField:R,registerField:M,getFieldProps:rt,getFieldMeta:tt,getFieldHelpers:et,validateOnBlur:o,validateOnChange:r,validateOnMount:a})}(t),r=t.component,n=t.children,o=t.render,i=t.innerRef;return(0,T.useImperativeHandle)(i,(function(){return e})),(0,T.createElement)(ar,{value:e},r?(0,T.createElement)(r,e):o?o(e):n?ur(n)?n(e):hr(n)?null:T.Children.only(n):null)}function wr(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);!0===Array.isArray(t[n])?e[n]=t[n].map((function(t){return!0===Array.isArray(t)||A(t)?wr(t):""!==t?t:void 0})):A(t[n])?e[n]=wr(t[n]):e[n]=""!==t[n]?t[n]:void 0}return e}function Sr(t,e,r){var n=t.slice();return e.forEach((function(e,o){if(void 0===n[o]){var i=!1!==r.clone&&r.isMergeableObject(e);n[o]=i?c(Array.isArray(e)?[]:{},e,r):e}else r.isMergeableObject(e)?n[o]=c(t[o],e,r):-1===t.indexOf(e)&&n.push(e)})),n}var Or="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?T.useLayoutEffect:T.useEffect;function Er(t){var e=(0,T.useRef)(t);return Or((function(){e.current=t})),(0,T.useCallback)((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.current.apply(void 0,r)}),[])}function jr(t){var e=t.validate,r=t.name,n=t.render,o=t.children,i=t.as,a=t.component,s=nr(t,["validate","name","render","children","as","component"]),c=nr(sr(),["validate","validationSchema"]),u=c.registerField,l=c.unregisterField;(0,T.useEffect)((function(){return u(r,{validate:e}),function(){l(r)}}),[u,l,r,e]);var f=c.getFieldProps(rr({name:r},s)),d=c.getFieldMeta(r),h={field:f,form:c};if(n)return n(rr({},h,{meta:d}));if(ur(o))return o(rr({},h,{meta:d}));if(a){if("string"==typeof a){var p=s.innerRef,v=nr(s,["innerRef"]);return(0,T.createElement)(a,rr({ref:p},f,v),o)}return(0,T.createElement)(a,rr({field:f,form:c},s),o)}var y=i||"input";if("string"==typeof y){var m=s.innerRef,_=nr(s,["innerRef"]);return(0,T.createElement)(y,rr({ref:m},f,_),o)}return(0,T.createElement)(y,rr({},f,s),o)}var xr=(0,T.forwardRef)((function(t,e){var r=t.action,n=nr(t,["action"]),o=null!=r?r:"#",i=sr(),a=i.handleReset,s=i.handleSubmit;return(0,T.createElement)("form",rr({onSubmit:s,ref:e,onReset:a,action:o},n))}));xr.displayName="Form";var Pr=function(t,e,r){var n=Ar(t);return n.splice(e,0,r),n},Ar=function(t){if(t){if(Array.isArray(t))return[].concat(t);var e=Object.keys(t).map((function(t){return parseInt(t)})).reduce((function(t,e){return e>t?e:t}),0);return Array.from(rr({},t,{length:e+1}))}return[]},Tr=function(t,e){var r="function"==typeof t?t:e;return function(t){if(Array.isArray(t)||lr(t)){var e=Ar(t);return r(e)}return t}},kr=function(t){function e(e){var r;return(r=t.call(this,e)||this).updateArrayField=function(t,e,n){var o=r.props,i=o.name;(0,o.formik.setFormikState)((function(r){var o=Tr(n,t),a=Tr(e,t),s=yr(r.values,i,t(vr(r.values,i))),c=n?o(vr(r.errors,i)):void 0,u=e?a(vr(r.touched,i)):void 0;return cr(c)&&(c=void 0),cr(u)&&(u=void 0),rr({},r,{values:s,errors:n?yr(r.errors,i,c):r.errors,touched:e?yr(r.touched,i,u):r.touched})}))},r.push=function(t){return r.updateArrayField((function(e){return[].concat(Ar(e),[er(t)])}),!1,!1)},r.handlePush=function(t){return function(){return r.push(t)}},r.swap=function(t,e){return r.updateArrayField((function(r){return function(t,e,r){var n=Ar(t),o=n[e];return n[e]=n[r],n[r]=o,n}(r,t,e)}),!0,!0)},r.handleSwap=function(t,e){return function(){return r.swap(t,e)}},r.move=function(t,e){return r.updateArrayField((function(r){return function(t,e,r){var n=Ar(t),o=n[e];return n.splice(e,1),n.splice(r,0,o),n}(r,t,e)}),!0,!0)},r.handleMove=function(t,e){return function(){return r.move(t,e)}},r.insert=function(t,e){return r.updateArrayField((function(r){return Pr(r,t,e)}),(function(e){return Pr(e,t,null)}),(function(e){return Pr(e,t,null)}))},r.handleInsert=function(t,e){return function(){return r.insert(t,e)}},r.replace=function(t,e){return r.updateArrayField((function(r){return function(t,e,r){var n=Ar(t);return n[e]=r,n}(r,t,e)}),!1,!1)},r.handleReplace=function(t,e){return function(){return r.replace(t,e)}},r.unshift=function(t){var e=-1;return r.updateArrayField((function(r){var n=r?[t].concat(r):[t];return e=n.length,n}),(function(t){return t?[null].concat(t):[null]}),(function(t){return t?[null].concat(t):[null]})),e},r.handleUnshift=function(t){return function(){return r.unshift(t)}},r.handleRemove=function(t){return function(){return r.remove(t)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(or(r)),r.pop=r.pop.bind(or(r)),r}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var r=e.prototype;return r.componentDidUpdate=function(t){this.props.validateOnChange&&this.props.formik.validateOnChange&&!C()(vr(t.formik.values,t.name),vr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(t){var e;return this.updateArrayField((function(r){var n=r?Ar(r):[];return e||(e=n[t]),ur(n.splice)&&n.splice(t,1),ur(n.every)&&n.every((function(t){return void 0===t}))?[]:n}),!0,!0),e},r.pop=function(){var t;return this.updateArrayField((function(e){var r=e.slice();return t||(t=r&&r.pop&&r.pop()),r}),!0,!0),t},r.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},e=this.props,r=e.component,n=e.render,o=e.children,i=e.name,a=rr({},t,{form:nr(e.formik,["validate","validationSchema"]),name:i});return r?(0,T.createElement)(r,a):n?n(a):o?"function"==typeof o?o(a):hr(o)?null:T.Children.only(o):null},e}(T.Component);kr.defaultProps={validateOnChange:!0},T.Component,T.Component},"../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(t,e,r)=>{"use strict";var n=r("../../node_modules/react-is/index.js"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(t){return n.isMemo(t)?a:s[t.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,r,n){if("string"!=typeof r){if(p){var o=h(r);o&&o!==p&&t(e,o,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=c(e),v=c(r),y=0;y<a.length;++y){var m=a[y];if(!(i[m]||n&&n[m]||v&&v[m]||s&&s[m])){var _=d(r,m);try{u(e,m,_)}catch(t){}}}}return e}},"../../node_modules/lodash.merge/index.js":(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Null]",l="[object Object]",f="[object Proxy]",d="[object Undefined]",h=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[i]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[s]=v["[object Map]"]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var y,m,_,b="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,g="object"==typeof self&&self&&self.Object===Object&&self,w=b||g||Function("return this")(),S=e&&!e.nodeType&&e,O=S&&t&&!t.nodeType&&t,E=O&&O.exports===S,j=E&&b.process,x=function(){try{return O&&O.require&&O.require("util").types||j&&j.binding&&j.binding("util")}catch(t){}}(),P=x&&x.isTypedArray,A=Array.prototype,T=Function.prototype,k=Object.prototype,C=w["__core-js_shared__"],F=T.toString,D=k.hasOwnProperty,M=(y=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",R=k.toString,L=F.call(Object),I=RegExp("^"+F.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=E?w.Buffer:void 0,N=w.Symbol,q=w.Uint8Array,U=(z&&z.allocUnsafe,m=Object.getPrototypeOf,_=Object,function(t){return m(_(t))}),V=Object.create,G=k.propertyIsEnumerable,B=A.splice,$=N?N.toStringTag:void 0,W=function(){try{var t=dt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),K=z?z.isBuffer:void 0,H=Math.max,Q=Date.now,J=dt(w,"Map"),X=dt(Object,"create"),Y=function(){function t(){}return function(e){if(!Et(e))return{};if(V)return V(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Z(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function tt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rt(t){var e=this.__data__=new tt(t);this.size=e.size}function nt(t,e,r){(void 0!==r&&!mt(t[e],r)||void 0===r&&!(e in t))&&at(t,e,r)}function ot(t,e,r){var n=t[e];D.call(t,e)&&mt(n,r)&&(void 0!==r||e in t)||at(t,e,r)}function it(t,e){for(var r=t.length;r--;)if(mt(t[r][0],e))return r;return-1}function at(t,e,r){"__proto__"==e&&W?W(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}Z.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},Z.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Z.prototype.get=function(t){var e=this.__data__;if(X){var r=e[t];return r===n?void 0:r}return D.call(e,t)?e[t]:void 0},Z.prototype.has=function(t){var e=this.__data__;return X?void 0!==e[t]:D.call(e,t)},Z.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=X&&void 0===e?n:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,r=it(e,t);return!(r<0||(r==e.length-1?e.pop():B.call(e,r,1),--this.size,0))},tt.prototype.get=function(t){var e=this.__data__,r=it(e,t);return r<0?void 0:e[r][1]},tt.prototype.has=function(t){return it(this.__data__,t)>-1},tt.prototype.set=function(t,e){var r=this.__data__,n=it(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(J||tt),string:new Z}},et.prototype.delete=function(t){var e=ft(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return ft(this,t).get(t)},et.prototype.has=function(t){return ft(this,t).has(t)},et.prototype.set=function(t,e){var r=ft(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},rt.prototype.clear=function(){this.__data__=new tt,this.size=0},rt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},rt.prototype.get=function(t){return this.__data__.get(t)},rt.prototype.has=function(t){return this.__data__.has(t)},rt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof tt){var n=r.__data__;if(!J||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new et(n)}return r.set(t,e),this.size=r.size,this};function st(t){return null==t?void 0===t?d:u:$&&$ in Object(t)?function(t){var e=D.call(t,$),r=t[$];try{t[$]=void 0;var n=!0}catch(t){}var o=R.call(t);return n&&(e?t[$]=r:delete t[$]),o}(t):function(t){return R.call(t)}(t)}function ct(t){return jt(t)&&st(t)==i}function ut(t,e,r,n,o){t!==e&&function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var s=i[++n];if(!1===e(o[s],s,o))break}}(e,(function(i,a){if(o||(o=new rt),Et(i))!function(t,e,r,n,o,i,a){var s=vt(t,r),c=vt(e,r),u=a.get(c);if(u)nt(t,r,u);else{var f,d,h,p,v,y=i?i(s,c,r+"",t,e,a):void 0,m=void 0===y;if(m){var _=bt(c),b=!_&&wt(c),g=!_&&!b&&xt(c);y=c,_||b||g?bt(s)?y=s:jt(v=s)&&gt(v)?y=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(s):b?(m=!1,y=function(t,e){return t.slice()}(c)):g?(m=!1,p=new(h=(f=c).buffer).constructor(h.byteLength),new q(p).set(new q(h)),d=p,y=new f.constructor(d,f.byteOffset,f.length)):y=[]:function(t){if(!jt(t)||st(t)!=l)return!1;var e=U(t);if(null===e)return!0;var r=D.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&F.call(r)==L}(c)||_t(c)?(y=s,_t(s)?y=function(t){return function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=void 0;void 0===c&&(c=t[s]),o?at(r,s,c):ot(r,s,c)}return r}(t,Pt(t))}(s):Et(s)&&!St(s)||(y=function(t){return"function"!=typeof t.constructor||pt(t)?{}:Y(U(t))}(c))):m=!1}m&&(a.set(c,y),o(y,c,n,i,a),a.delete(c)),nt(t,r,y)}}(t,e,a,r,ut,n,o);else{var s=n?n(vt(t,a),i,a+"",t,e,o):void 0;void 0===s&&(s=i),nt(t,a,s)}}),Pt)}var lt=W?function(t,e){return W(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:kt;function ft(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function dt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Et(t)||function(t){return!!M&&M in t}(t))&&(St(t)?I:h).test(function(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(r)?r:void 0}function ht(t,e){var r=typeof t;return!!(e=null==e?o:e)&&("number"==r||"symbol"!=r&&p.test(t))&&t>-1&&t%1==0&&t<e}function pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||k)}function vt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yt=function(t){var e=0,r=0;return function(){var n=Q(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(lt);function mt(t,e){return t===e||t!=t&&e!=e}var _t=ct(function(){return arguments}())?ct:function(t){return jt(t)&&D.call(t,"callee")&&!G.call(t,"callee")},bt=Array.isArray;function gt(t){return null!=t&&Ot(t.length)&&!St(t)}var wt=K||function(){return!1};function St(t){if(!Et(t))return!1;var e=st(t);return e==s||e==c||e==a||e==f}function Ot(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Et(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function jt(t){return null!=t&&"object"==typeof t}var xt=P?function(t){return function(e){return t(e)}}(P):function(t){return jt(t)&&Ot(t.length)&&!!v[st(t)]};function Pt(t){return gt(t)?function(t,e){var r=bt(t),n=!r&&_t(t),o=!r&&!n&&wt(t),i=!r&&!n&&!o&&xt(t),a=r||n||o||i,s=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=s.length;for(var u in t)!e&&!D.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ht(u,c))||s.push(u);return s}(t,!0):function(t){if(!Et(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=pt(t),r=[];for(var n in t)("constructor"!=n||!e&&D.call(t,n))&&r.push(n);return r}(t)}var At,Tt=(At=function(t,e,r){ut(t,e,r)},function(t,e){return yt(function(t,e,r){return e=H(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=H(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=r(a),function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,s)}}(t,e,kt),t+"")}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=At.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!Et(r))return!1;var n=typeof e;return!!("number"==n?gt(r)&&ht(e,r.length):"string"==n&&e in r)&&mt(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&At(t,a,r)}return t})));function kt(t){return t}t.exports=Tt},"../../node_modules/mobx-persist-store/lib/esm5/index.js":(t,e,r)=>{"use strict";r.d(e,{Ko:()=>v,Rf:()=>y});var n=new Map,o={},i={},a=r("mobx"),s=function(t,e,r){void 0===r&&(r="")},c=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},u=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=function(){function t(t){this.options=t}return t.prototype.setItem=function(t,e){var r;return c(this,void 0,void 0,(function(){var n,o,i,a,c;return u(this,(function(u){switch(u.label){case 0:return n=this.options,o=n.stringify,i=void 0===o||o,n.debugMode,a=this.options.expireIn?Object.assign({},e,{__mps__:{expireInTimestamp:(l=this.options.expireIn,(new Date).getTime()+l)}}):e,c=i?JSON.stringify(a):a,s(0,"".concat(t," - setItem:"),c),[4,null===(r=this.options.storage)||void 0===r?void 0:r.setItem(t,c)];case 1:return u.sent(),[2]}var l}))}))},t.prototype.getItem=function(t){var e,r;return c(this,void 0,void 0,(function(){var n,o,i,a,c,l;return u(this,(function(u){switch(u.label){case 0:return n=this.options,o=n.removeOnExpiration,i=void 0===o||o,n.debugMode,[4,null===(e=this.options.storage)||void 0===e?void 0:e.getItem(t)];case 1:a=u.sent();try{c=JSON.parse(a)||{}}catch(t){c=a||{}}return f=null===(r=c.__mps__)||void 0===r?void 0:r.expireInTimestamp,d=(new Date).getTime(),l=new Date(f).getTime()<=d,s(0,"".concat(t," - hasExpired"),l),l&&i?[4,this.removeItem(t)]:[3,3];case 2:u.sent(),u.label=3;case 3:return c=l?{}:c,s(0,"".concat(t," - (getItem):"),c),[2,c]}var f,d}))}))},t.prototype.removeItem=function(t){var e;return c(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return this.options.debugMode,s(0,"".concat(t," - (removeItem): storage was removed")),[4,null===(e=this.options.storage)||void 0===e?void 0:e.removeItem(t)];case 1:return r.sent(),[2]}}))}))},t}(),f=function(t){return t.reduce((function(t,e){return"string"==typeof e?(t.push({key:e,serialize:function(t){return t},deserialize:function(t){return t}}),t):(function(t){return Boolean(t)&&!1===Array.isArray(t)&&"object"==typeof t}(r=e)?["key","serialize","deserialize"].every((function(t){return!(!r.hasOwnProperty(t)||void 0===t)||(s(0,"".concat(t," not found in SerializableProperty"),{key:t,obj:r}),!1)})):(s(0,0,{obj:r}),0))?(t.push(e),t):t;var r}),[])},d=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},h=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=function(){function t(t,e,r){var n,c,u,d,h,p,v;void 0===r&&(r={}),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null,this.debugMode=!1,this.isHydrated=!1,this.isPersisting=!1,this.storageName="",this.target=t,this.storageName=e.name,this.properties=f(e.properties),this.reactionOptions=Object.assign({fireImmediately:!0},i,r),this.debugMode=null!==(c=null!==(n=e.debugMode)&&void 0!==n?n:o.debugMode)&&void 0!==c&&c,this.storageAdapter=new l({expireIn:null!==(u=e.expireIn)&&void 0!==u?u:o.expireIn,removeOnExpiration:null===(h=null!==(d=e.removeOnExpiration)&&void 0!==d?d:o.removeOnExpiration)||void 0===h||h,stringify:null===(v=null!==(p=e.stringify)&&void 0!==p?p:o.stringify)||void 0===v||v,storage:e.storage?e.storage:o.storage,debugMode:this.debugMode}),(0,a.makeObservable)(this,{clearPersistedStore:a.action,hydrateStore:a.action,isHydrated:a.observable,isPersisting:a.observable,pausePersisting:a.action,startPersisting:a.action,stopPersisting:a.action},{autoBind:!0,deep:!1}),this.storageAdapter.options.storage,this.storageName,s(this.debugMode,"".concat(this.storageName," - (makePersistable)"),{properties:this.properties,storageAdapter:this.storageAdapter,reactionOptions:this.reactionOptions})}return t.prototype.init=function(){return d(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.hydrateStore()];case 1:return t.sent(),this.startPersisting(),[2,this]}}))}))},t.prototype.hydrateStore=function(){return d(this,void 0,void 0,(function(){var t,e,r,n=this;return h(this,(function(o){switch(o.label){case 0:return t=Boolean(this.cancelWatch),this.isPersisting&&this.pausePersisting(),(0,a.runInAction)((function(){n.isHydrated=!1,s(n.debugMode,"".concat(n.storageName," - (hydrateStore) isHydrated:"),n.isHydrated)})),this.storageAdapter&&this.target?[4,this.storageAdapter.getItem(this.storageName)]:[3,2];case 1:e=o.sent(),r=this.target,e&&(0,a.runInAction)((function(){n.properties.forEach((function(t){var n;if([r.hasOwnProperty(t.key),void 0!==e[t.key]].every(Boolean)){var o=e[t.key];r[t.key]instanceof a.ObservableMap&&(n=o,Array.isArray(n)&&n.every((function(t){return Array.isArray(t)})))?r[t.key]=t.deserialize(new Map(o)):r[t.key]=t.deserialize(o)}}))})),o.label=2;case 2:return(0,a.runInAction)((function(){n.isHydrated=!0,s(n.debugMode,"".concat(n.storageName," - isHydrated:"),n.isHydrated)})),t&&this.startPersisting(),[2]}}))}))},t.prototype.startPersisting=function(){var t=this;if(this.storageAdapter&&this.target&&!this.cancelWatch){var e=this.target;this.cancelWatch=(0,a.reaction)((function(){var r={};return t.properties.forEach((function(t){var n=(0,a.isComputedProp)(e,t.key),o=(0,a.isAction)(e[t.key]);if(String(t.key),String(t.key),!n&&!o){var i=t.serialize(e[t.key]);if(i instanceof a.ObservableMap){var s=[];i.forEach((function(t,e){s.push([e,(0,a.toJS)(t)])})),i=s}r[t.key]=(0,a.toJS)(i)}})),r}),(function(e){return d(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.storageAdapter?[4,this.storageAdapter.setItem(this.storageName,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}),this.reactionOptions),this.isPersisting=!0,s(this.debugMode,"".concat(this.storageName," - (startPersisting) isPersisting:"),this.isPersisting)}},t.prototype.pausePersisting=function(){this.isPersisting=!1,s(this.debugMode,"".concat(this.storageName," - pausePersisting (isPersisting):"),this.isPersisting),this.cancelWatch&&(this.cancelWatch(),this.cancelWatch=null)},t.prototype.stopPersisting=function(){this.pausePersisting(),s(this.debugMode,"".concat(this.storageName," - (stopPersisting)")),n.delete(this.target),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null},t.prototype.clearPersistedStore=function(){return d(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.storageAdapter?(s(this.debugMode,"".concat(this.storageName," - (clearPersistedStore)")),[4,this.storageAdapter.removeItem(this.storageName)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.getPersistedStore=function(){return d(this,void 0,void 0,(function(){return h(this,(function(t){return this.storageAdapter?(s(this.debugMode,"".concat(this.storageName," - (getPersistedStore)")),[2,this.storageAdapter.getItem(this.storageName)]):[2,null]}))}))},t}(),v=function(t,e,r){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function(){var o;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){return o=new p(t,e,r),Array.from(n.values()).map((function(t){return t.storageName})).includes(o.storageName),o.storageName,n.set(t,o),[2,o.init()]}))}))},y=function(t){var e;null===(e=n.get(t))||void 0===e||e.stopPersisting()}},"../../node_modules/mobx-react-lite/es/index.js":(t,e,r)=>{"use strict";r.d(e,{Pi:()=>g});var n=r("mobx"),o=r("react"),i=r.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!n.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=r("react-dom");function s(t){return(0,n.getDependencyTree)(t)}var c=function(){function t(t){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(t){void 0===t&&(t=1e4),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var r=Date.now();e.registrations.forEach((function(n,o){r-n.registeredAt>=t&&(e.finalize(n.value),e.registrations.delete(o))})),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,r){this.registrations.set(r,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),t}(),u=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:c)((function(t){var e;null===(e=t.reaction)||void 0===e||e.dispose(),t.reaction=null})),l=!1;function f(){return l}var d=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function h(t){return"observer".concat(t)}var p=function(){};function v(){return new p}function y(t,e){if(void 0===e&&(e="observed"),f())return t();var r=d(i().useState(v),1)[0],o=d(i().useState(),2)[1],a=function(){return o([])},c=i().useRef(null);c.current||(c.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l,p,y=c.current;if(y.reaction||(y.reaction=new n.Reaction(h(e),(function(){y.mounted?a():y.changedBeforeMount=!0})),u.register(r,y,y)),i().useDebugValue(y.reaction,s),i().useEffect((function(){return u.unregister(y),y.mounted=!0,y.reaction?y.changedBeforeMount&&(y.changedBeforeMount=!1,a()):(y.reaction=new n.Reaction(h(e),(function(){a()})),a()),function(){y.reaction.dispose(),y.reaction=null,y.mounted=!1,y.changedBeforeMount=!1}}),[]),y.reaction.track((function(){try{l=t()}catch(t){p=t}})),p)throw p;return l}var m="function"==typeof Symbol&&Symbol.for,_=m?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&(0,o.forwardRef)((function(t){return null})).$$typeof,b=m?Symbol.for("react.memo"):"function"==typeof o.memo&&(0,o.memo)((function(t){return null})).$$typeof;function g(t,e){var r;if(b&&t.$$typeof===b)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(f())return t;var n=null!==(r=null==e?void 0:e.forwardRef)&&void 0!==r&&r,i=t,a=t.displayName||t.name;if(_&&t.$$typeof===_&&(n=!0,"function"!=typeof(i=t.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,c,u=function(t,e){return y((function(){return i(t,e)}),a)};return""!==a&&(u.displayName=a),t.contextTypes&&(u.contextTypes=t.contextTypes),n&&(u=(0,o.forwardRef)(u)),u=(0,o.memo)(u),s=t,c=u,Object.keys(s).forEach((function(t){S[t]||Object.defineProperty(c,t,Object.getOwnPropertyDescriptor(s,t))})),u}var w,S={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(w=a.unstable_batchedUpdates)||(w=function(t){t()}),(0,n.configure)({reactionScheduler:w}),u.finalizeAllImmediately},"../../node_modules/prop-types/factoryWithThrowingShims.js":(t,e,r)=>{"use strict";var n=r("../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../../node_modules/prop-types/index.js":(t,e,r)=>{t.exports=r("../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../node_modules/prop-types/lib/ReactPropTypesSecret.js":t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../../node_modules/react-fast-compare/index.js":t=>{"use strict";var e=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty,o="undefined"!=typeof Element;function i(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){var s,c,u,l=e(t),f=e(a);if(l&&f){if((c=t.length)!=a.length)return!1;for(s=c;0!=s--;)if(!i(t[s],a[s]))return!1;return!0}if(l!=f)return!1;var d=t instanceof Date,h=a instanceof Date;if(d!=h)return!1;if(d&&h)return t.getTime()==a.getTime();var p=t instanceof RegExp,v=a instanceof RegExp;if(p!=v)return!1;if(p&&v)return t.toString()==a.toString();var y=r(t);if((c=y.length)!==r(a).length)return!1;for(s=c;0!=s--;)if(!n.call(a,y[s]))return!1;if(o&&t instanceof Element&&a instanceof Element)return t===a;for(s=c;0!=s--;)if(!("_owner"===(u=y[s])&&t.$$typeof||i(t[u],a[u])))return!1;return!0}return t!=t&&a!=a}t.exports=function(t,e){try{return i(t,e)}catch(t){if(t.message&&t.message.match(/stack|recursion/i)||-2146828260===t.number)return console.warn("Warning: react-fast-compare does not handle circular references.",t.name,t.message),!1;throw t}}},"../../node_modules/react-is/cjs/react-is.production.min.js":(t,e)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,g=r?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case l:case f:case i:case s:case a:case h:return t;default:switch(t=t&&t.$$typeof){case u:case d:case y:case v:case c:return t;default:return e}}case o:return e}}}function S(t){return w(t)===f}e.AsyncMode=l,e.ConcurrentMode=f,e.ContextConsumer=u,e.ContextProvider=c,e.Element=n,e.ForwardRef=d,e.Fragment=i,e.Lazy=y,e.Memo=v,e.Portal=o,e.Profiler=s,e.StrictMode=a,e.Suspense=h,e.isAsyncMode=function(t){return S(t)||w(t)===l},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===i},e.isLazy=function(t){return w(t)===y},e.isMemo=function(t){return w(t)===v},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===h},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===f||t===s||t===a||t===h||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===v||t.$$typeof===c||t.$$typeof===u||t.$$typeof===d||t.$$typeof===_||t.$$typeof===b||t.$$typeof===g||t.$$typeof===m)},e.typeOf=w},"../../node_modules/react-is/index.js":(t,e,r)=>{"use strict";t.exports=r("../../node_modules/react-is/cjs/react-is.production.min.js")},"../api/src/index.ts":(t,e,r)=>{"use strict";r.d(e,{mU:()=>f});var n=r("react"),o=r("../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs");window.ReactQueryClient||(window.ReactQueryClient=new o.S),window.ReactQueryClient;var i=r("@deriv/shared");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const f=function(t){var e=u((0,n.useState)(!1),2),r=e[0],o=e[1],a=u((0,n.useState)(!1),2),l=a[0],f=a[1],d=u((0,n.useState)(),2),h=d[0],p=d[1],v=u((0,n.useState)(),2),y=v[0],m=v[1],_=(0,n.useRef)(),b=(0,i.useWS)(),g=(0,n.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=null==r?void 0:r[0],a=i&&"payload"in i?i.payload:void 0;o(!0),f(!0);try{var u;_.current=b.subscribe(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}((u={},c(u,t,1),c(u,"subscribe",1),u),a||{})).subscribe((function(t){m(t),o(!1)}),(function(t){p(t.error),o(!1)}))}catch(t){p(t)}}),[b,t]),w=(0,n.useCallback)((function(){var t,e;null===(t=_.current)||void 0===t||null===(e=t.unsubscribe)||void 0===e||e.call(t),f(!1)}),[]);return(0,n.useEffect)((function(){return function(){w()}}),[w]),{subscribe:g,unsubscribe:w,is_loading:r,is_subscribed:l,error:h,data:y}}},"./src/Containers/cfd-change-password-confirmation.tsx":(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r("react"),o=r.n(n),i=r("../../node_modules/classnames/index.js"),a=r.n(i),s=r("../../node_modules/formik/dist/formik.esm.js"),c=r("@deriv/components"),u=r("@deriv/translations"),l=r("@deriv/shared");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const h=function(t){var e=t.confirm_label,r=t.className,n=t.platform,i=t.onConfirm,f=t.onCancel,h=t.context;return o().createElement(s.J9,{initialValues:{password:""},onSubmit:i},(function(t){var i=t.isSubmitting,s=t.handleSubmit;return o().createElement("form",{onSubmit:s,"data-testid":"dt_cfd_change_password_form"},o().createElement("div",{className:a()("cfd-change-password-confirmation__wrapper",d({},"".concat(r,"-wrapper"),r))},o().createElement("div",{className:a()("cfd-change-password-confirmation",r)},o().createElement(c.Icon,{className:"cfd-change-password__icon",icon:n===l.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),o().createElement(c.Text,{as:"p",align:"center",size:"s",weight:"bold"},o().createElement(u.Localize,{i18n_default_text:"Confirm to change your {{platform}} password",values:{platform:(0,l.getCFDPlatformLabel)(n)}})),o().createElement(c.Text,{className:"cfd-change-password-confirmation__description",as:"p",align:"center",color:"loss-danger",size:"xs"},o().createElement(u.Localize,{i18n_default_text:"This will change the password to all of your {{platform}} accounts.",values:{platform:(0,l.getCFDPlatformLabel)(n)}})),o().createElement(c.FormSubmitButton,{is_center:!0,label:e||(0,u.localize)("Create"),cancel_label:(0,u.localize)("Cancel"),is_loading:i,has_cancel:!0,onCancel:f,context:h}))))}))}},"./src/Stores/Modules/CFD/Helpers/cfd-config.ts":(t,e,r)=>{"use strict";r.d(e,{D_:()=>i,Df:()=>o,hg:()=>a});var n=r("@deriv/translations"),o=(r("@deriv/shared"),function(){var t={account_type:"",leverage:500,short_title:(0,n.localize)("CFDs")},e={account_type:"",leverage:500,short_title:(0,n.localize)("Derived")},r={account_type:"financial",leverage:1e3,short_title:(0,n.localize)("Financial")};return{demo:{all:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Demo"),short_title:t.short_title},synthetic:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Demo Derived"),short_title:e.short_title},financial:{dxtrade_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Demo Financial"),short_title:r.short_title}},real:{all:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Real"),short_title:t.short_title},dxtrade:{mt5_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Real"),short_title:t.short_title},synthetic:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Derived"),short_title:e.short_title},financial:{dxtrade_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Financial"),short_title:r.short_title}}}}),i=function(t){var e={account_type:"",leverage:100,short_title:(0,n.localize)("Swap-Free")},r={account_type:"",leverage:500,short_title:(0,n.localize)("Derived")},o={account_type:"financial",leverage:1e3,short_title:t?(0,n.localize)("CFDs"):(0,n.localize)("Financial")},i={account_type:"financial_stp",leverage:100,short_title:(0,n.localize)("Financial STP")};return{demo:{all:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Demo Swap-Free"),short_title:e.short_title},all_svg:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Demo Swap-Free SVG"),short_title:(0,n.localize)("Swap-Free SVG")},derivez:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Demo"),short_title:e.short_title},synthetic:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Demo Derived"),short_title:r.short_title},financial:{mt5_account_type:o.account_type,leverage:o.leverage,title:t?(0,n.localize)("Demo CFDs"):(0,n.localize)("Demo Financial"),short_title:o.short_title},synthetic_svg:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Demo Derived SVG"),short_title:r.short_title},financial_svg:{mt5_account_type:o.account_type,leverage:o.leverage,title:t?(0,n.localize)("Demo CFDs"):(0,n.localize)("Demo Financial SVG"),short_title:t?(0,n.localize)("CFDs"):(0,n.localize)("Financial SVG")},financial_stp:{mt5_account_type:i.account_type,leverage:i.leverage,title:(0,n.localize)("Demo Financial STP"),short_title:i.short_title}},real:{all:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Swap-Free"),short_title:e.short_title},all_svg:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Swap-Free SVG"),short_title:e.short_title},dxtrade:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Real"),short_title:e.short_title},derivez:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Real"),short_title:e.short_title},synthetic:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Derived"),short_title:r.short_title},synthetic_svg:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Derived SVG"),short_title:r.short_title},synthetic_bvi:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Derived BVI"),short_title:r.short_title},financial:{mt5_account_type:o.account_type,leverage:o.leverage,title:t?(0,n.localize)("CFDs"):(0,n.localize)("Financial"),short_title:o.short_title},financial_svg:{mt5_account_type:o.account_type,leverage:o.leverage,title:t?(0,n.localize)("CFDs"):(0,n.localize)("Financial SVG"),short_title:o.short_title},financial_bvi:{mt5_account_type:o.account_type,leverage:o.leverage,title:t?(0,n.localize)("CFDs"):(0,n.localize)("Financial BVI"),short_title:o.short_title},financial_fx:{mt5_account_type:o.account_type,leverage:o.leverage,title:t?(0,n.localize)("CFDs"):(0,n.localize)("Financial Labuan"),short_title:o.short_title},financial_v:{mt5_account_type:o.account_type,leverage:o.leverage,title:t?(0,n.localize)("CFDs"):(0,n.localize)("Financial Vanuatu"),short_title:o.short_title},financial_stp:{mt5_account_type:i.account_type,leverage:i.leverage,title:(0,n.localize)("Financial STP"),short_title:i.short_title}}}},a=function(){var t={account_type:"",leverage:1e3,short_title:(0,n.localize)("CFDs")};return{demo:{all:{derivez_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Demo"),short_title:t.short_title}},real:{all:{derivez_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Real"),short_title:t.short_title}}}}},"./src/Stores/Modules/CFD/Helpers/useCfdStores.tsx":(t,e,r)=>{"use strict";r.d(e,{A:()=>i});var n=r("react"),o=(r("../stores/src/index.ts"),(0,n.createContext)(null)),i=function(){var t=(0,n.useContext)(o);if(!t)throw new Error("useCfdStore must be used within CfdStoreContext");return t}},"./src/Stores/Modules/CFD/cfd-store.js":(t,e,r)=>{"use strict";r.d(e,{default:()=>L});var n=r("mobx"),o=r("@deriv/shared"),i=r("./src/_common/utility.js");function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}const c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,r;return e=t,(r=[{key:"add",value:function(t,e){this.has(t)||(this.errors[t]=[]),-1===this.errors[t].indexOf(e)&&this.errors[t].push(e)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(t){return this.has(t)?this.errors[t][0]:null}},{key:"get",value:function(t){return this.has(t)?this.errors[t]:[]}},{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===u(o)?o:String(o)),n)}var o}const f=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.input=e,this.rules=r,this.store=n,this.errors=new c,this.error_count=0}var e,r,n;return e=t,n=[{key:"getRuleObject",value:function(t){var e="string"==typeof t,r={name:e?t:t[0],options:e?{}:t[1]||{}};return r.validator="custom"===r.name?t[1].func:(0,o.getPreBuildDVRs)()[r.name].func,r}}],(r=[{key:"addFailure",value:function(t,e,r){var n=r||e.options.message||(0,o.getPreBuildDVRs)()[e.name].message();"length"===e.name?n=(0,i.template)(n,[e.options.min===e.options.max?e.options.min:"".concat(e.options.min,"-").concat(e.options.max)]):"min"===e.name?n=(0,i.template)(n,[e.options.min]):"not_equal"===e.name&&(n=(0,i.template)(n,[e.options.name1,e.options.name2])),this.errors.add(t,n),this.error_count++}},{key:"check",value:function(){var e=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(e.rules,r)&&e.rules[r].forEach((function(n){var o=t.getRuleObject(n);if((o.validator||"function"==typeof o.validator)&&(!o.options.condition||o.options.condition(e.store))&&(""!==e.input[r]||"req"===o.name)){var i,a;if("number"===o.name){var s=o.validator(e.input[r],o.options,e.store,e.input);i=s.is_ok,a=s.message}else i=o.validator(e.input[r],o.options,e.store,e.input);i||e.addFailure(r,o,a)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&l(e.prototype,r),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(){h=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:O(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function p(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(A([])));b&&b!==e&&r.call(b,i)&&(m=b);var g=y.prototype=p.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==d(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function p(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){p(i,n,o,a,s,"next",t)}function s(t){p(i,n,o,a,s,"throw",t)}a(void 0)}))}}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){return(e=g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}var w=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.validation_errors={},this.validation_rules={},this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,this.partial_fetch_time=0,(0,n.makeObservable)(this,{validation_errors:n.observable,validation_rules:n.observable,partial_fetch_time:n.observable,retrieveFromStorage:n.action,setValidationErrorMessages:n.action,setValidationRules:n.action,addRule:n.action,validateProperty:n.action,validateAllProperties:n.action,onSwitchAccount:n.action.bound,onPreSwitchAccount:n.action.bound,onLogout:n.action.bound,onClientInit:n.action.bound,onNetworkStatusChange:n.action.bound,onThemeChange:n.action.bound,onRealAccountSignupEnd:n.action.bound,disposePreSwitchAccount:n.action.bound,disposeSwitchAccount:n.action.bound,disposeLogout:n.action.bound,disposeClientInit:n.action.bound,disposeNetworkStatusChange:n.action.bound,disposeThemeChange:n.action.bound,disposeRealAccountSignupEnd:n.action.bound,onUnmount:n.action.bound,assertHasValidCache:n.action.bound});var o=r.root_store,i=r.local_storage_properties,a=r.session_storage_properties,s=r.validation_rules,c=r.store_name;if(Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0}),i&&i.length||a&&a.length){if(!c)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:c,enumerable:!1,writable:!1})}this.root_store=o,this.local_storage_properties=i||[],this.session_storage_properties=a||[],setTimeout((function(){e.setValidationRules(s),e.setupReactionForLocalStorage(),e.setupReactionForSessionStorage(),e.retrieveFromStorage()}),0)}var e,r;return e=t,r=[{key:"getSnapshot",value:function(t){var e=(0,n.toJS)(this);return(0,o.isEmptyObject)(this.root_store)||(e.root_store=this.root_store),t&&t.length&&(e=t.reduce((function(t,r){return Object.assign(t,_({},r,e[r]))}),{})),e}},{key:"setupReactionForLocalStorage",value:function(){var e=this;this.local_storage_properties.length&&(0,n.reaction)((function(){return e.local_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.local_storage_properties,t.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var e=this;this.session_storage_properties.length&&(0,n.reaction)((function(){return e.session_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.session_storage_properties,t.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(e,r){var n=JSON.stringify(this.getSnapshot(e),(function(t,e){if(null!==e)return e}));r===t.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===t.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=m(m({},e),r);Object.keys(n).forEach((function(e){return t[e]=n[e]}))}},{key:"setValidationErrorMessages",value:function(t,e){var r=this;this.validation_errors[t]&&!r.validation_errors[t].filter((function(t){return!e.includes(t)})).concat(e.filter((function(e){return!r.validation_errors[t].includes(e)}))).length||(this.validation_errors[t]=e)}},{key:"setValidationRules",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(r){t.addRule(r,e[r])}))}},{key:"addRule",value:function(t,e){var r=this;this.validation_rules[t]=e,(0,n.intercept)(this,t,(function(e){return r.validateProperty(t,e.newValue),e}))}},{key:"validateProperty",value:function(t,e){var r=this,n=this.validation_rules[t].trigger,o=_({},t,void 0!==e?e:this[t]),i=_({},t,this.validation_rules[t].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new f(o,i,this);a.isPassed(),Object.keys(o).forEach((function(t){r.setValidationErrorMessages(t,a.errors.get(t))}))}},{key:"validateAllProperties",value:function(){var t=this,e=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);e.forEach((function(e){t.validateProperty(e,t[e])})),r.forEach((function(r){e.includes(r)||delete t.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(t){var e=this;t&&(this.switch_account_listener=t,this.switchAccountDisposer=(0,n.when)((function(){return e.root_store.client.switch_broadcast}),(function(){try{var t=e.switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Switching account listeners are required to return a promise.");t.then((function(){e.root_store.client.switchEndSignal(),e.onSwitchAccount(e.switch_account_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})))}},{key:"onPreSwitchAccount",value:function(t){var e=this;t&&(this.pre_switch_account_listener=t,this.preSwitchAccountDisposer=(0,n.when)((function(){return e.root_store.client.pre_switch_broadcast}),(function(){try{var t,r=null===(t=e.pre_switch_account_listener)||void 0===t?void 0:t.call(e);if(!r||!r.then||"function"!=typeof r.then)throw new Error("Pre-switch account listeners are required to return a promise.");r.then((function(){e.root_store.client.setPreSwitchAccount(!1),e.onPreSwitchAccount(e.pre_switch_account_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})))}},{key:"onLogout",value:function(t){var e=this;this.logoutDisposer=(0,n.when)((function(){return e.root_store.client.has_logged_out}),v(h().mark((function t(){var r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.logout_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setLogout(!1),e.onLogout(e.logout_listener)})),t.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.logout_listener=t}},{key:"onClientInit",value:function(t){var e=this;this.clientInitDisposer=(0,n.when)((function(){return e.root_store.client.initialized_broadcast}),v(h().mark((function t(){var r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.client_init_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setInitialized(!1),e.onClientInit(e.client_init_listener)})),t.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.client_init_listener=t}},{key:"onNetworkStatusChange",value:function(t){var e=this;this.networkStatusChangeDisposer=(0,n.reaction)((function(){return e.root_store.common.is_network_online}),(function(t){try{e.network_status_change_listener(t)}catch(t){(0,o.isProduction)()||console.error(t)}})),this.network_status_change_listener=t}},{key:"onThemeChange",value:function(t){var e=this;this.themeChangeDisposer=(0,n.reaction)((function(){return e.root_store.ui.is_dark_mode_on}),(function(t){try{e.theme_change_listener(t)}catch(t){(0,o.isProduction)()||console.error(t)}})),this.theme_change_listener=t}},{key:"onRealAccountSignupEnd",value:function(t){var e=this;this.realAccountSignupEndedDisposer=(0,n.when)((function(){return e.root_store.ui.has_real_account_signup_ended}),(function(){try{var t=e.real_account_signup_ended_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Real account signup listeners are required to return a promise.");t.then((function(){e.root_store.ui.setRealAccountSignupEnd(!1),e.onRealAccountSignupEnd(e.real_account_signup_ended_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})),this.real_account_signup_ended_listener=t}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(t){if(this.root_store.client.loginid!==t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach((function(t){return t()})),this.partial_fetch_time=!1}}}],r&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();w.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var S=r("./src/Stores/Modules/CFD/Helpers/cfd-config.ts");function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function E(){E=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(A([])));m&&m!==e&&r.call(m,i)&&(v=m);var _=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==O(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function w(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function j(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function x(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){j(i,n,o,a,s,"next",t)}function s(t){j(i,n,o,a,s,"throw",t)}a(void 0)}))}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return(e=F(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F(n.key),n)}}function F(t){var e=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===O(e)?e:String(e)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(v,t);var e,r,i,a,s,c,u,l,f,d,h,p=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=R(t);if(e){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M(t)}(this,r)}}(v);function v(t){var e,r=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),(e=p.call(this,{root_store:r})).is_compare_accounts_visible=!1,e.is_cfd_personal_details_modal_visible=!1,e.is_jurisdiction_modal_visible=!1,e.is_mt5_trade_modal_visible=!1,e.jurisdiction_selected_shortcode="",e.account_type={category:"",type:""},e.mt5_trade_account={},e.new_account_response={},e.map_type={},e.has_cfd_error=!1,e.error_message="",e.is_account_being_created=!1,e.is_cfd_success_dialog_enabled=!1,e.is_mt5_financial_stp_modal_open=!1,e.is_cfd_password_modal_enabled=!1,e.current_account=void 0,e.error_type=void 0,e.is_cfd_verification_modal_visible=!1,e.dxtrade_tokens={demo:"",real:""},e.derivez_tokens={demo:"",real:""},e.real_synthetic_accounts_existing_data=[],e.real_financial_accounts_existing_data=[],e.real_swapfree_accounts_existing_data=[],(0,n.makeObservable)(M(e),{is_compare_accounts_visible:n.observable,is_cfd_personal_details_modal_visible:n.observable,is_jurisdiction_modal_visible:n.observable,is_mt5_trade_modal_visible:n.observable,jurisdiction_selected_shortcode:n.observable,account_type:n.observable,mt5_trade_account:n.observable,new_account_response:n.observable,map_type:n.observable,has_cfd_error:n.observable,error_message:n.observable,is_account_being_created:n.observable,is_cfd_success_dialog_enabled:n.observable,is_mt5_financial_stp_modal_open:n.observable,is_cfd_password_modal_enabled:n.observable,current_account:n.observable,is_cfd_verification_modal_visible:n.observable,error_type:n.observable,dxtrade_tokens:n.observable,derivez_tokens:n.observable,account_title:n.computed,current_list:n.computed,has_created_account_for_selected_jurisdiction:n.computed,has_submitted_cfd_personal_details:n.computed,onMount:n.action.bound,onUnmount:n.override,checkShouldOpenAccount:n.action.bound,realAccountSignupEndListener:n.action.bound,resetFormErrors:n.action.bound,clearCFDError:n.action.bound,createCFDAccount:n.action.bound,disableCFDPasswordModal:n.action.bound,enableCFDPasswordModal:n.action.bound,getName:n.action.bound,openMT5Account:n.action.bound,openCFDAccount:n.action.bound,beginRealSignupForMt5:n.action.bound,enableMt5FinancialStpModal:n.action.bound,setAccountType:n.action.bound,setCurrentAccount:n.action.bound,setMT5TradeAccount:n.action.bound,setIsAccountBeingCreated:n.action.bound,setError:n.action.bound,setCFDNewAccount:n.action.bound,setCFDSuccessDialog:n.action.bound,storeProofOfAddress:n.action.bound,getAccountStatus:n.action.bound,creatMT5Password:n.action.bound,submitMt5Password:n.action.bound,createCFDPassword:n.action.bound,submitCFDPassword:n.action.bound,toggleCompareAccountsModal:n.action.bound,getRealSyntheticAccountsExistingData:n.action.bound,getRealFinancialAccountsExistingData:n.action.bound,getRealSwapfreeAccountsExistingData:n.action.bound,toggleJurisdictionModal:n.action.bound,toggleMT5TradeModal:n.action.bound,disableMt5FinancialStpModal:n.action.bound,topUpVirtual:n.action.bound,sendVerifyEmail:n.action.bound,setJurisdictionSelectedShortcode:n.action.bound,toggleCFDVerificationModal:n.action.bound,setDxtradeToken:n.action.bound,setDerivezToken:n.action.bound,loadDxtradeTokens:n.action.bound,loadDerivezTokens:n.action.bound}),(0,n.reaction)((function(){return[e.root_store.client.derivez_accounts_list]}),(function(){e.root_store.client.derivez_accounts_list.length>0&&e.loadDerivezTokens()})),e}return e=v,r=[{key:"account_title",get:function(){return this.account_type.category?(0,S.D_)(this.root_store.traders_hub.show_eu_related_content)[this.account_type.category][this.account_type.type].title:""}},{key:"has_submitted_cfd_personal_details",get:function(){var t=this.root_store.client.account_settings,e=t.citizen,r=t.place_of_birth,n=t.tax_residence,o=t.tax_identification_number,i=t.account_opening_reason;return!!(e&&r&&n&&o&&i)}},{key:"current_list",get:function(){var t={},e=this.root_store.traders_hub.show_eu_related_content;return this.root_store.client.mt5_login_list.filter((function(t){return e?"maltainvest"===t.landing_company_short:"maltainvest"!==t.landing_company_short})).forEach((function(e){t[(0,o.getAccountListKey)(e,o.CFD_PLATFORMS.MT5,e.landing_company_short)]=T({},e)})),this.root_store.client.dxtrade_accounts_list.forEach((function(e){t[(0,o.getAccountListKey)(e,o.CFD_PLATFORMS.DXTRADE)]=T({},e)})),this.root_store.client.derivez_accounts_list.forEach((function(e){t[(0,o.getAccountListKey)(e,o.CFD_PLATFORMS.DERIVEZ)]=T({},e)})),t}},{key:"mt5_companies",get:function(){return(0,S.D_)(this.root_store.client.is_eu)}},{key:"dxtrade_companies",get:function(){return(0,S.Df)()}},{key:"derivez_companies",get:function(){return(0,S.hg)()}},{key:"has_created_account_for_selected_jurisdiction",get:function(){var t,e,r,n=this;switch(this.account_type.type){case"synthetic":return null===(t=this.real_synthetic_accounts_existing_data)||void 0===t?void 0:t.some((function(t){return t.landing_company_short===n.jurisdiction_selected_shortcode}));case"all":return null===(e=this.real_swapfree_accounts_existing_data)||void 0===e?void 0:e.some((function(t){return t.landing_company_short===n.jurisdiction_selected_shortcode}));default:return null===(r=this.real_financial_accounts_existing_data)||void 0===r?void 0:r.some((function(t){return t.landing_company_short===n.jurisdiction_selected_shortcode}))}}},{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_cfd_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_cfd_page=!1}},{key:"checkShouldOpenAccount",value:function(){var t=sessionStorage.getItem("open_cfd_account_type");if(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("."),4),r=e[0],n=e[1],o=e[2],i=e[3];this.createCFDAccount({category:r,platform:n,type:o,set_password:i}),sessionStorage.removeItem("open_cfd_account_type")}}},{key:"setIsAccountBeingCreated",value:function(t){this.is_account_being_created=t}},{key:"realAccountSignupEndListener",value:function(){var t=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return t&&t.category&&t.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableCFDPasswordModal()),Promise.resolve()}},{key:"resetFormErrors",value:function(){this.error_message="",this.error_type=void 0,this.has_cfd_error=!1}},{key:"clearCFDError",value:function(){this.resetFormErrors(),this.is_cfd_password_modal_enabled=!1}},{key:"createCFDAccount",value:(h=x(E().mark((function t(e){var r,n,i,a,s,c,u;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.category,n=e.platform,i=e.type,a=e.set_password,this.clearCFDError(),this.setIsAccountBeingCreated(!0),this.setAccountType({category:r,type:i}),n!==o.CFD_PLATFORMS.DXTRADE){t.next=8;break}"real"===r?this.realCFDSignup(a):this.demoCFDSignup(),t.next=31;break;case 8:if(n!==o.CFD_PLATFORMS.MT5){t.next=12;break}"real"===r?this.toggleJurisdictionModal():(this.root_store.traders_hub.show_eu_related_content?this.setJurisdictionSelectedShortcode(o.Jurisdiction.MALTA_INVEST):this.setJurisdictionSelectedShortcode(o.Jurisdiction.SVG),this.demoCFDSignup()),t.next=31;break;case 12:if(n!==o.CFD_PLATFORMS.DERIVEZ){t.next=31;break}return this.setJurisdictionSelectedShortcode("svg"),s={platform:n,account_type:this.account_type.category,market_type:this.account_type.type,company:this.jurisdiction_selected_shortcode},t.next=17,this.openCFDAccount(s);case 17:if((c=t.sent).error){t.next=29;break}return this.enableCFDPasswordModal(),this.setCFDSuccessDialog(!0),t.next=23,o.WS.tradingPlatformAccountsList(s.platform);case 23:u=t.sent,this.root_store.client.responseTradingPlatformAccountsList(u),this.setCFDNewAccount(c.trading_platform_new_account),this.setIsAccountBeingCreated(!1),t.next=31;break;case 29:this.setError(!0,c.error),this.setIsAccountBeingCreated(!1);case 31:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"demoCFDSignup",value:function(){this.enableCFDPasswordModal()}},{key:"disableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!1}},{key:"enableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!0}},{key:"getName",value:function(){var t=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,e=this.mt5_companies[this.account_type.category][this.account_type.type].title;return t?[t,e].join(" "):e}},{key:"openMT5Account",value:function(t){var e=this.getName(),r=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,n=(0,o.getAccountTypeFields)(this.account_type),i=this.root_store.client.account_settings,a=i.address_line_1,s=i.address_line_2,c=i.address_postcode,u=i.address_city,l=i.address_state,f=i.country_code,d=i.phone;return o.WS.mt5NewAccount(T(T(T(T({mainPassword:t.password,email:this.root_store.client.email_address,leverage:r,name:e,address:a||s,city:u,country:f,phone:d,state:l,zipCode:c},"all"===this.account_type.type?{sub_account_category:"swap_free"}:{}),t.server?{server:t.server}:{}),this.jurisdiction_selected_shortcode?{company:this.jurisdiction_selected_shortcode}:{}),this.jurisdiction_selected_shortcode!==o.Jurisdiction.LABUAN?n:{account_type:"financial",mt5_account_type:"financial_stp"}))}},{key:"openCFDAccount",value:function(t){return o.WS.tradingPlatformNewAccount({password:o.CFD_PLATFORMS.DXTRADE?t.password:"",platform:t.platform,account_type:this.account_type.category,market_type:"dxtrade"===this.account_type.type||"derivez"===this.account_type.type?"all":this.account_type.type,company:o.CFD_PLATFORMS.DERIVEZ?this.jurisdiction_selected_shortcode:""})}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup("svg")}},{key:"realCFDSignup",value:function(t){switch(this.account_type.type){case"financial":case"synthetic":case"dxtrade":case"all":this.enableCFDPasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),t?this.enableCFDPasswordModal():this.enableMt5FinancialStpModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!0}},{key:"setAccountType",value:function(t){this.account_type=t}},{key:"setCurrentAccount",value:function(t,e){this.current_account=T(T({},e),t)}},{key:"setMT5TradeAccount",value:function(t){this.mt5_trade_account=t}},{key:"setError",value:function(t,e){var r;this.has_cfd_error=t,this.error_message=e?e.message:"",this.error_type=null!==(r=null==e?void 0:e.code)&&void 0!==r?r:void 0}},{key:"setCFDNewAccount",value:function(t){this.new_account_response=t}},{key:"setCFDSuccessDialog",value:function(t){this.is_cfd_success_dialog_enabled=!!t}},{key:"storeProofOfAddress",value:function(t,e,r){var n=this,i=r.setStatus;return new Promise((function(r,a){i({msg:""}),n.setState({is_btn_loading:!0}),o.WS.setSettings(e).then((function(e){e.error?(i({msg:e.error.message}),a(e)):(n.root_store.fetchAccountSettings(),t.current.upload().then((function(t){t.warning?(i({msg:t.message}),a(t)):o.WS.authorized.storage.getAccountStatus().then((function(t){var e=t.error,n=t.get_account_status;e&&a(e);var o=n.authentication.identity,i=!(o&&"none"===o.status);r({identity:o,has_poi:i})}))})))}))}))}},{key:"getAccountStatus",value:(d=x(E().mark((function t(e){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e===o.CFD_PLATFORMS.MT5&&this.root_store.client.is_mt5_password_not_set||e===o.CFD_PLATFORMS.DXTRADE&&this.root_store.client.is_dxtrade_password_not_set)){t.next=4;break}return t.next=4,o.WS.getAccountStatus();case 4:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"creatMT5Password",value:(f=x(E().mark((function t(e,r){var n;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.WS.tradingPlatformPasswordChange({new_password:e.password,platform:o.CFD_PLATFORMS.MT5});case 2:if(!(n=t.sent).error){t.next=9;break}return this.setError(!0,n.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1}),t.abrupt("return",!0);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"submitMt5Password",value:(l=x(E().mark((function t(e,r){var n,i;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.root_store.client.is_mt5_password_not_set){t.next=6;break}return t.next=3,this.creatMT5Password(e,r);case 3:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:return this.resetFormErrors(),t.next=9,this.openMT5Account(e);case 9:if((n=t.sent).error){t.next=30;break}return r.setStatus({success:!0}),r.setSubmitting(!1),this.setError(!1),this.setCFDSuccessDialog(!0),t.next=17,this.getAccountStatus(o.CFD_PLATFORMS.MT5);case 17:return t.next=19,o.WS.authorized.mt5LoginList();case 19:return i=t.sent,this.root_store.client.responseMt5LoginList(i),o.WS.transferBetweenAccounts(),t.t0=this.root_store.client,t.next=25,o.WS.tradingServers(o.CFD_PLATFORMS.MT5);case 25:t.t1=t.sent,t.t0.responseMT5TradingServers.call(t.t0,t.t1),this.setCFDNewAccount(n.mt5_new_account),t.next=36;break;case 30:return t.next=32,this.getAccountStatus(o.CFD_PLATFORMS.MT5);case 32:this.setError(!0,n.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1});case 36:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"createCFDPassword",value:(u=x(E().mark((function t(e,r){var n;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.WS.tradingPlatformPasswordChange({new_password:e.password,platform:o.CFD_PLATFORMS.DXTRADE});case 2:if(!(n=t.sent).error){t.next=9;break}return this.setError(!0,n.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1}),t.abrupt("return",!0);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"submitCFDPassword",value:(c=x(E().mark((function t(e,r){var n,i;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.CFD_PLATFORMS.DXTRADE||!this.root_store.client.is_dxtrade_password_not_set){t.next=6;break}return t.next=3,this.createCFDPassword(e,r);case 3:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,this.openCFDAccount(e);case 8:if(!(n=t.sent).error){t.next=17;break}return t.next=12,this.getAccountStatus(o.CFD_PLATFORMS.DXTRADE);case 12:return this.setError(!0,n.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1}),t.abrupt("return");case 17:return r.setStatus({success:!0}),r.setSubmitting(!1),this.setError(!1),this.setCFDSuccessDialog(!0),t.next=23,this.getAccountStatus(o.CFD_PLATFORMS.DXTRADE);case 23:return t.next=25,o.WS.tradingPlatformAccountsList(e.platform);case 25:i=t.sent,this.root_store.client.responseTradingPlatformAccountsList(i),o.WS.transferBetweenAccounts(),this.setCFDNewAccount(n.trading_platform_new_account);case 29:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"getRealSyntheticAccountsExistingData",value:function(t){this.real_synthetic_accounts_existing_data=t}},{key:"getRealFinancialAccountsExistingData",value:function(t){this.real_financial_accounts_existing_data=t}},{key:"getRealSwapfreeAccountsExistingData",value:function(t){this.real_swapfree_accounts_existing_data=t}},{key:"toggleJurisdictionModal",value:function(){this.is_jurisdiction_modal_visible=!this.is_jurisdiction_modal_visible}},{key:"toggleMT5TradeModal",value:function(){this.is_mt5_trade_modal_visible=!this.is_mt5_trade_modal_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(s=x(E().mark((function t(e){var r,i,a,s,c,u=this;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.root_store.ui.setTopUpInProgress(!0),t.t0=e,t.next=t.t0===o.CFD_PLATFORMS.DXTRADE?4:t.t0===o.CFD_PLATFORMS.MT5?8:t.t0===o.CFD_PLATFORMS.DERIVEZ?12:16;break;case 4:return t.next=6,o.WS.authorized.send({trading_platform_deposit:1,platform:o.CFD_PLATFORMS.DXTRADE,to_account:this.current_account.account_id});case 6:return r=t.sent,t.abrupt("break",18);case 8:return t.next=10,o.WS.authorized.mt5Deposit({to_mt5:this.current_account.login});case 10:return r=t.sent,t.abrupt("break",18);case 12:return t.next=14,o.WS.authorized.send({trading_platform_deposit:1,platform:o.CFD_PLATFORMS.DERIVEZ,to_account:this.current_account.login});case 14:return r=t.sent,t.abrupt("break",18);case 16:return r.error="Invalid platform",t.abrupt("break",18);case 18:if(r.error){t.next=39;break}t.t1=e,t.next=t.t1===o.CFD_PLATFORMS.DXTRADE?22:t.t1===o.CFD_PLATFORMS.MT5?26:t.t1===o.CFD_PLATFORMS.DERIVEZ?30:34;break;case 22:return t.next=24,o.WS.authorized.tradingPlatformAccountsList(o.CFD_PLATFORMS.DXTRADE).then(this.root_store.client.responseTradingPlatformAccountsList);case 24:return i=null===(a=this.root_store.client.dxtrade_accounts_list.find((function(t){return t.account_id===u.current_account.account_id})))||void 0===a?void 0:a.balance,t.abrupt("break",35);case 26:return t.next=28,o.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 28:return i=null===(s=this.root_store.client.mt5_login_list.find((function(t){return t.login===u.current_account.login})))||void 0===s?void 0:s.balance,t.abrupt("break",35);case 30:return t.next=32,o.WS.authorized.tradingPlatformAccountsList(o.CFD_PLATFORMS.DERIVEZ).then(this.root_store.client.responseTradingPlatformAccountsList);case 32:return i=null===(c=this.root_store.client.derivez_accounts_list.find((function(t){return t.account_id===u.current_account.account_id})))||void 0===c?void 0:c.balance,t.abrupt("break",35);case 34:return t.abrupt("break",35);case 35:(0,n.runInAction)((function(){u.root_store.ui.is_top_up_virtual_open=!1,u.current_account.balance=i})),setTimeout((function(){(0,n.runInAction)((function(){u.root_store.ui.is_top_up_virtual_success=!0}))}),250),t.next=40;break;case 39:console.error(r);case 40:this.root_store.ui.setTopUpInProgress(!1);case 41:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"sendVerifyEmail",value:function(){return o.WS.verifyEmail(this.root_store.client.email,"trading_platform_investor_password_reset")}},{key:"setDxtradeToken",value:function(t,e){if(!t.error){var r=t.service_token.dxtrade;this.dxtrade_tokens[e]=r.token}}},{key:"loadDxtradeTokens",value:function(){var t=this;["demo","real"].forEach((function(e){var r=t.root_store.client.dxtrade_accounts_list.some((function(t){return t.account_type===e}));!t.dxtrade_tokens[e]&&r&&o.WS.getServiceToken(o.CFD_PLATFORMS.DXTRADE,e).then((function(r){return t.setDxtradeToken(r,e)}))}))}},{key:"setDerivezToken",value:function(t,e){if(!t.error){var r=t.service_token.pandats;this.derivez_tokens[e]=r.token}}},{key:"loadDerivezTokens",value:function(){var t=this;["demo","real"].forEach((function(e){var r=t.root_store.client.derivez_accounts_list.some((function(t){return t.account_type===e}));!t.derivez_tokens[e]&&r&&o.WS.getServiceToken(o.CFD_PLATFORMS.DERIVEZ,e).then((function(r){return t.setDerivezToken(r,e)}))}))}},{key:"setJurisdictionSelectedShortcode",value:function(t){this.jurisdiction_selected_shortcode=t}},{key:"toggleCFDVerificationModal",value:function(){this.is_cfd_verification_modal_visible=!this.is_cfd_verification_modal_visible}}],i=[{key:"changePassword",value:(a=x(E().mark((function t(e){var r,n,i,a,s,c;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.login,a=e.old_password,s=e.new_password,"investor"!==e.password_type){t.next=7;break}return t.next=4,o.WS.authorized.tradingPlatformInvestorPasswordChange({account_id:i,old_password:a,new_password:s,platform:o.CFD_PLATFORMS.MT5});case 4:c=t.sent,t.next=10;break;case 7:return t.next=9,o.WS.authorized.tradingPlatformPasswordChange({account_id:i,old_password:a,new_password:s,platform:o.CFD_PLATFORMS.MT5});case 9:c=t.sent;case 10:return t.abrupt("return",null===(r=c)||void 0===r||null===(n=r.error)||void 0===n?void 0:n.message);case 11:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})}],r&&C(e.prototype,r),i&&C(e,i),Object.defineProperty(e,"prototype",{writable:!1}),v}(w)},"./src/_common/utility.js":t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n,o=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise((function(t,r){e.reject=r,e.resolve=t}))}));t.exports={template:function(t,e){var r=e;return e&&!Array.isArray(e)&&(r=[e]),t.replace(/\[_(\d+)]/g,(function(t,e){return r[+e-1]}))},createElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(t);return Object.keys(e).forEach((function(t){var n=e[t];"text"===t?r.textContent=n:"html"===t?r.html(n):r.setAttribute(t,n)})),r},getStaticHash:function(){return n=n||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:o}},"../stores/src/index.ts":(t,e,r)=>{"use strict";r.d(e,{Pi:()=>n.Pi,oR:()=>l});var n=r("../../node_modules/mobx-react-lite/es/index.js"),o=r("../../node_modules/lodash.merge/index.js"),i=r.n(o),a=r("react"),s=r.n(a);const c=(0,a.createContext)(null);var u=r("../api/src/index.ts");const l=function(){var t=(0,a.useContext)(c);if(!t)throw new Error("useStore must be used within StoreProvider");return t};(0,n.Pi)((function(t){var e=t.children,r=(0,u.mU)("exchange_rates"),n=r.data,o=r.subscribe,c=l().exchange_rates.update;return(0,a.useEffect)((function(){o({payload:{base_currency:"USD"}})}),[o]),(0,a.useEffect)((function(){if(n){var t=n.exchange_rates;t&&c((function(e){return i()(e,t)}))}}),[c,n]),s().createElement(s().Fragment,null,e)})),r("mobx"),r("../../node_modules/mobx-persist-store/lib/esm5/index.js")},"@deriv/components":e=>{"use strict";e.exports=t},"@deriv/shared":t=>{"use strict";t.exports=e},"@deriv/translations":t=>{"use strict";t.exports=r},mobx:t=>{"use strict";t.exports=n},react:t=>{"use strict";t.exports=o},"react-dom":t=>{"use strict";t.exports=i},"../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs":(t,e,r)=>{"use strict";r.d(e,{S:()=>z});const n="undefined"==typeof window||"Deno"in window;function o(){}function i(t,e,r){return m(t)?"function"==typeof e?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function a(t,e,r){return m(t)?[{...e,queryKey:t},r]:[t||{},e]}function s(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:i,queryKey:a,stale:s}=t;if(m(a))if(n){if(e.queryHash!==u(a,e.options))return!1}else if(!f(e.queryKey,a))return!1;if("all"!==r){const t=e.isActive();if("active"===r&&!t)return!1;if("inactive"===r&&t)return!1}return!("boolean"==typeof s&&e.isStale()!==s||void 0!==o&&o!==e.state.fetchStatus||i&&!i(e))}function c(t,e){const{exact:r,fetching:n,predicate:o,mutationKey:i}=t;if(m(i)){if(!e.options.mutationKey)return!1;if(r){if(l(e.options.mutationKey)!==l(i))return!1}else if(!f(e.options.mutationKey,i))return!1}return!("boolean"==typeof n&&"loading"===e.state.status!==n||o&&!o(e))}function u(t,e){return((null==e?void 0:e.queryKeyHashFn)||l)(t)}function l(t){return JSON.stringify(t,((t,e)=>v(e)?Object.keys(e).sort().reduce(((t,r)=>(t[r]=e[r],t)),{}):e))}function f(t,e){return d(t,e)}function d(t,e){return t===e||typeof t==typeof e&&!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&!Object.keys(e).some((r=>!d(t[r],e[r])))}function h(t,e){if(t===e)return t;const r=p(t)&&p(e);if(r||v(t)&&v(e)){const n=r?t.length:Object.keys(t).length,o=r?e:Object.keys(e),i=o.length,a=r?[]:{};let s=0;for(let n=0;n<i;n++){const i=r?n:o[n];a[i]=h(t[i],e[i]),a[i]===t[i]&&s++}return n===i&&s===n?t:a}return e}function p(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function v(t){if(!y(t))return!1;const e=t.constructor;if(void 0===e)return!0;const r=e.prototype;return!!y(r)&&!!r.hasOwnProperty("isPrototypeOf")}function y(t){return"[object Object]"===Object.prototype.toString.call(t)}function m(t){return Array.isArray(t)}function _(t){return new Promise((e=>{setTimeout(e,t)}))}function b(t){_(0).then(t)}function g(t,e,r){return null!=r.isDataEqual&&r.isDataEqual(t,e)?t:"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?h(t,e):e}const w=console,S=function(){let t=[],e=0,r=t=>{t()},n=t=>{t()};const o=n=>{e?t.push(n):b((()=>{r(n)}))},i=()=>{const e=t;t=[],e.length&&b((()=>{n((()=>{e.forEach((t=>{r(t)}))}))}))};return{batch:t=>{let r;e++;try{r=t()}finally{e--,e||i()}return r},batchCalls:t=>(...e)=>{o((()=>{t(...e)}))},schedule:o,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{n=t}}}();class O{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const e={listener:t};return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const E=new class extends O{constructor(){super(),this.setup=t=>{if(!n&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),()=>{window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach((({listener:t})=>{t()}))}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},j=["online","offline"],x=new class extends O{constructor(){super(),this.setup=t=>{if(!n&&window.addEventListener){const e=()=>t();return j.forEach((t=>{window.addEventListener(t,e,!1)})),()=>{j.forEach((t=>{window.removeEventListener(t,e)}))}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((t=>{"boolean"==typeof t?this.setOnline(t):this.onOnline()}))}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach((({listener:t})=>{t()}))}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function P(t){return Math.min(1e3*2**t,3e4)}function A(t){return"online"!==(null!=t?t:"online")||x.isOnline()}class T{constructor(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}}function k(t){return t instanceof T}function C(t){let e,r,n,o=!1,i=0,a=!1;const s=new Promise(((t,e)=>{r=t,n=e})),c=()=>!E.isFocused()||"always"!==t.networkMode&&!x.isOnline(),u=n=>{a||(a=!0,null==t.onSuccess||t.onSuccess(n),null==e||e(),r(n))},l=r=>{a||(a=!0,null==t.onError||t.onError(r),null==e||e(),n(r))},f=()=>new Promise((r=>{e=t=>{const e=a||!c();return e&&r(t),e},null==t.onPause||t.onPause()})).then((()=>{e=void 0,a||null==t.onContinue||t.onContinue()})),d=()=>{if(a)return;let e;try{e=t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(u).catch((e=>{var r,n;if(a)return;const s=null!=(r=t.retry)?r:3,u=null!=(n=t.retryDelay)?n:P,h="function"==typeof u?u(i,e):u,p=!0===s||"number"==typeof s&&i<s||"function"==typeof s&&s(i,e);!o&&p?(i++,null==t.onFail||t.onFail(i,e),_(h).then((()=>{if(c())return f()})).then((()=>{o?l(e):d()}))):l(e)}))};return A(t.networkMode)?d():f().then(d),{promise:s,cancel:e=>{a||(l(new T(e)),null==t.abort||t.abort())},continue:()=>(null==e?void 0:e())?s:Promise.resolve(),cancelRetry:()=>{o=!0},continueRetry:()=>{o=!1}}}class F{destroy(){this.clearGcTimeout()}scheduleGc(){var t;this.clearGcTimeout(),"number"==typeof(t=this.cacheTime)&&t>=0&&t!==1/0&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,null!=t?t:n?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class D extends F{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||w,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,n=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(t,e){const r=g(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==e?void 0:e.updatedAt,manual:null==e?void 0:e.manual}),r}setState(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})}cancel(t){var e;const r=this.promise;return null==(e=this.retryer)||e.cancel(t),r?r.then(o).catch(o):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((t=>!1!==t.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((t=>t.getCurrentResult().isStale))}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!function(t,e){return Math.max(t+(e||0)-Date.now(),0)}(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find((t=>t.shouldFetchOnWindowFocus()));e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}onOnline(){var t;const e=this.observers.find((t=>t.shouldFetchOnReconnect()));e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter((e=>e!==t)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,e){var r,n;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=e&&e.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return null==(o=this.retryer)||o.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}Array.isArray(this.options.queryKey);const i=function(){if("function"==typeof AbortController)return new AbortController}(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},s=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{if(i)return this.abortSignalConsumed=!0,i.signal}})};s(a);const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var u;s(c),null==(r=this.options.behavior)||r.onFetch(c),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=c.fetchOptions)?void 0:n.meta))&&this.dispatch({type:"fetch",meta:null==(u=c.fetchOptions)?void 0:u.meta});const l=t=>{var e,r,n,o;k(t)&&t.silent||this.dispatch({type:"error",error:t}),k(t)||(null==(e=(r=this.cache.config).onError)||e.call(r,t,this),null==(n=(o=this.cache.config).onSettled)||n.call(o,this.state.data,t,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=C({fn:c.fetchFn,abort:null==i?void 0:i.abort.bind(i),onSuccess:t=>{var e,r,n,o;void 0!==t?(this.setData(t),null==(e=(r=this.cache.config).onSuccess)||e.call(r,t,this),null==(n=(o=this.cache.config).onSettled)||n.call(o,t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):l(new Error(this.queryHash+" data is undefined"))},onError:l,onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){this.state=(e=>{var r,n;switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=t.meta)?r:null,fetchStatus:A(this.options.networkMode)?"fetching":"paused",...!e.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(n=t.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return k(o)&&o.revert&&this.revertState?{...this.revertState}:{...e,error:o,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),S.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate(t)})),this.cache.notify({query:this,type:"updated",action:t})}))}}class M extends O{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,e,r){var n;const o=e.queryKey,i=null!=(n=e.queryHash)?n:u(o,e);let a=this.get(i);return a||(a=new D({cache:this,logger:t.getLogger(),queryKey:o,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(a)),a}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const e=this.queriesMap[t.queryHash];e&&(t.destroy(),this.queries=this.queries.filter((e=>e!==t)),e===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){S.batch((()=>{this.queries.forEach((t=>{this.remove(t)}))}))}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,e){const[r]=a(t,e);return void 0===r.exact&&(r.exact=!0),this.queries.find((t=>s(r,t)))}findAll(t,e){const[r]=a(t,e);return Object.keys(r).length>0?this.queries.filter((t=>s(r,t))):this.queries}notify(t){S.batch((()=>{this.listeners.forEach((({listener:e})=>{e(t)}))}))}onFocus(){S.batch((()=>{this.queries.forEach((t=>{t.onFocus()}))}))}onOnline(){S.batch((()=>{this.queries.forEach((t=>{t.onOnline()}))}))}}class R extends F{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||w,this.observers=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter((e=>e!==t)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,e;return null!=(t=null==(e=this.retryer)?void 0:e.continue())?t:this.execute()}async execute(){const t=()=>{var t;return this.retryer=C({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},e="loading"===this.state.status;try{var r,n,o,i,a,s,c,u;if(!e){var l,f,d,h;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(l=(f=this.mutationCache.config).onMutate)?void 0:l.call(f,this.state.variables,this));const t=await(null==(d=(h=this.options).onMutate)?void 0:d.call(h,this.state.variables));t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})}const p=await t();return await(null==(r=(n=this.mutationCache.config).onSuccess)?void 0:r.call(n,p,this.state.variables,this.state.context,this)),await(null==(o=(i=this.options).onSuccess)?void 0:o.call(i,p,this.state.variables,this.state.context)),await(null==(a=(s=this.mutationCache.config).onSettled)?void 0:a.call(s,p,null,this.state.variables,this.state.context,this)),await(null==(c=(u=this.options).onSettled)?void 0:c.call(u,p,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:p}),p}catch(t){try{var p,v,y,m,_,b,g,w;throw await(null==(p=(v=this.mutationCache.config).onError)?void 0:p.call(v,t,this.state.variables,this.state.context,this)),await(null==(y=(m=this.options).onError)?void 0:y.call(m,t,this.state.variables,this.state.context)),await(null==(_=(b=this.mutationCache.config).onSettled)?void 0:_.call(b,void 0,t,this.state.variables,this.state.context,this)),await(null==(g=(w=this.options).onSettled)?void 0:g.call(w,void 0,t,this.state.variables,this.state.context)),t}finally{this.dispatch({type:"error",error:t})}}}dispatch(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"loading":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!A(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...e,...t.state}}})(this.state),S.batch((()=>{this.observers.forEach((e=>{e.onMutationUpdate(t)})),this.mutationCache.notify({mutation:this,type:"updated",action:t})}))}}class L extends O{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,e,r){const n=new R({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(e),state:r,defaultOptions:e.mutationKey?t.getMutationDefaults(e.mutationKey):void 0});return this.add(n),n}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter((e=>e!==t)),this.notify({type:"removed",mutation:t})}clear(){S.batch((()=>{this.mutations.forEach((t=>{this.remove(t)}))}))}getAll(){return this.mutations}find(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find((e=>c(t,e)))}findAll(t){return this.mutations.filter((e=>c(t,e)))}notify(t){S.batch((()=>{this.listeners.forEach((({listener:e})=>{e(t)}))}))}resumePausedMutations(){var t;return this.resuming=(null!=(t=this.resuming)?t:Promise.resolve()).then((()=>{const t=this.mutations.filter((t=>t.state.isPaused));return S.batch((()=>t.reduce(((t,e)=>t.then((()=>e.continue().catch(o)))),Promise.resolve())))})).then((()=>{this.resuming=void 0})),this.resuming}}function I(t,e){return null==t.getNextPageParam?void 0:t.getNextPageParam(e[e.length-1],e)}class z{constructor(t={}){this.queryCache=t.queryCache||new M,this.mutationCache=t.mutationCache||new L,this.logger=t.logger||w,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=E.subscribe((()=>{E.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=x.subscribe((()=>{x.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})))}unmount(){var t,e;this.mountCount--,0===this.mountCount&&(null==(t=this.unsubscribeFocus)||t.call(this),this.unsubscribeFocus=void 0,null==(e=this.unsubscribeOnline)||e.call(this),this.unsubscribeOnline=void 0)}isFetching(t,e){const[r]=a(t,e);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,e){var r;return null==(r=this.queryCache.find(t,e))?void 0:r.state.data}ensureQueryData(t,e,r){const n=i(t,e,r),o=this.getQueryData(n.queryKey);return o?Promise.resolve(o):this.fetchQuery(n)}getQueriesData(t){return this.getQueryCache().findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,r){const n=this.queryCache.find(t),o=function(t,e){return"function"==typeof t?t(e):t}(e,null==n?void 0:n.state.data);if(void 0===o)return;const a=i(t),s=this.defaultQueryOptions(a);return this.queryCache.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return S.batch((()=>this.getQueryCache().findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,r)]))))}getQueryState(t,e){var r;return null==(r=this.queryCache.find(t,e))?void 0:r.state}removeQueries(t,e){const[r]=a(t,e),n=this.queryCache;S.batch((()=>{n.findAll(r).forEach((t=>{n.remove(t)}))}))}resetQueries(t,e,r){const[n,o]=a(t,e,r),i=this.queryCache,s={type:"active",...n};return S.batch((()=>(i.findAll(n).forEach((t=>{t.reset()})),this.refetchQueries(s,o))))}cancelQueries(t,e,r){const[n,i={}]=a(t,e,r);void 0===i.revert&&(i.revert=!0);const s=S.batch((()=>this.queryCache.findAll(n).map((t=>t.cancel(i)))));return Promise.all(s).then(o).catch(o)}invalidateQueries(t,e,r){const[n,o]=a(t,e,r);return S.batch((()=>{var t,e;if(this.queryCache.findAll(n).forEach((t=>{t.invalidate()})),"none"===n.refetchType)return Promise.resolve();const r={...n,type:null!=(t=null!=(e=n.refetchType)?e:n.type)?t:"active"};return this.refetchQueries(r,o)}))}refetchQueries(t,e,r){const[n,i]=a(t,e,r),s=S.batch((()=>this.queryCache.findAll(n).filter((t=>!t.isDisabled())).map((t=>{var e;return t.fetch(void 0,{...i,cancelRefetch:null==(e=null==i?void 0:i.cancelRefetch)||e,meta:{refetchPage:n.refetchPage}})}))));let c=Promise.all(s).then(o);return null!=i&&i.throwOnError||(c=c.catch(o)),c}fetchQuery(t,e,r){const n=i(t,e,r),o=this.defaultQueryOptions(n);void 0===o.retry&&(o.retry=!1);const a=this.queryCache.build(this,o);return a.isStaleByTime(o.staleTime)?a.fetch(o):Promise.resolve(a.state.data)}prefetchQuery(t,e,r){return this.fetchQuery(t,e,r).then(o).catch(o)}fetchInfiniteQuery(t,e,r){const n=i(t,e,r);return n.behavior={onFetch:t=>{t.fetchFn=()=>{var e,r,n,o,i,a;const s=null==(e=t.fetchOptions)||null==(r=e.meta)?void 0:r.refetchPage,c=null==(n=t.fetchOptions)||null==(o=n.meta)?void 0:o.fetchMore,u=null==c?void 0:c.pageParam,l="forward"===(null==c?void 0:c.direction),f="backward"===(null==c?void 0:c.direction),d=(null==(i=t.state.data)?void 0:i.pages)||[],h=(null==(a=t.state.data)?void 0:a.pageParams)||[];let p=h,v=!1;const y=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),m=(t,e,r,n)=>(p=n?[e,...p]:[...p,e],n?[r,...t]:[...t,r]),_=(e,r,n,o)=>{if(v)return Promise.reject("Cancelled");if(void 0===n&&!r&&e.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:n,meta:t.options.meta};var a;a=i,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>{var e,r;return null!=(e=t.signal)&&e.aborted?v=!0:null==(r=t.signal)||r.addEventListener("abort",(()=>{v=!0})),t.signal}});const s=y(i);return Promise.resolve(s).then((t=>m(e,n,t,o)))};let b;if(d.length)if(l){const e=void 0!==u,r=e?u:I(t.options,d);b=_(d,e,r)}else if(f){const e=void 0!==u,r=e?u:function(t,e){return null==t.getPreviousPageParam?void 0:t.getPreviousPageParam(e[0],e)}(t.options,d);b=_(d,e,r,!0)}else{p=[];const e=void 0===t.options.getNextPageParam;b=s&&d[0]&&!s(d[0],0,d)?Promise.resolve(m([],h[0],d[0])):_([],e,h[0]);for(let r=1;r<d.length;r++)b=b.then((n=>{if(!s||!d[r]||s(d[r],r,d)){const o=e?h[r]:I(t.options,n);return _(n,e,o)}return Promise.resolve(m(n,h[r],d[r]))}))}else b=_([]);return b.then((t=>({pages:t,pageParams:p})))}}},this.fetchQuery(n)}prefetchInfiniteQuery(t,e,r){return this.fetchInfiniteQuery(t,e,r).then(o).catch(o)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,e){const r=this.queryDefaults.find((e=>l(t)===l(e.queryKey)));r?r.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})}getQueryDefaults(t){if(!t)return;const e=this.queryDefaults.find((e=>f(t,e.queryKey)));return null==e?void 0:e.defaultOptions}setMutationDefaults(t,e){const r=this.mutationDefaults.find((e=>l(t)===l(e.mutationKey)));r?r.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})}getMutationDefaults(t){if(!t)return;const e=this.mutationDefaults.find((e=>f(t,e.mutationKey)));return null==e?void 0:e.defaultOptions}defaultQueryOptions(t){if(null!=t&&t._defaulted)return t;const e={...this.defaultOptions.queries,...this.getQueryDefaults(null==t?void 0:t.queryKey),...t,_defaulted:!0};return!e.queryHash&&e.queryKey&&(e.queryHash=u(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.useErrorBoundary&&(e.useErrorBoundary=!!e.suspense),e}defaultMutationOptions(t){return null!=t&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==t?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}}},s={};function c(t){var e=s[t];if(void 0!==e)return e.exports;var r=s[t]={id:t,loaded:!1,exports:{}};return a[t](r,r.exports,c),r.loaded=!0,r.exports}c.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return c.d(e,{a:e}),e},c.d=(t,e)=>{for(var r in e)c.o(e,r)&&!c.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var u={};return(()=>{"use strict";c.d(u,{default:()=>D});var t=c("react"),e=c.n(t),r=c("@deriv/components"),n=c("@deriv/translations"),o=c("@deriv/shared"),i=c("./src/Stores/Modules/CFD/cfd-store.js"),a=c("./src/Containers/cfd-change-password-confirmation.tsx"),s=function(t){var i=t.platform,a=t.onConfirm;return e().createElement("div",{className:"cfd-change-password"},e().createElement(r.Icon,{className:"cfd-change-password__icon",icon:i===o.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),e().createElement(r.Text,{as:"p",align:"center",size:"s",weight:"bold"},e().createElement(n.Localize,{i18n_default_text:"{{platform}} password",values:{platform:(0,o.getCFDPlatformLabel)(i)}})),e().createElement(r.Text,{as:"p",align:"center",className:"cfd-change-password__description",size:"xs"},i===o.CFD_PLATFORMS.MT5?e().createElement(n.Localize,{i18n_default_text:"Use this password to log in to your Deriv MT5 accounts on the desktop, web, and mobile apps."}):e().createElement(n.Localize,{i18n_default_text:"Use this password to log in to your Deriv X accounts on the web and mobile apps."})),e().createElement(r.Button,{className:"dc-btn dc-btn--primary dc-btn__large dc-modal__container_cfd-reset-password-modal__button",onClick:a},e().createElement(r.Text,{size:"xs",weight:"bold",color:"colored-background"},e().createElement(n.Localize,{i18n_default_text:"Change password"}))))},l=function(t){var i=t.email,a=t.platform,s=t.account_group,c=e().useCallback((function(){var t=a===o.CFD_PLATFORMS.MT5?1:2;"real"===s?t=Number("".concat(t,"0")):"demo"===s&&(t=Number("".concat(t,"1")));var e=a===o.CFD_PLATFORMS.MT5?"trading_platform_mt5_password_reset":"trading_platform_dxtrade_password_reset";o.WS.verifyEmail(i,e,{url_parameters:{redirect_to:t}})}),[i,a,s]);return e().useEffect((function(){c()}),[c]),e().createElement(r.SendEmailTemplate,{title:(0,n.localize)("We've sent you an email"),subtitle:(0,n.localize)("Please click on the link in the email to change your {{platform}} password.",{platform:(0,o.getCFDPlatformLabel)(a)}),lbl_no_receive:(0,n.localize)("Didn't receive the email?"),txt_resend:(0,n.localize)("Resend email"),txt_resend_in:(0,n.localize)("Resend email in"),onClickSendEmail:c})};const f=function(t){var o=t.platform,i=t.email,c=t.account_group,u=e().useRef(),f=[{component:e().createElement(s,{platform:o,onConfirm:function(){var t;return null===(t=u.current)||void 0===t?void 0:t.goNextStep()}})},{component:e().createElement(a.Z,{confirm_label:(0,n.localize)("Confirm"),platform:o,onConfirm:function(){var t;return null===(t=u.current)||void 0===t?void 0:t.goNextStep()},onCancel:function(){var t;return null===(t=u.current)||void 0===t?void 0:t.goPrevStep()}})},{component:e().createElement(l,{platform:o,email:i,account_group:c})}];return e().createElement("div",{className:"cfd-trading-password"},e().createElement(r.MultiStep,{ref:u,steps:f}))};var d=c("../../node_modules/prop-types/index.js"),h=c.n(d),p=c("../../node_modules/formik/dist/formik.esm.js");function v(){return v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v.apply(this,arguments)}var y=function(t){var o=t.toggleModal,i=t.is_investor;return e().createElement("div",{className:"cfd-password-manager__success"},e().createElement(r.Icon,{icon:"IcPasswordUpdated",size:128}),e().createElement(r.Text,{as:"p",size:"xxs",align:"center"},i?e().createElement(n.Localize,{i18n_default_text:"Your investor password has been changed."}):e().createElement(n.Localize,{i18n_default_text:"Your password has been changed."})),e().createElement(r.Button,{onClick:o,className:"cfd-password-manager__success-btn",primary:!0,large:!0},e().createElement("p",{className:"dc-btn__text"},(0,n.localize)("OK"))))},m=function(t){var i=t.error_message_investor,a=t.is_submit_success_investor,s=t.multi_step_ref,c=t.onSubmit,u=t.setPasswordType,l=t.toggleModal,f=t.validatePassword;if(a)return e().createElement(y,{toggleModal:l,is_investor:!0});var d={old_password:"",new_password:"",password_type:"".concat("investor")};return e().createElement("div",{className:"cfd-password-manager__investor-wrapper"},e().createElement(r.Text,{as:"p",size:"xs",className:"cfd-password-manager--paragraph"},e().createElement(n.Localize,{i18n_default_text:"Use this password to grant viewing access to another user. While they may view your trading account, they will not be able to trade or take any other actions."})),e().createElement(r.Text,{as:"p",size:"xs",className:"cfd-password-manager--paragraph"},e().createElement(n.Localize,{i18n_default_text:"If this is the first time you try to create a password, or you have forgotten your password, please reset it."})),i&&e().createElement(r.Text,{as:"p",color:"loss-danger",size:"xs",className:"cfd-password-manager--error-message","data-testid":"dt_error_message_investor"},i),e().createElement(p.J9,{initialValues:d,validate:f,onSubmit:c},(function(t){var i=t.isSubmitting,a=t.errors,c=t.setFieldTouched,l=t.values,f=t.touched;return e().createElement(p.l0,{className:"cfd-password-manager__investor-form",noValidate:!0},e().createElement(p.gN,{name:"old_password"},(function(t){var o=t.field;return e().createElement(r.PasswordInput,v({},o,{autoComplete:"current-password",label:(0,n.localize)("Current investor password"),error:f.old_password&&a.old_password,required:!0}))})),e().createElement(p.gN,{name:"new_password"},(function(t){var i=t.field;return e().createElement(r.PasswordMeter,{input:i.value,has_error:!(!f.new_password||!a.new_password),custom_feedback_messages:(0,o.getErrorMessages)().password_warnings},(function(t){var o=t.has_warning;return e().createElement(r.PasswordInput,v({},i,{autoComplete:"new-password",label:(0,n.localize)("New investor password"),hint:!o&&(0,n.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:f.new_password&&a.new_password,onChange:function(t){c("new_password",!0,!0),i.onChange(t)},className:"cfd-password-manager__new-password",required:!0}))}))})),e().createElement("div",{className:"cfd-password-manager__actions"},e().createElement(r.Button,{className:"cfd-password-manager--button",is_disabled:i||!l.old_password||!l.new_password||Object.keys(a).length>0,is_loading:i,text:(0,n.localize)("Change investor password"),primary:!0,large:!0}),e().createElement(r.Button,{className:"cfd-password-manager--button",type:"button",onClick:function(){var t;u("investor"),null===(t=s.current)||void 0===t||t.goNextStep()},text:(0,n.localize)("Create or reset investor password"),tertiary:!0,large:!0})))})))};m.propTypes={error_message_investor:h().string,is_submit_success_investor:h().bool,multi_step_ref:h().object,onSubmit:h().func,setPasswordType:h().func,toggleModal:h().func,validatePassword:h().func};const _=m;var b=c("../stores/src/index.ts"),g=c("./src/Stores/Modules/CFD/Helpers/useCfdStores.tsx");function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(){S=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new P(o||[]);return n(a,"_invoke",{value:O(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(A([])));m&&m!==e&&r.call(m,i)&&(v=m);var _=p.prototype=d.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function o(n,i,a,s){var c=l(t[n],t,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==w(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,n(_,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:h,configurable:!0}),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},b(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===w(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var T=function(t){var r=t.count_from,n=void 0===r?60:r,o=t.onTimeout,i=P(e().useState(n),2),a=i[0],s=i[1];return e().useEffect((function(){var t;return 0!==a?t=setTimeout((function(){s(a-1)}),1e3):o(),function(){clearTimeout(t)}}),[a]),e().createElement("span",{className:"countdown"},a)},k=function(t){var o=t.sendVerifyEmail,i=t.account_type,a=t.account_group,s=t.server,c=t.password_type,u=P(e().useState(!1),2),l=u[0],f=u[1],d=P(e().useState(!1),2),h=d[0],p=d[1];return e().useEffect((function(){localStorage.setItem("cfd_reset_password_intent",[s,a,i].join(".")),localStorage.setItem("cfd_reset_password_type",c),o()}),[]),e().createElement("div",{className:"cfd-verification-email-sent"},e().createElement(r.Icon,{icon:"IcEmailSent",size:128}),e().createElement("h2",{className:"cfd-verification-email-sent__title"},e().createElement(n.Localize,{i18n_default_text:"We've sent you an email"})),e().createElement(r.Text,{as:"p",size:"xs",align:"center"},e().createElement(n.Localize,{i18n_default_text:"Please click on the link in the email to reset your password."})),!l&&e().createElement(r.Button,{className:"cfd-verification-email-sent__resend-button",primary:!0,onClick:function(){f(!0)}},e().createElement(n.Localize,{i18n_default_text:"Didn't receive the email?"})),l&&e().createElement(e().Fragment,null,e().createElement(r.Text,{as:"p",size:"xs",align:"center",weight:"bold",className:"cfd-verification-email-sent__title--sub"},e().createElement(n.Localize,{i18n_default_text:"Didn't receive the email?"})),e().createElement(r.Text,{as:"p",size:"xs",align:"center"},e().createElement(n.Localize,{i18n_default_text:"Check your spam or junk folder. If it's not there, try resending the email."})),e().createElement(r.Button,{className:"cfd-verification-email-sent__resend-button",large:!0,primary:!0,disabled:h,onClick:function(){o(),p(!0)}},!h&&e().createElement(n.Localize,{i18n_default_text:"Resend email"}),h&&e().createElement(e().Fragment,null,e().createElement(n.Localize,{i18n_default_text:"Resend in <0 /> seconds",components:[e().createElement(T,{key:0,onTimeout:function(){return p(!1)},count_from:60})]})))))},C=function(t){var o=t.multi_step_ref,i=t.steps;return e().createElement(r.MultiStep,{ref:o,steps:i,className:"cfd-password-manager",lbl_previous:(0,n.localize)("Back")})},F=function(t){var a=t.toggleModal,s=t.selected_login,c=t.email,u=t.setPasswordType,l=t.multi_step_ref,d=t.platform,h=t.onChangeActiveTabIndex,p=t.account_group,v=P(e().useState(0),2),y=v[0],m=v[1],b=P(e().useState(""),2),g=b[0],w=b[1],O=P(e().useState(!1),2),j=O[0],A=O[1],T="calc(100vh - 84px - 5.6rem - 8.8rem - 4rem)",k=function(t){var e={};return(0,o.validLength)(t.new_password,{min:8,max:25})?(0,o.validPassword)(t.new_password)?t.new_password.toLowerCase()===c.toLowerCase()&&(e.new_password=(0,n.localize)("Your password cannot be the same as your email address.")):e.new_password=(0,o.getErrorMessages)().password():e.new_password=(0,n.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),t.old_password||void 0===t.old_password||(e.old_password=(0,n.localize)("This field is required")),e},C=e().useCallback(function(){var t,e=(t=S().mark((function t(e){var r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,i.default.changePassword(E({login:s},e));case 4:(r=t.sent)?w(r):(w(""),A(!0));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){x(i,n,o,a,s,"next",t)}function s(t){x(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),[s]),F=e().createElement(e().Fragment,null,e().createElement(r.DesktopWrapper,null,e().createElement(r.ThemedScrollbars,{height:T,is_bypassed:(0,o.isMobile)(),autohide:!1},e().createElement(f,{toggleModal:a,platform:d,email:c,account_group:p}))),e().createElement(r.MobileWrapper,null,e().createElement(r.Div100vhContainer,{className:"cfd-password-manager__scroll-wrapper",height_offset:"120px"},e().createElement(f,{toggleModal:a,platform:d,email:c,account_group:p}))));return d===o.CFD_PLATFORMS.DXTRADE?F:e().createElement(r.Tabs,{active_index:y,onTabItemClick:function(t){m(t),h(t),w(""),A(!1)},top:!0},e().createElement("div",{label:(0,n.localize)("{{platform}} password",{platform:(0,o.getCFDPlatformLabel)(d)})},F),e().createElement("div",{label:(0,n.localize)("Investor password")},e().createElement(r.DesktopWrapper,null,e().createElement(r.ThemedScrollbars,{height:T},e().createElement(_,{is_submit_success_investor:j,toggleModal:a,error_message_investor:g,validatePassword:k,onSubmit:C,setPasswordType:u,multi_step_ref:l}))),e().createElement(r.MobileWrapper,null,e().createElement(r.Div100vhContainer,{className:"cfd-password-manager__scroll-wrapper",height_offset:"120px"},e().createElement(_,{is_submit_success_investor:j,toggleModal:a,error_message_investor:g,validatePassword:k,onSubmit:C,setPasswordType:u,multi_step_ref:l})))))};const D=(0,b.Pi)((function(t){var i=t.is_visible,a=t.platform,s=t.selected_login,c=t.toggleModal,u=t.selected_account_type,l=t.selected_account_group,f=t.selected_server,d=(0,b.oR)(),h=d.client,p=d.ui,v=h.email,y=p.enableApp,m=p.disableApp,_=(0,g.A)().sendVerifyEmail,w=e().useRef(),S=P(e().useState(0),2),O=S[0],E=S[1],j=P(e().useState("main"),2),x=j[0],A=j[1];if(!s)return null;var T,D=[{component:e().createElement(F,{email:v,selected_login:s,toggleModal:c,setPasswordType:A,multi_step_ref:w,platform:a,onChangeActiveTabIndex:function(t){E(t)},account_group:l})},{component:e().createElement(k,{server:f,sendVerifyEmail:_,account_type:u,account_group:l,password_type:x})}];return e().createElement(e().Suspense,{fallback:e().createElement(r.UILoader,null)},e().createElement(r.DesktopWrapper,null,e().createElement(r.Modal,{className:"cfd-password-manager__modal",disableApp:m,enableApp:y,is_open:i,title:(0,n.localize)("Manage {{platform}} password",{platform:(0,o.getCFDPlatformLabel)(a)}),toggleModal:c,height:"688px",width:"904px",should_header_stick_body:!1},e().createElement(C,{steps:D,multi_step_ref:w}))),e().createElement(r.MobileWrapper,null,e().createElement(r.PageOverlay,{is_open:i,portal_id:"deriv_app",header:(T=O,0===T?(0,n.localize)("Manage {{platform}} password",{platform:(0,o.getCFDPlatformLabel)(a)}):(0,n.localize)("Manage password")),onClickClose:c},e().createElement(C,{steps:D,multi_step_ref:w}))))}))})(),u.default})()));